{"version":3,"sources":["../../../../src/internal/observable/from.ts","../../../../src/internal/observable/empty.ts","../../../../src/internal/util/isNumeric.ts","../../../../src/internal/operators/mergeMap.ts","../../../../src/internal/util/noop.ts","store/caches.js","../../../../src/internal/scheduled/scheduled.ts","../../../../src/internal/util/isInteropObservable.ts","../../../../src/internal/scheduled/scheduleObservable.ts","../../../../src/internal/scheduled/schedulePromise.ts","../../../../src/internal/util/isIterable.ts","../../../../src/internal/scheduled/scheduleIterable.ts","../../../../src/internal/observable/throwError.ts","../../../../src/internal/observable/defer.ts","../../../../src/internal/util/isDate.ts","../../../../src/internal/util/TimeoutError.ts","../../../../src/internal/operators/pluck.ts","../../../../src/internal/operators/switchMap.ts","store/lazyLoadAnimeList.js","epics/lazyLoadAnimeList.js","../../../../src/internal/operators/filter.ts","../../../../src/internal/observable/timer.ts","../../../../src/internal/operators/tap.ts","../../../../src/internal/operators/debounceTime.ts","../../../../src/internal/observable/iif.ts","../../../../src/internal/operators/retry.ts","store/updatedAnime.js","epics/updatedAnime.js","../../../../src/internal/operators/mergeMapTo.ts","../../../../src/internal/operators/timeoutWith.ts","../../../../src/internal/operators/timeout.ts","../../../../src/internal/operators/switchMapTo.ts","Functions/lazyLoadAnimeList.js","Hook/lazyLoadAnimeList.js","components/LazyLoadAnimeList/LazyLoadAnimeList.js"],"names":["from","input","scheduler","Observable","empty","isNumeric","val","concurrent","resultSelector","source","MergeMapOperator","MergeMapSubscriber","destination","project","Number","_this","_super","_next","value","push","_tryNext","result","index","error","err","active","_innerSub","innerSubscriber","innerSubscription","hasCompleted","unsubscribe","prototype","notifyNext","notifyComplete","buffer","initialState","behaviorSubject","BehaviorSubject","state","cachesStore","subscribe","setState","currentState","ans","updateData","obj","next","scheduled","isInteropObservable","subscriber","sub","add","schedule","observable","complete","iterator","Subscription","Symbol_iterator","done","throwError","dispatch","_a","defer","observableFactory","isDate","TimeoutErrorImpl","Error","message","_i","length","plucker","props","x","i","p","currentProp","undefined","switchMap","SwitchMapOperator","call","SwitchMapSubscriber","tslib_1","SimpleInnerSubscriber","innerSubscribe","_unsubscribe","genreDetailData","pageOnDestroy","pageIsLoaded","isChangeView","isStopScrollingUpdated","currentPageOnDestroy","query","pageGenre","numberAnimeShowMore","parseInt","window","innerHeight","width","height","quantityItemPerRow","widthItem","heightItem","rowStart","rowEnd","widthContainerList","trigger","subject","lazyLoadAnimeListStream","pipe","v","init","data","updateDataQuick","keys","Object","forEach","key","fetchDataGenreAnimeList$","page","url","idCartoonUser","searchBy","method","replace","includes","headers","authorization","iif","genres","timer","map","filter","tap","mergeMapTo","mergeMap","ajax","timeout","pluck","catchError","of","updatePageScrollingWindow$","fromEvent","document","body","scrollHeight","scrollY","debounceTime","calculateRowStartEnd","containerListRef","offsetTopContainerList","current","offsetTop","currentRow","Math","ceil","numberRowToFillTheScreen","predicate","thisArg","FilterOperator","FilterSubscriber","dueTime","period","periodOrScheduler","async","closed","nextOrObserver","DoOperator","TapSubscriber","observerOrNext","noop","_tapComplete","_tapError","isFunction","_context","_tapNext","DebounceTimeOperator","DebounceTimeSubscriber","clearDebounce","_complete","hasValue","lastValue","debouncedSubscription","Subscriber","trueResult","count","RetryOperator","RetrySubscriber","isStopped","currentPageBoxMovie","currentPageUpdatedMovie","updatedMovie","boxMovie","lastPageUpdatedMovie","lastPageBoxMovie","subNavToggle","triggerFetch","updatedAnimeStream","fetchUpdatedMovie$","switchMapTo","retry","fetchBoxMovie$","TimeoutWithOperator","withObservable","waitFor","TimeoutWithSubscriber","scheduleTimeout","action","innerObservable","fetchDataGenreAnimeList","subscription","updatedAnime","alert","concat","pagination","has_next_page","useInitLazyLoadAnimeList","setLazyLoadState","useEffect","initLazyLoadAnimeList","useGenreIdChange","lazyLoadState","currentQuery","match","scroll","top","pageSplit","currentGenreId","genreIdChange","useUpdatePageScrollingWindow","subscription1","updatePageScrollingWindow","AnimeList","loadable","LazyLoadAnimeList","useState","useCookies","cookie","animeListRef","useRef","style","backgroundImage","backgroundSize","useFetchDataGenreAnimeList","className","to","virtual","lazy","CircularProgress","color","size"],"mappings":"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","file":"static/js/11.d481f930.chunk.js","sourcesContent":[null,null,null,null,null,"import { BehaviorSubject } from \"rxjs\";\r\nconst initialState = {};\r\nconst behaviorSubject = new BehaviorSubject(initialState);\r\nlet state = initialState;\r\nconst cachesStore = {\r\n  subscribe: (setState) =>\r\n    behaviorSubject.subscribe((value) => setState(value)),\r\n  currentState: () => {\r\n    let ans;\r\n    behaviorSubject.subscribe((value) => {\r\n      ans = value;\r\n    });\r\n    return ans;\r\n  },\r\n  updateData: (obj) => {\r\n    state = {\r\n      ...state,\r\n      ...obj,\r\n    };\r\n    behaviorSubject.next(state);\r\n  },\r\n};\r\n\r\nexport default cachesStore;\r\n",null,null,null,null,null,null,null,null,null,null,null,null,"/* eslint-disable no-unused-vars */\r\nimport { BehaviorSubject } from \"rxjs\";\r\nconst initialState = {\r\n  genreDetailData: [],\r\n  pageOnDestroy: null,\r\n  pageIsLoaded:null,\r\n  isChangeView: false,\r\n  isStopScrollingUpdated: false,\r\n  currentPageOnDestroy: null,\r\n  query:null,\r\n  pageGenre: 1,\r\n  numberAnimeShowMore: (parseInt(window.innerHeight / 376) + 1) * 5,\r\n  width: null,\r\n  height: null,\r\n  quantityItemPerRow: 5,\r\n  widthItem: null,\r\n  heightItem: null,\r\n  rowStart: 0,\r\n  rowEnd: 0,\r\n  widthContainerList: \"100%\",\r\n  trigger:true,\r\n};\r\n\r\nconst subject = new BehaviorSubject(initialState);\r\nlet state = initialState;\r\nconst lazyLoadAnimeListStore = {\r\n  initialState,\r\n  subscribe: (setState) => subject.pipe().subscribe((v) => setState(v)),\r\n  currentState: () => {\r\n    let ans;\r\n    subject.subscribe((v) => (ans = v));\r\n    return ans || initialState;\r\n  },\r\n  init: () => {\r\n    subject.next(state);\r\n  },\r\n  updateData: (data = initialState) => {\r\n    state = {\r\n      ...state,\r\n      ...data,\r\n    };\r\n    subject.next(state);\r\n  },\r\n  updateDataQuick: (data = initialState) => {\r\n    const keys = Object.keys(data);\r\n    keys.forEach((key) => {\r\n      state[key] = data[key];\r\n    });\r\n  },\r\n};\r\n\r\nexport default lazyLoadAnimeListStore;\r\n","import { fromEvent, iif, of, timer } from \"rxjs\";\r\nimport { ajax } from \"rxjs/ajax\";\r\nimport {\r\n  catchError,\r\n  debounceTime,\r\n  filter,\r\n  mergeMap,\r\n  mergeMapTo,\r\n  pluck,\r\n  tap,\r\n  timeout,\r\n  map,\r\n} from \"rxjs/operators\";\r\nimport cachesStore from \"../store/caches\";\r\n\r\nimport lazyLoadAnimeListStore from \"../store/lazyLoadAnimeList\";\r\n\r\nexport const lazyLoadAnimeListStream = lazyLoadAnimeListStore;\r\n\r\nexport function fetchDataGenreAnimeList$(\r\n  page,\r\n  url,\r\n  idCartoonUser,\r\n  searchBy,\r\n  query\r\n) {\r\n  let obj = {\r\n    method: \"GET\",\r\n    url: url.replace(\"{page}\", page),\r\n  };\r\n  if ([\"latest\", \"box\"].includes(searchBy)) {\r\n    obj.headers = {\r\n      authorization: `Bearer ${idCartoonUser}`,\r\n    };\r\n  }\r\n  return iif(\r\n    () =>\r\n      cachesStore.currentState().genres &&\r\n      cachesStore.currentState().genres[url.replace(\"{page}\", page)],\r\n    timer(0).pipe(\r\n      map(() => cachesStore.currentState().genres[url.replace(\"{page}\", page)])\r\n    ),\r\n    timer(0).pipe(\r\n      filter(() => page === parseInt(page)),\r\n      tap(() => {\r\n        lazyLoadAnimeListStream.updateData({\r\n          pageIsLoaded: page,\r\n        });\r\n      }),\r\n      mergeMapTo(\r\n        iif(\r\n          () =>\r\n            cachesStore.currentState().genres &&\r\n            cachesStore.currentState().genres[query] &&\r\n            cachesStore.currentState().genres[query][page],\r\n          timer(0).pipe(\r\n            map(() => cachesStore.currentState().genres[query][page])\r\n          ),\r\n          timer(0).pipe(\r\n            mergeMap(() =>\r\n              ajax(obj).pipe(\r\n                timeout(5000),\r\n                pluck(\"response\"),\r\n                catchError(() => {\r\n                  return of({ error: true });\r\n                })\r\n              )\r\n            )\r\n          )\r\n        )\r\n      )\r\n    )\r\n  );\r\n}\r\n\r\nexport function updatePageScrollingWindow$() {\r\n  return fromEvent(window, \"scroll\").pipe(\r\n    filter(\r\n      () =>\r\n        document.body.scrollHeight - (window.scrollY + window.innerHeight) < 0\r\n    ),\r\n    debounceTime(300)\r\n  );\r\n}\r\n\r\nexport function calculateRowStartEnd(containerListRef, heightItem) {\r\n  const offsetTopContainerList = containerListRef.current.offsetTop;\r\n  const currentRow = Math.ceil(\r\n    (-offsetTopContainerList + window.scrollY + window.innerHeight) / heightItem\r\n  );\r\n  const numberRowToFillTheScreen =\r\n    Math.ceil(window.innerHeight / heightItem) +\r\n    lazyLoadAnimeListStream.currentState().quantityItemPerRow;\r\n  const rowStart =\r\n    currentRow - numberRowToFillTheScreen >= 1\r\n      ? currentRow - numberRowToFillTheScreen\r\n      : 1;\r\n  const rowEnd = currentRow + numberRowToFillTheScreen;\r\n  return { rowStart, rowEnd };\r\n}\r\n",null,null,null,null,null,null,"import { BehaviorSubject } from \"rxjs\";\r\nconst initialState = {\r\n  currentPageBoxMovie: 1,\r\n  currentPageUpdatedMovie: 1,\r\n  updatedMovie: [],\r\n  boxMovie: [],\r\n  lastPageUpdatedMovie: 1,\r\n  lastPageBoxMovie: 1,\r\n  subNavToggle: null,\r\n  triggerFetch:false\r\n};\r\nconst behaviorSubject = new BehaviorSubject(initialState);\r\n\r\nlet state = initialState;\r\n\r\nconst updatedAnimeStore = {\r\n  initialState,\r\n  subscribe: (setState) => behaviorSubject.subscribe((v) => setState(v)),\r\n  currentState: () => {\r\n    let ans;\r\n    behaviorSubject.subscribe((v) => {\r\n      ans = v;\r\n    });\r\n    return ans || initialState;\r\n  },\r\n  init: () => {\r\n    behaviorSubject.next(state);\r\n  },\r\n  updateData: (data = initialState) => {\r\n    state = {\r\n      ...state,\r\n      ...data,\r\n    };\r\n    behaviorSubject.next(state);\r\n  },\r\n  updateDataQuick: (data = initialState) => {\r\n    const keys = Object.keys(data);\r\n    keys.forEach((key) => {\r\n      state[key] = data[key];\r\n    });\r\n  },\r\n};\r\n\r\nexport default updatedAnimeStore;\r\n","import { from, of, timer } from \"rxjs\";\r\nimport { ajax } from \"rxjs/ajax\";\r\nimport {\r\n  catchError,\r\n  pluck,\r\n  retry,\r\n  switchMap,\r\n  switchMapTo,\r\n} from \"rxjs/operators\";\r\nimport updatedAnimeStore from \"../store/updatedAnime\";\r\n\r\nexport const updatedAnimeStream = updatedAnimeStore;\r\n\r\nexport const fetchUpdatedMovie$ = () => {\r\n  return timer(0).pipe(\r\n    switchMapTo(\r\n      ajax({\r\n        url:\r\n          \"/api/movies/latest?page=\" +\r\n          updatedAnimeStream.currentState().currentPageUpdatedMovie,\r\n      }).pipe(\r\n        pluck(\"response\", \"message\"),\r\n        retry(20),\r\n        catchError(() => of([]))\r\n      )\r\n    )\r\n  );\r\n};\r\n\r\nexport const fetchBoxMovie$ = (idCartoonUser) => {\r\n  return timer(0).pipe(\r\n    switchMap(() =>\r\n      ajax({\r\n        url:\r\n          \"/api/movies/box?page=\" +\r\n          updatedAnimeStream.currentState().currentPageBoxMovie,\r\n        headers: {\r\n          authorization: `Bearer ${idCartoonUser}`,\r\n        },\r\n      }).pipe(\r\n        pluck(\"response\", \"message\"),\r\n        retry(20),\r\n        catchError((err) => from([]))\r\n      )\r\n    )\r\n  );\r\n};\r\n",null,null,null,null,"import {\r\n  fetchDataGenreAnimeList$,\r\n  lazyLoadAnimeListStream,\r\n  updatePageScrollingWindow$,\r\n} from \"../epics/lazyLoadAnimeList\";\r\nimport { updatedAnimeStream } from \"../epics/updatedAnime\";\r\nimport cachesStore from \"../store/caches\";\r\n\r\nexport const initLazyLoadAnimeList = (setLazyLoadState) => {\r\n  return () => {\r\n    const subscription = lazyLoadAnimeListStream.subscribe(setLazyLoadState);\r\n    lazyLoadAnimeListStream.init();\r\n    return () => {\r\n      subscription.unsubscribe();\r\n      lazyLoadAnimeListStream.updateDataQuick({ height: null });\r\n    };\r\n  };\r\n};\r\n\r\nexport const genreIdChange = (query, currentQuery) => {\r\n  return () => {\r\n    if (\r\n      lazyLoadAnimeListStream.currentState().genreDetailData.length === 0 ||\r\n      currentQuery !== query\r\n    ) {\r\n      const page = query.match(/page=[0-9]+/g)\r\n        ? parseInt(query.match(/page=[0-9]+/g)[0].replace(\"page=\", \"\"))\r\n        : 1;\r\n      window.scroll({\r\n        top: 0,\r\n      });\r\n      lazyLoadAnimeListStream.updateData({\r\n        genreDetailData: [],\r\n        pageGenre: +page,\r\n        pageIsLoaded: null,\r\n        pageSplit: 1,\r\n        query: null,\r\n        pageOnDestroy: null,\r\n        isStopScrollingUpdated: false,\r\n        currentGenreId: null,\r\n        trigger: !lazyLoadAnimeListStream.currentState().trigger,\r\n      });\r\n    }\r\n  };\r\n};\r\n\r\nexport const updatePageScrollingWindow = (isStopScrollingUpdated) => {\r\n  return () => {\r\n    const subscription1 = updatePageScrollingWindow$().subscribe(() => {\r\n      if (\r\n        lazyLoadAnimeListStream.currentState().pageGenre !==\r\n        lazyLoadAnimeListStream.currentState().pageIsLoaded\r\n      )\r\n        lazyLoadAnimeListStream.updateData({\r\n          pageGenre: lazyLoadAnimeListStream.currentState().pageGenre + 1,\r\n        });\r\n    });\r\n    if (isStopScrollingUpdated) {\r\n      subscription1 && subscription1.unsubscribe();\r\n    }\r\n    return () => {\r\n      subscription1 && subscription1.unsubscribe();\r\n    };\r\n  };\r\n};\r\n\r\nexport const fetchDataGenreAnimeList = (\r\n  pageGenre,\r\n  isStopScrollingUpdated,\r\n  genreDetailData,\r\n  query,\r\n  url,\r\n  searchBy,\r\n  idCartoonUser\r\n) => {\r\n  return () => {\r\n    let subscription;\r\n    if (\r\n      (pageGenre !== lazyLoadAnimeListStream.currentState().pageOnDestroy ||\r\n        lazyLoadAnimeListStream.currentState().genreDetailData.length === 0) &&\r\n      isStopScrollingUpdated === false\r\n    ) {\r\n      subscription = fetchDataGenreAnimeList$(\r\n        pageGenre,\r\n        url,\r\n        idCartoonUser,\r\n        searchBy,\r\n        query\r\n      ).subscribe((v) => {\r\n        if (v.error) alert(\"Something went wrong\");\r\n        if (!v.error) {\r\n          cachesStore.updateData({\r\n            genres: {\r\n              ...(cachesStore.currentState().genres || {}),\r\n              [url.replace(\"{page}\", pageGenre)]: v,\r\n            },\r\n          });\r\n          let updatedAnime;\r\n          if (\r\n            lazyLoadAnimeListStream.currentState().genreDetailData.length ===\r\n              0 ||\r\n            lazyLoadAnimeListStream.currentState().query !== query\r\n          ) {\r\n            updatedAnime = ![\"latest\", \"box\"].includes(searchBy)\r\n              ? v.data\r\n              : v.message.data;\r\n          } else {\r\n            updatedAnime = ![\"latest\", \"box\"].includes(searchBy)\r\n              ? genreDetailData.concat(v.data)\r\n              : genreDetailData.concat(v.message.data);\r\n          }\r\n\r\n          if (\r\n            (![\"latest\", \"box\"].includes(searchBy) &&\r\n              !v.pagination.has_next_page) ||\r\n            ([\"latest\", \"box\"].includes(searchBy) &&\r\n              !v.message.pagination.has_next_page)\r\n          ) {\r\n            lazyLoadAnimeListStream.updateData({\r\n              isStopScrollingUpdated: true,\r\n            });\r\n          }\r\n          if (searchBy === \"latest\") {\r\n            updatedAnimeStream.updateData({\r\n              currentPageUpdatedMovie: pageGenre,\r\n            });\r\n          }\r\n          if (searchBy === \"box\") {\r\n            updatedAnimeStream.updateData({\r\n              currentPageBoxMovie: pageGenre,\r\n            });\r\n          }\r\n          lazyLoadAnimeListStream.updateData({\r\n            genreDetailData: updatedAnime,\r\n            pageIsLoaded: null,\r\n            pageOnDestroy: lazyLoadAnimeListStream.currentState().pageGenre,\r\n            query,\r\n          });\r\n        } else {\r\n          lazyLoadAnimeListStream.updateData({\r\n            isStopScrollingUpdated: true,\r\n          });\r\n        }\r\n      });\r\n    }\r\n    return () => {\r\n      subscription && subscription.unsubscribe();\r\n    };\r\n  };\r\n};\r\n","import { useEffect } from \"react\";\r\nimport { lazyLoadAnimeListStream } from \"../epics/lazyLoadAnimeList\";\r\n\r\nimport {\r\n  genreIdChange,\r\n  initLazyLoadAnimeList,\r\n  updatePageScrollingWindow,\r\n  fetchDataGenreAnimeList,\r\n} from \"../Functions/lazyLoadAnimeList\";\r\n\r\nexport const useInitLazyLoadAnimeList = (setLazyLoadState) => {\r\n  useEffect(initLazyLoadAnimeList(setLazyLoadState), []);\r\n};\r\n\r\nexport const useGenreIdChange = (query, lazyLoadState) => {\r\n  useEffect(genreIdChange(query, lazyLoadState.query), [\r\n    query,\r\n    lazyLoadState.query,\r\n  ]);\r\n};\r\n\r\nexport const useUpdatePageScrollingWindow = (isStopScrollingUpdated) => {\r\n  useEffect(updatePageScrollingWindow(isStopScrollingUpdated), [\r\n    isStopScrollingUpdated,\r\n  ]);\r\n};\r\n\r\nexport const useFetchDataGenreAnimeList = (\r\n  {\r\n    pageGenre,\r\n    isStopScrollingUpdated,\r\n    genreDetailData,\r\n    currentGenreId,\r\n    trigger\r\n  } = lazyLoadAnimeListStream.currentState(),\r\n  query,\r\n  url,\r\n  searchBy,\r\n  idCartoonUser\r\n) => {\r\n  useEffect(\r\n    fetchDataGenreAnimeList(\r\n      pageGenre,\r\n      isStopScrollingUpdated,\r\n      genreDetailData,\r\n      query,\r\n      url,\r\n      searchBy,\r\n      idCartoonUser\r\n    ),\r\n    [pageGenre, query, currentGenreId, trigger]\r\n  );\r\n};\r\n","/* eslint-disable react-hooks/exhaustive-deps */\r\nimport './LazyLoadAnimeList.css';\r\n\r\nimport loadable from '@loadable/component';\r\nimport CircularProgress from '@material-ui/core/CircularProgress';\r\nimport React, { useRef, useState } from 'react';\r\nimport { useEffect } from 'react';\r\nimport { useCookies } from 'react-cookie';\r\nimport { Link } from 'react-router-dom';\r\n\r\nimport { lazyLoadAnimeListStream } from '../../epics/lazyLoadAnimeList';\r\nimport {\r\n  useFetchDataGenreAnimeList,\r\n  useGenreIdChange,\r\n  useInitLazyLoadAnimeList,\r\n  useUpdatePageScrollingWindow,\r\n} from '../../Hook/lazyLoadAnimeList';\r\n\r\nconst AnimeList = loadable(() =>\r\n  import(\"../../components/AnimeList/AnimeList\")\r\n);\r\n\r\nconst LazyLoadAnimeList = ({ url, query, searchBy }) => {\r\n  const [lazyLoadState, setLazyLoadState] = useState(\r\n    lazyLoadAnimeListStream.currentState()\r\n  );\r\n  const [cookie] = useCookies([\"idCartoonUser\"]);\r\n  const animeListRef = useRef();\r\n  useEffect(() => {\r\n    document.body.style.backgroundImage = `url(/background.jpg)`;\r\n    document.body.style.backgroundSize = \"cover\";\r\n  }, []);\r\n  useInitLazyLoadAnimeList(setLazyLoadState);\r\n  useGenreIdChange(query, lazyLoadState);\r\n  useUpdatePageScrollingWindow(lazyLoadState.isStopScrollingUpdated);\r\n  useFetchDataGenreAnimeList(\r\n    lazyLoadState,\r\n    query,\r\n    url,\r\n    searchBy,\r\n    cookie.idCartoonUser\r\n  );\r\n  return (\r\n    <div className=\"container-genre-detail\">\r\n      <Link\r\n        to={\r\n          ![\"latest\", \"box\"].includes(searchBy)\r\n            ? `/storage?${\r\n                query.match(/page=[0-9]+/g)\r\n                  ? query\r\n                      .replace(\r\n                        /page=[0-9]+/g,\r\n                        `page=${lazyLoadState.pageGenre}`\r\n                      )\r\n                      .replace(\"?\", \"\")\r\n                  : `${query !== \"\" ? \"&\" : \"\"}page=${\r\n                      lazyLoadState.pageGenre\r\n                    }` + query.replace(\"?\", \"\")\r\n              }`\r\n            : \"/\"\r\n        }\r\n        className=\"filter-icon\"\r\n      >\r\n        <i className=\"fas fa-filter\"></i>\r\n      </Link>\r\n      <h1>Storage</h1>\r\n      <AnimeList\r\n        virtual={true}\r\n        data={lazyLoadState.genreDetailData}\r\n        error={null}\r\n        lazy={true}\r\n        animeListRef={animeListRef}\r\n        searchBy={\r\n          [\"anime\", \"latest\", \"box\"].includes(searchBy) ? \"anime\" : searchBy\r\n        }\r\n      />\r\n\r\n      {!lazyLoadState.isStopScrollingUpdated && (\r\n        <div className=\"loading-symbol\">\r\n          <CircularProgress color=\"secondary\" size=\"3rem\" />\r\n        </div>\r\n      )}\r\n      {/* {lazyLoadState.isStopScrollingUpdated && <h1>End</h1>} */}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default LazyLoadAnimeList;\r\n"],"sourceRoot":""}