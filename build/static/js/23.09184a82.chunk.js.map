{"version":3,"sources":["../../../../src/internal/observable/empty.ts","store/caches.js","../../../../src/internal/observable/throwError.ts","../../../../src/internal/observable/defer.ts","../../../../src/internal/util/isDate.ts","../../../../src/internal/util/TimeoutError.ts","util/checkMobileDevice.js","store/lazyLoadAnimeList.js","epics/lazyLoadAnimeList.js","../../../../src/internal/operators/debounceTime.ts","components/AnimeList/AnimeList.js","../../../../src/internal/observable/iif.ts","../../../../src/internal/operators/mergeMapTo.ts","../../../../src/internal/operators/timeoutWith.ts","../../../../src/internal/operators/timeout.ts","../../../../src/internal/operators/takeWhile.ts"],"names":["empty","scheduler","initialState","behaviorSubject","BehaviorSubject","state","cachesStore","subscribe","setState","value","currentState","ans","updateData","obj","next","throwError","error","subscriber","dispatch","_a","defer","observableFactory","Observable","input","err","isDate","TimeoutErrorImpl","Error","message","mobileAndTabletCheck","a","check","navigator","userAgent","vendor","window","opera","test","substr","genreDetailData","pageOnDestroy","pageIsLoaded","isChangeView","isStopScrollingUpdated","currentPageOnDestroy","query","pageGenre","numberAnimeShowMore","parseInt","innerHeight","width","height","quantityItemPerRow","widthItem","heightItem","rowStart","rowEnd","widthContainerList","trigger","subject","lazyLoadAnimeListStream","pipe","v","init","data","updateDataQuick","keys","Object","forEach","key","fetchDataGenreAnimeList$","page","url","idCartoonUser","searchBy","method","replace","includes","headers","authorization","iif","genres","timer","map","filter","tap","mergeMapTo","mergeMap","ajax","timeout","pluck","catchError","of","updatePageScrollingWindow$","fromEvent","document","body","scrollHeight","scrollY","debounceTime","calculateRowStartEnd","containerListRef","offsetTopContainerList","current","offsetTop","currentRow","Math","ceil","numberRowToFillTheScreen","source","DebounceTimeOperator","dueTime","call","_super","DebounceTimeSubscriber","destination","_this","_next","clearDebounce","add","_complete","complete","hasValue","lastValue","debouncedSubscription","Subscriber","responsiveObject","maxWidth","minWidth","AnimeItem","loadable","handleResponsiveWidth","animeListRef","lazyLoadState","i","length","innerWidth","AnimeList","isWrap","lazy","virtual","isAllowDelete","type","useRef","useEffect","subscription","takeWhile","unsubscribe","offsetWidth","ref","className","style","position","anime","index","slice","display","alignItems","justifyContent","top","left","styleAnimeItem","color","size","margin","fontSize","trueResult","concurrent","resultSelector","TimeoutWithOperator","withObservable","waitFor","TimeoutWithSubscriber","prototype","scheduleTimeout","action","schedule","_unsubscribe","inclusive","TakeWhileOperator","predicate","TakeWhileSubscriber","result","nextOrComplete"],"mappings":"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","file":"static/js/23.09184a82.chunk.js","sourcesContent":[null,"import { BehaviorSubject } from \"rxjs\";\r\nconst initialState = {};\r\nconst behaviorSubject = new BehaviorSubject(initialState);\r\nlet state = initialState;\r\nconst cachesStore = {\r\n  subscribe: (setState) =>\r\n    behaviorSubject.subscribe((value) => setState(value)),\r\n  currentState: () => {\r\n    let ans;\r\n    behaviorSubject.subscribe((value) => {\r\n      ans = value;\r\n    });\r\n    return ans;\r\n  },\r\n  updateData: (obj) => {\r\n    state = {\r\n      ...state,\r\n      ...obj,\r\n    };\r\n    behaviorSubject.next(state);\r\n  },\r\n};\r\n\r\nexport default cachesStore;\r\n",null,null,null,null,"/* eslint-disable no-useless-escape */\r\nexport const mobileAndTabletCheck = () => {\r\n  let check = false;\r\n  (function (a) {\r\n    if (\r\n      /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(\r\n        a\r\n      ) ||\r\n      /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\r\n        a.substr(0, 4)\r\n      )\r\n    )\r\n      check = true;\r\n  })(navigator.userAgent || navigator.vendor || window.opera);\r\n  return check;\r\n};\r\n","/* eslint-disable no-unused-vars */\r\nimport { BehaviorSubject } from \"rxjs\";\r\nconst initialState = {\r\n  genreDetailData: [],\r\n  pageOnDestroy: null,\r\n  pageIsLoaded:null,\r\n  isChangeView: false,\r\n  isStopScrollingUpdated: false,\r\n  currentPageOnDestroy: null,\r\n  query:null,\r\n  pageGenre: 1,\r\n  numberAnimeShowMore: (parseInt(window.innerHeight / 376) + 1) * 5,\r\n  width: null,\r\n  height: null,\r\n  quantityItemPerRow: 5,\r\n  widthItem: null,\r\n  heightItem: null,\r\n  rowStart: 0,\r\n  rowEnd: 0,\r\n  widthContainerList: \"100%\",\r\n  trigger:true,\r\n};\r\n\r\nconst subject = new BehaviorSubject(initialState);\r\nlet state = initialState;\r\nconst lazyLoadAnimeListStore = {\r\n  initialState,\r\n  subscribe: (setState) => subject.pipe().subscribe((v) => setState(v)),\r\n  currentState: () => {\r\n    let ans;\r\n    subject.subscribe((v) => (ans = v));\r\n    return ans || initialState;\r\n  },\r\n  init: () => {\r\n    subject.next(state);\r\n  },\r\n  updateData: (data = initialState) => {\r\n    state = {\r\n      ...state,\r\n      ...data,\r\n    };\r\n    subject.next(state);\r\n  },\r\n  updateDataQuick: (data = initialState) => {\r\n    const keys = Object.keys(data);\r\n    keys.forEach((key) => {\r\n      state[key] = data[key];\r\n    });\r\n  },\r\n};\r\n\r\nexport default lazyLoadAnimeListStore;\r\n","import { fromEvent, iif, of, timer } from \"rxjs\";\r\nimport { ajax } from \"rxjs/ajax\";\r\nimport {\r\n  catchError,\r\n  debounceTime,\r\n  filter,\r\n  mergeMap,\r\n  mergeMapTo,\r\n  pluck,\r\n  tap,\r\n  timeout,\r\n  map,\r\n} from \"rxjs/operators\";\r\nimport cachesStore from \"../store/caches\";\r\n\r\nimport lazyLoadAnimeListStore from \"../store/lazyLoadAnimeList\";\r\n\r\nexport const lazyLoadAnimeListStream = lazyLoadAnimeListStore;\r\n\r\nexport function fetchDataGenreAnimeList$(\r\n  page,\r\n  url,\r\n  idCartoonUser,\r\n  searchBy,\r\n  query\r\n) {\r\n  let obj = {\r\n    method: \"GET\",\r\n    url: url.replace(\"{page}\", page),\r\n  };\r\n  if ([\"latest\", \"box\"].includes(searchBy)) {\r\n    obj.headers = {\r\n      authorization: `Bearer ${idCartoonUser}`,\r\n    };\r\n  }\r\n  return iif(\r\n    () =>\r\n      cachesStore.currentState().genres &&\r\n      cachesStore.currentState().genres[url.replace(\"{page}\", page)],\r\n    timer(0).pipe(\r\n      map(() => cachesStore.currentState().genres[url.replace(\"{page}\", page)])\r\n    ),\r\n    timer(0).pipe(\r\n      filter(() => page === parseInt(page)),\r\n      tap(() => {\r\n        lazyLoadAnimeListStream.updateData({\r\n          pageIsLoaded: page,\r\n        });\r\n      }),\r\n      mergeMapTo(\r\n        iif(\r\n          () =>\r\n            cachesStore.currentState().genres &&\r\n            cachesStore.currentState().genres[query] &&\r\n            cachesStore.currentState().genres[query][page],\r\n          timer(0).pipe(\r\n            map(() => cachesStore.currentState().genres[query][page])\r\n          ),\r\n          timer(0).pipe(\r\n            mergeMap(() =>\r\n              ajax(obj).pipe(\r\n                timeout(5000),\r\n                pluck(\"response\"),\r\n                catchError(() => {\r\n                  return of({ error: true });\r\n                })\r\n              )\r\n            )\r\n          )\r\n        )\r\n      )\r\n    )\r\n  );\r\n}\r\n\r\nexport function updatePageScrollingWindow$() {\r\n  return fromEvent(window, \"scroll\").pipe(\r\n    filter(\r\n      () =>\r\n        document.body.scrollHeight - (window.scrollY + window.innerHeight) < 0\r\n    ),\r\n    debounceTime(300)\r\n  );\r\n}\r\n\r\nexport function calculateRowStartEnd(containerListRef, heightItem) {\r\n  const offsetTopContainerList = containerListRef.current.offsetTop;\r\n  const currentRow = Math.ceil(\r\n    (-offsetTopContainerList + window.scrollY + window.innerHeight) / heightItem\r\n  );\r\n  const numberRowToFillTheScreen =\r\n    Math.ceil(window.innerHeight / heightItem) +\r\n    lazyLoadAnimeListStream.currentState().quantityItemPerRow;\r\n  const rowStart =\r\n    currentRow - numberRowToFillTheScreen >= 1\r\n      ? currentRow - numberRowToFillTheScreen\r\n      : 1;\r\n  const rowEnd = currentRow + numberRowToFillTheScreen;\r\n  return { rowStart, rowEnd };\r\n}\r\n",null,"import \"./AnimeList.css\";\r\n\r\nimport loadable from \"@loadable/component\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport { fromEvent, iif } from \"rxjs\";\r\n\r\nimport {\r\n  calculateRowStartEnd,\r\n  lazyLoadAnimeListStream,\r\n} from \"../../epics/lazyLoadAnimeList\";\r\nimport { debounceTime, takeWhile } from \"rxjs/operators\";\r\nimport { mobileAndTabletCheck } from \"../../util/checkMobileDevice\";\r\nconst responsiveObject = [\r\n  {\r\n    maxWidth: 100000,\r\n    minWidth: 1000,\r\n    quantityItemPerRow: 5,\r\n  },\r\n  {\r\n    maxWidth: 1000,\r\n    minWidth: 600,\r\n    quantityItemPerRow: 4,\r\n  },\r\n  {\r\n    maxWidth: 600,\r\n    minWidth: 500,\r\n    quantityItemPerRow: 3,\r\n  },\r\n  {\r\n    maxWidth: 500,\r\n    minWidth: 0,\r\n    quantityItemPerRow: 2,\r\n  },\r\n];\r\nconst AnimeItem = loadable(() => import(\"../AnimeItem/AnimeItem\"));\r\nconst AnimeList = ({\r\n  data,\r\n  error,\r\n  isWrap = true,\r\n  lazy = false,\r\n  empty = false,\r\n  virtual = false,\r\n  isAllowDelete = false,\r\n  searchBy,\r\n  type\r\n}) => {\r\n  const animeListRef = useRef();\r\n  const lazyLoadState = lazyLoadAnimeListStream.currentState();\r\n  useEffect(() => {\r\n    const subscription = iif(\r\n      () => mobileAndTabletCheck(),\r\n      fromEvent(window, \"scroll\").pipe(takeWhile(() => virtual)),\r\n      fromEvent(window, \"scroll\").pipe(\r\n        takeWhile(() => virtual),\r\n        debounceTime(50)\r\n      )\r\n    ).subscribe(() => {\r\n      const { rowStart, rowEnd } = calculateRowStartEnd(\r\n        animeListRef,\r\n        lazyLoadState.heightItem\r\n      );\r\n      if (\r\n        rowStart !== lazyLoadState.rowStart &&\r\n        rowEnd !== lazyLoadState.rowEnd\r\n      ) {\r\n        lazyLoadAnimeListStream.updateData({\r\n          rowStart,\r\n          rowEnd,\r\n        });\r\n      }\r\n    });\r\n    return () => {\r\n      subscription.unsubscribe();\r\n    };\r\n  }, [\r\n    lazyLoadState.heightItem,\r\n    lazyLoadState.rowEnd,\r\n    lazyLoadState.rowStart,\r\n    virtual,\r\n  ]);\r\n  useEffect(() => {\r\n    handleResponsiveWidth(animeListRef, lazyLoadState);\r\n    const subscription = fromEvent(window, \"resize\")\r\n      .pipe(debounceTime(500))\r\n      .subscribe(() => {\r\n        handleResponsiveWidth(animeListRef, lazyLoadState);\r\n      });\r\n    return () => {\r\n      subscription.unsubscribe();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [lazyLoadState.heightItem, lazyLoadState.rowEnd, lazyLoadState.rowStart]);\r\n  useEffect(() => {\r\n    if (!virtual) return;\r\n    const widthItem =\r\n      animeListRef.current.offsetWidth / lazyLoadState.quantityItemPerRow;\r\n    const heightItem = (widthItem * 340) / 224;\r\n    const height =\r\n      Math.ceil(\r\n        lazyLoadState.genreDetailData.length / lazyLoadState.quantityItemPerRow\r\n      ) * heightItem;\r\n    const { rowStart, rowEnd } = calculateRowStartEnd(animeListRef, heightItem);\r\n    lazyLoadAnimeListStream.updateData({\r\n      width: animeListRef.current.offsetWidth,\r\n      height,\r\n      widthItem,\r\n      heightItem,\r\n      rowStart: rowStart,\r\n      rowEnd: rowEnd,\r\n    });\r\n  }, [\r\n    lazyLoadState.heightItem,\r\n    lazyLoadState.quantityItemPerRow,\r\n    lazyLoadState.genreDetailData.length,\r\n    lazyLoadState.trigger,\r\n    virtual,\r\n  ]);\r\n\r\n  return (\r\n    <div\r\n      ref={animeListRef}\r\n      className={isWrap ? \"list-anime\" : \"list-anime-nowrap\"}\r\n      style={{\r\n        position: virtual ? \"relative\" : \"static\",\r\n        height: lazyLoadState.height,\r\n        width: lazyLoadState.widthContainerList\r\n          ? lazyLoadState.widthContainerList\r\n          : 280,\r\n      }}\r\n    >\r\n      {data &&\r\n        !virtual &&\r\n        !error &&\r\n        data.map((anime, index) => {\r\n          return (\r\n            <AnimeItem\r\n              key={index}\r\n              anime={anime}\r\n              lazy={lazy}\r\n              searchBy={searchBy}\r\n              virtual={false}\r\n              isAllowDelete={isAllowDelete}\r\n              type={type}\r\n            />\r\n          );\r\n        })}\r\n      {data &&\r\n        virtual &&\r\n        !error &&\r\n        data\r\n          .slice(\r\n            (lazyLoadState.rowStart - 1) * lazyLoadState.quantityItemPerRow,\r\n            (lazyLoadState.rowEnd - 1) * lazyLoadState.quantityItemPerRow\r\n          )\r\n          .map((anime, index) => {\r\n            return (\r\n              <div\r\n                key={\r\n                  (lazyLoadState.rowStart - 1) *\r\n                    lazyLoadState.quantityItemPerRow +\r\n                  index\r\n                }\r\n                style={\r\n                  virtual\r\n                    ? {\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"center\",\r\n                        height: lazyLoadState.heightItem,\r\n                        width: lazyLoadState.widthItem,\r\n                        position: \"absolute\",\r\n                        top:\r\n                          parseInt(\r\n                            ((lazyLoadState.rowStart - 1) *\r\n                              lazyLoadState.quantityItemPerRow +\r\n                              index) /\r\n                              lazyLoadState.quantityItemPerRow\r\n                          ) * lazyLoadState.heightItem,\r\n                        left:\r\n                          parseInt(\r\n                            ((lazyLoadState.rowStart - 1) *\r\n                              lazyLoadState.quantityItemPerRow +\r\n                              index) %\r\n                              lazyLoadState.quantityItemPerRow\r\n                          ) * lazyLoadState.widthItem,\r\n                      }\r\n                    : {}\r\n                }\r\n              >\r\n                <AnimeItem\r\n                type={type}\r\n                  anime={anime}\r\n                  lazy={lazy}\r\n                  virtual={true}\r\n                  isAllowDelete={isAllowDelete}\r\n                  styleAnimeItem={{ width: \"90%\", height: \"95%\" }}\r\n                  searchBy={searchBy}\r\n                />\r\n              </div>\r\n            );\r\n          })}\r\n      {data && data.length === 0 && empty && (\r\n        <div className=\"empty\">\r\n          <CircularProgress color=\"secondary\" size=\"4rem\" />\r\n        </div>\r\n      )}\r\n      {error && (\r\n        <div\r\n          style={{\r\n            margin: \"100px auto 0 auto\",\r\n            color: \"white\",\r\n            fontSize: \"150%\",\r\n          }}\r\n        >\r\n          Anime is being updated...\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction handleResponsiveWidth(animeListRef, lazyLoadState) {\r\n  const { rowStart, rowEnd } = calculateRowStartEnd(\r\n    animeListRef,\r\n    lazyLoadState.heightItem\r\n  );\r\n  for (let i = 0; i < responsiveObject.length; i++) {\r\n    const { maxWidth, minWidth, quantityItemPerRow } = responsiveObject[i];\r\n    if (window.innerWidth < maxWidth && window.innerWidth > minWidth) {\r\n      lazyLoadAnimeListStream.updateData({\r\n        quantityItemPerRow,\r\n      });\r\n      break;\r\n    }\r\n  }\r\n  if (rowStart !== lazyLoadState.rowStart && rowEnd !== lazyLoadState.rowEnd) {\r\n    lazyLoadAnimeListStream.updateData({\r\n      rowStart,\r\n      rowEnd,\r\n    });\r\n  }\r\n  lazyLoadAnimeListStream.updateData({\r\n    trigger: !lazyLoadAnimeListStream.currentState().trigger,\r\n  });\r\n}\r\n\r\nexport default AnimeList;\r\n",null,null,null,null,null],"sourceRoot":""}