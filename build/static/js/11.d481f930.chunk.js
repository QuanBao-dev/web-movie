(this["webpackJsonpmy-app-2"]=this["webpackJsonpmy-app-2"]||[]).push([[11,66],{123:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(12),i=n(58),u=n(130);function c(t,e){return e?Object(u.a)(t,e):t instanceof r.a?t:new r.a(Object(i.a)(t))}},124:function(t,e,n){"use strict";n.d(e,"a",(function(){return i})),n.d(e,"b",(function(){return u}));var r=n(12),i=new r.a((function(t){return t.complete()}));function u(t){return t?function(t){return new r.a((function(e){return t.schedule((function(){return e.complete()}))}))}(t):i}},125:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(41);function i(t){return!Object(r.a)(t)&&t-parseFloat(t)+1>=0}},126:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(2),i=n(40),u=n(123),c=n(21);function o(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"===typeof e?function(r){return r.pipe(o((function(n,r){return Object(u.a)(t(n,r)).pipe(Object(i.a)((function(t,i){return e(n,t,r,i)})))}),n))}:("number"===typeof e&&(n=e),function(e){return e.lift(new a(t,n))})}var a=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project,this.concurrent))},t}(),s=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return r.a(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e)},e.prototype._innerSub=function(t){var e=new c.a(this),n=this.destination;n.add(e);var r=Object(c.c)(t,e);r!==e&&n.add(r)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t){this.destination.next(t)},e.prototype.notifyComplete=function(){var t=this.buffer;this.active--,t.length>0?this._next(t.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(c.b)},128:function(t,e,n){"use strict";function r(){}n.d(e,"a",(function(){return r}))},129:function(t,e,n){"use strict";var r=n(30),i={},u=new(n(75).a)(i),c=i,o={subscribe:function(t){return u.subscribe((function(e){return t(e)}))},currentState:function(){var t;return u.subscribe((function(e){t=e})),t},updateData:function(t){c=Object(r.a)(Object(r.a)({},c),t),u.next(c)}};e.a=o},130:function(t,e,n){"use strict";n.d(e,"a",(function(){return f}));var r=n(12),i=n(15),u=n(31);var c=n(43),o=n(42);var a=n(62),s=n(61);function f(t,e){if(null!=t){if(function(t){return t&&"function"===typeof t[u.a]}(t))return function(t,e){return new r.a((function(n){var r=new i.a;return r.add(e.schedule((function(){var i=t[u.a]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(Object(a.a)(t))return function(t,e){return new r.a((function(n){var r=new i.a;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(Object(s.a)(t))return Object(c.a)(t,e);if(function(t){return t&&"function"===typeof t[o.a]}(t)||"string"===typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new r.a((function(n){var r,u=new i.a;return u.add((function(){r&&"function"===typeof r.return&&r.return()})),u.add(e.schedule((function(){r=t[o.a](),u.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(u){return void n.error(u)}e?n.complete():(n.next(t),this.schedule())}})))}))),u}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}},131:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(12);function i(t,e){return e?new r.a((function(n){return e.schedule(u,0,{error:t,subscriber:n})})):new r.a((function(e){return e.error(t)}))}function u(t){var e=t.error;t.subscriber.error(e)}},132:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(12),i=n(123),u=n(124);function c(t){return new r.a((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?Object(i.a)(n):Object(u.b)()).subscribe(e)}))}},134:function(t,e,n){"use strict";function r(t){return t instanceof Date&&!isNaN(+t)}n.d(e,"a",(function(){return r}))},135:function(t,e,n){"use strict";n.d(e,"a",(function(){return r}));var r=function(){function t(){return Error.call(this),this.message="Timeout has occurred",this.name="TimeoutError",this}return t.prototype=Object.create(Error.prototype),t}()},136:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(40);function i(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t.length;if(0===n)throw new Error("list of properties cannot be empty.");return function(e){return Object(r.a)(u(t,n))(e)}}function u(t,e){return function(n){for(var r=n,i=0;i<e;i++){var u=null!=r?r[t[i]]:void 0;if(void 0===u)return;r=u}return r}}},137:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(2),i=n(40),u=n(123),c=n(21);function o(t,e){return"function"===typeof e?function(n){return n.pipe(o((function(n,r){return Object(u.a)(t(n,r)).pipe(Object(i.a)((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new a(t))}}var a=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.project))},t}(),s=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return r.a(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e)},e.prototype._innerSub=function(t){var e=this.innerSubscription;e&&e.unsubscribe();var n=new c.a(this),r=this.destination;r.add(n),this.innerSubscription=Object(c.c)(t,n),this.innerSubscription!==n&&r.add(this.innerSubscription)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=void 0},e.prototype.notifyComplete=function(){this.innerSubscription=void 0,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t){this.destination.next(t)},e}(c.b)},139:function(t,e,n){"use strict";n.d(e,"c",(function(){return S})),n.d(e,"b",(function(){return x})),n.d(e,"d",(function(){return _})),n.d(e,"a",(function(){return D}));var r=n(154),i=n(142),u=n(83),c=n(107),o=n(101),a=n(40),s=n(140),f=n(149),l=n(159),d=n(126),p=n(166),h=n(136),b=n(100),v=n(150),g=n(129),O=n(30),j=n(75),m={genreDetailData:[],pageOnDestroy:null,pageIsLoaded:null,isChangeView:!1,isStopScrollingUpdated:!1,currentPageOnDestroy:null,query:null,pageGenre:1,numberAnimeShowMore:5*(parseInt(window.innerHeight/376)+1),width:null,height:null,quantityItemPerRow:5,widthItem:null,heightItem:null,rowStart:0,rowEnd:0,widthContainerList:"100%",trigger:!0},y=new j.a(m),w=m,S={initialState:m,subscribe:function(t){return y.pipe().subscribe((function(e){return t(e)}))},currentState:function(){var t;return y.subscribe((function(e){return t=e})),t||m},init:function(){y.next(w)},updateData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m;w=Object(O.a)(Object(O.a)({},w),t),y.next(w)},updateDataQuick:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,e=Object.keys(t);e.forEach((function(e){w[e]=t[e]}))}};function x(t,e,n,c,v){var O={method:"GET",url:e.replace("{page}",t)};return["latest","box"].includes(c)&&(O.headers={authorization:"Bearer ".concat(n)}),Object(r.a)((function(){return g.a.currentState().genres&&g.a.currentState().genres[e.replace("{page}",t)]}),Object(i.a)(0).pipe(Object(a.a)((function(){return g.a.currentState().genres[e.replace("{page}",t)]}))),Object(i.a)(0).pipe(Object(s.a)((function(){return t===parseInt(t)})),Object(f.a)((function(){S.updateData({pageIsLoaded:t})})),Object(l.a)(Object(r.a)((function(){return g.a.currentState().genres&&g.a.currentState().genres[v]&&g.a.currentState().genres[v][t]}),Object(i.a)(0).pipe(Object(a.a)((function(){return g.a.currentState().genres[v][t]}))),Object(i.a)(0).pipe(Object(d.a)((function(){return Object(o.a)(O).pipe(Object(p.a)(5e3),Object(h.a)("response"),Object(b.a)((function(){return Object(u.a)({error:!0})})))})))))))}function _(){return Object(c.a)(window,"scroll").pipe(Object(s.a)((function(){return document.body.scrollHeight-(window.scrollY+window.innerHeight)<0})),Object(v.a)(300))}function D(t,e){var n=t.current.offsetTop,r=Math.ceil((-n+window.scrollY+window.innerHeight)/e),i=Math.ceil(window.innerHeight/e)+S.currentState().quantityItemPerRow;return{rowStart:r-i>=1?r-i:1,rowEnd:r+i}}},140:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(2),i=n(5);function u(t,e){return function(n){return n.lift(new c(t,e))}}var c=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new o(t,this.predicate,this.thisArg))},t}(),o=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return r.a(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(i.a)},142:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(12),i=n(53),u=n(125),c=n(57);function o(t,e,n){void 0===t&&(t=0);var o=-1;return Object(u.a)(e)?o=Number(e)<1?1:Number(e):Object(c.a)(e)&&(n=e),Object(c.a)(n)||(n=i.a),new r.a((function(e){var r=Object(u.a)(t)?t:+t-n.now();return n.schedule(a,r,{index:0,period:o,subscriber:e})}))}function a(t){var e=t.index,n=t.period,r=t.subscriber;if(r.next(e),!r.closed){if(-1===n)return r.complete();t.index=e+1,this.schedule(t,n)}}},149:function(t,e,n){"use strict";n.d(e,"a",(function(){return o}));var r=n(2),i=n(5),u=n(128),c=n(27);function o(t,e,n){return function(r){return r.lift(new a(t,e,n))}}var a=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.nextOrObserver,this.error,this.complete))},t}(),s=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._tapNext=u.a,o._tapError=u.a,o._tapComplete=u.a,o._tapError=r||u.a,o._tapComplete=i||u.a,Object(c.a)(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||u.a,o._tapError=n.error||u.a,o._tapComplete=n.complete||u.a),o}return r.a(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(i.a)},150:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var r=n(2),i=n(5),u=n(53);function c(t,e){return void 0===e&&(e=u.a),function(n){return n.lift(new o(t,e))}}var o=function(){function t(t,e){this.dueTime=t,this.scheduler=e}return t.prototype.call=function(t,e){return e.subscribe(new a(t,this.dueTime,this.scheduler))},t}(),a=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.dueTime=n,i.scheduler=r,i.debouncedSubscription=null,i.lastValue=null,i.hasValue=!1,i}return r.a(e,t),e.prototype._next=function(t){this.clearDebounce(),this.lastValue=t,this.hasValue=!0,this.add(this.debouncedSubscription=this.scheduler.schedule(s,this.dueTime,this))},e.prototype._complete=function(){this.debouncedNext(),this.destination.complete()},e.prototype.debouncedNext=function(){if(this.clearDebounce(),this.hasValue){var t=this.lastValue;this.lastValue=null,this.hasValue=!1,this.destination.next(t)}},e.prototype.clearDebounce=function(){var t=this.debouncedSubscription;null!==t&&(this.remove(t),t.unsubscribe(),this.debouncedSubscription=null)},e}(i.a);function s(t){t.debouncedNext()}},154:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(132),i=n(124);function u(t,e,n){return void 0===e&&(e=i.a),void 0===n&&(n=i.a),Object(r.a)((function(){return t()?e:n}))}},156:function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var r=n(2),i=n(5);function u(t){return void 0===t&&(t=-1),function(e){return e.lift(new c(t,e))}}var c=function(){function t(t,e){this.count=t,this.source=e}return t.prototype.call=function(t,e){return e.subscribe(new o(t,this.count,this.source))},t}(),o=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.count=n,i.source=r,i}return r.a(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=this.source,r=this.count;if(0===r)return t.prototype.error.call(this,e);r>-1&&(this.count=r-1),n.subscribe(this._unsubscribeAndRecycle())}},e}(i.a)},158:function(t,e,n){"use strict";n.d(e,"c",(function(){return g})),n.d(e,"b",(function(){return O})),n.d(e,"a",(function(){return j}));var r=n(142),i=n(83),u=n(123),c=n(101),o=n(169),a=n(136),s=n(156),f=n(100),l=n(137),d=n(30),p=n(75),h={currentPageBoxMovie:1,currentPageUpdatedMovie:1,updatedMovie:[],boxMovie:[],lastPageUpdatedMovie:1,lastPageBoxMovie:1,subNavToggle:null,triggerFetch:!1},b=new p.a(h),v=h,g={initialState:h,subscribe:function(t){return b.subscribe((function(e){return t(e)}))},currentState:function(){var t;return b.subscribe((function(e){t=e})),t||h},init:function(){b.next(v)},updateData:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h;v=Object(d.a)(Object(d.a)({},v),t),b.next(v)},updateDataQuick:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,e=Object.keys(t);e.forEach((function(e){v[e]=t[e]}))}},O=function(){return Object(r.a)(0).pipe(Object(o.a)(Object(c.a)({url:"/api/movies/latest?page="+g.currentState().currentPageUpdatedMovie}).pipe(Object(a.a)("response","message"),Object(s.a)(20),Object(f.a)((function(){return Object(i.a)([])})))))},j=function(t){return Object(r.a)(0).pipe(Object(l.a)((function(){return Object(c.a)({url:"/api/movies/box?page="+g.currentState().currentPageBoxMovie,headers:{authorization:"Bearer ".concat(t)}}).pipe(Object(a.a)("response","message"),Object(s.a)(20),Object(f.a)((function(t){return Object(u.a)([])})))})))}},159:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(126);function i(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"===typeof e?Object(r.a)((function(){return t}),e,n):("number"===typeof e&&(n=e),Object(r.a)((function(){return t}),n))}},166:function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var r=n(53),i=n(135),u=n(2),c=n(134),o=n(21);var a=function(){function t(t,e,n,r){this.waitFor=t,this.absoluteTimeout=e,this.withObservable=n,this.scheduler=r}return t.prototype.call=function(t,e){return e.subscribe(new s(t,this.absoluteTimeout,this.waitFor,this.withObservable,this.scheduler))},t}(),s=function(t){function e(e,n,r,i,u){var c=t.call(this,e)||this;return c.absoluteTimeout=n,c.waitFor=r,c.withObservable=i,c.scheduler=u,c.scheduleTimeout(),c}return u.a(e,t),e.dispatchTimeout=function(t){var e=t.withObservable;t._unsubscribeAndRecycle(),t.add(Object(o.c)(e,new o.a(t)))},e.prototype.scheduleTimeout=function(){var t=this.action;t?this.action=t.schedule(this,this.waitFor):this.add(this.action=this.scheduler.schedule(e.dispatchTimeout,this.waitFor,this))},e.prototype._next=function(e){this.absoluteTimeout||this.scheduleTimeout(),t.prototype._next.call(this,e)},e.prototype._unsubscribe=function(){this.action=void 0,this.scheduler=null,this.withObservable=null},e}(o.b),f=n(131);function l(t,e){return void 0===e&&(e=r.a),function(t,e,n){return void 0===n&&(n=r.a),function(r){var i=Object(c.a)(t),u=i?+t-n.now():Math.abs(t);return r.lift(new a(u,i,e,n))}}(t,Object(f.a)(new i.a),e)}},169:function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var r=n(137);function i(t,e){return e?Object(r.a)((function(){return t}),e):Object(r.a)((function(){return t}))}},259:function(t,e,n){},310:function(t,e,n){"use strict";n.r(e);var r=n(26),i=(n(259),n(7)),u=n(119),c=n(0),o=n.n(c),a=n(120),s=n(13),f=n(139),l=n(64),d=n(30),p=n(158),h=n(129),b=function(t,e,n,r,i,u,c){return function(){var o;return t===f.c.currentState().pageOnDestroy&&0!==f.c.currentState().genreDetailData.length||!1!==e||(o=Object(f.b)(t,i,c,u,r).subscribe((function(e){var c;(e.error&&alert("Something went wrong"),e.error)?f.c.updateData({isStopScrollingUpdated:!0}):(h.a.updateData({genres:Object(d.a)(Object(d.a)({},h.a.currentState().genres||{}),{},Object(l.a)({},i.replace("{page}",t),e))}),c=0===f.c.currentState().genreDetailData.length||f.c.currentState().query!==r?["latest","box"].includes(u)?e.message.data:e.data:["latest","box"].includes(u)?n.concat(e.message.data):n.concat(e.data),(!["latest","box"].includes(u)&&!e.pagination.has_next_page||["latest","box"].includes(u)&&!e.message.pagination.has_next_page)&&f.c.updateData({isStopScrollingUpdated:!0}),"latest"===u&&p.c.updateData({currentPageUpdatedMovie:t}),"box"===u&&p.c.updateData({currentPageBoxMovie:t}),f.c.updateData({genreDetailData:c,pageIsLoaded:null,pageOnDestroy:f.c.currentState().pageGenre,query:r}))}))),function(){o&&o.unsubscribe()}}},v=function(t){Object(c.useEffect)(function(t){return function(){var e=f.c.subscribe(t);return f.c.init(),function(){e.unsubscribe(),f.c.updateDataQuick({height:null})}}}(t),[])},g=function(t,e){Object(c.useEffect)(function(t,e){return function(){if(0===f.c.currentState().genreDetailData.length||e!==t){var n=t.match(/page=[0-9]+/g)?parseInt(t.match(/page=[0-9]+/g)[0].replace("page=","")):1;window.scroll({top:0}),f.c.updateData({genreDetailData:[],pageGenre:+n,pageIsLoaded:null,pageSplit:1,query:null,pageOnDestroy:null,isStopScrollingUpdated:!1,currentGenreId:null,trigger:!f.c.currentState().trigger})}}}(t,e.query),[t,e.query])},O=function(t){Object(c.useEffect)(function(t){return function(){var e=Object(f.d)().subscribe((function(){f.c.currentState().pageGenre!==f.c.currentState().pageIsLoaded&&f.c.updateData({pageGenre:f.c.currentState().pageGenre+1})}));return t&&e&&e.unsubscribe(),function(){e&&e.unsubscribe()}}}(t),[t])},j=Object(i.a)((function(){return n.e(42).then(n.bind(null,151))}));e.default=function(t){var e=t.url,n=t.query,i=t.searchBy,l=Object(c.useState)(f.c.currentState()),d=Object(r.a)(l,2),p=d[0],h=d[1],m=Object(a.a)(["idCartoonUser"]),y=Object(r.a)(m,1)[0],w=Object(c.useRef)();return Object(c.useEffect)((function(){document.body.style.backgroundImage="url(/background.jpg)",document.body.style.backgroundSize="cover"}),[]),v(h),g(n,p),O(p.isStopScrollingUpdated),function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:f.c.currentState(),e=t.pageGenre,n=t.isStopScrollingUpdated,r=t.genreDetailData,i=t.currentGenreId,u=t.trigger,o=arguments.length>1?arguments[1]:void 0,a=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,l=arguments.length>4?arguments[4]:void 0;Object(c.useEffect)(b(e,n,r,o,a,s,l),[e,o,i,u])}(p,n,e,i,y.idCartoonUser),o.a.createElement("div",{className:"container-genre-detail"},o.a.createElement(s.b,{to:["latest","box"].includes(i)?"/":"/storage?".concat(n.match(/page=[0-9]+/g)?n.replace(/page=[0-9]+/g,"page=".concat(p.pageGenre)).replace("?",""):"".concat(""!==n?"&":"","page=").concat(p.pageGenre)+n.replace("?","")),className:"filter-icon"},o.a.createElement("i",{className:"fas fa-filter"})),o.a.createElement("h1",null,"Storage"),o.a.createElement(j,{virtual:!0,data:p.genreDetailData,error:null,lazy:!0,animeListRef:w,searchBy:["anime","latest","box"].includes(i)?"anime":i}),!p.isStopScrollingUpdated&&o.a.createElement("div",{className:"loading-symbol"},o.a.createElement(u.a,{color:"secondary",size:"3rem"})))}}}]);
//# sourceMappingURL=11.d481f930.chunk.js.map