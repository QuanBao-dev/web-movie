{"version":3,"sources":["../../../../src/internal/observable/empty.ts","../../../../src/internal/operators/mergeMap.ts","store/caches.js","../../../../src/internal/observable/throwError.ts","../../../../src/internal/observable/defer.ts","../../../../src/internal/util/isDate.ts","../../../../src/internal/util/TimeoutError.ts","util/checkMobileDevice.js","store/lazyLoadAnimeList.js","epics/lazyLoadAnimeList.js","../../../../src/internal/operators/filter.ts","../../../../src/internal/operators/debounceTime.ts","components/AnimeList/AnimeList.js","../../../../src/internal/observable/iif.ts","../../../../src/internal/operators/mergeMapTo.ts","../../../../src/internal/operators/timeoutWith.ts","../../../../src/internal/operators/timeout.ts","../../../../src/internal/operators/takeWhile.ts"],"names":["empty","scheduler","concurrent","resultSelector","source","MergeMapOperator","MergeMapSubscriber","destination","project","Number","_this","_super","_next","value","push","_tryNext","result","index","error","err","active","_innerSub","innerSubscriber","innerSubscription","hasCompleted","unsubscribe","prototype","notifyNext","notifyComplete","buffer","initialState","behaviorSubject","BehaviorSubject","state","cachesStore","subscribe","setState","currentState","ans","updateData","obj","next","throwError","subscriber","dispatch","_a","defer","observableFactory","Observable","input","isDate","TimeoutErrorImpl","Error","message","mobileAndTabletCheck","a","check","navigator","userAgent","vendor","window","opera","test","substr","genreDetailData","pageOnDestroy","pageIsLoaded","isChangeView","isStopScrollingUpdated","currentPageOnDestroy","query","pageGenre","numberAnimeShowMore","parseInt","innerHeight","width","height","quantityItemPerRow","widthItem","heightItem","rowStart","rowEnd","widthContainerList","trigger","subject","lazyLoadAnimeListStream","pipe","v","init","data","updateDataQuick","keys","Object","forEach","key","fetchDataGenreAnimeList$","page","url","idCartoonUser","searchBy","method","replace","includes","headers","authorization","iif","genres","timer","map","filter","tap","mergeMapTo","mergeMap","ajax","timeout","pluck","catchError","of","updatePageScrollingWindow$","fromEvent","document","body","scrollHeight","scrollY","debounceTime","calculateRowStartEnd","containerListRef","offsetTopContainerList","current","offsetTop","currentRow","Math","ceil","numberRowToFillTheScreen","predicate","thisArg","FilterOperator","call","FilterSubscriber","tslib_1","DebounceTimeOperator","dueTime","DebounceTimeSubscriber","clearDebounce","add","_complete","complete","hasValue","lastValue","debouncedSubscription","Subscriber","responsiveObject","maxWidth","minWidth","AnimeItem","loadable","handleResponsiveWidth","animeListRef","lazyLoadState","i","length","innerWidth","AnimeList","isWrap","lazy","virtual","isAllowDelete","type","useRef","useEffect","subscription","takeWhile","offsetWidth","ref","className","style","position","anime","slice","display","alignItems","justifyContent","top","left","styleAnimeItem","color","size","margin","fontSize","trueResult","TimeoutWithOperator","withObservable","waitFor","TimeoutWithSubscriber","scheduleTimeout","action","schedule","_unsubscribe","inclusive","TakeWhileOperator","TakeWhileSubscriber","nextOrComplete"],"mappings":"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","file":"static/js/18.294c7cc2.chunk.js","sourcesContent":[null,null,"import { BehaviorSubject } from \"rxjs\";\r\nconst initialState = {};\r\nconst behaviorSubject = new BehaviorSubject(initialState);\r\nlet state = initialState;\r\nconst cachesStore = {\r\n  subscribe: (setState) =>\r\n    behaviorSubject.subscribe((value) => setState(value)),\r\n  currentState: () => {\r\n    let ans;\r\n    behaviorSubject.subscribe((value) => {\r\n      ans = value;\r\n    });\r\n    return ans;\r\n  },\r\n  updateData: (obj) => {\r\n    state = {\r\n      ...state,\r\n      ...obj,\r\n    };\r\n    behaviorSubject.next(state);\r\n  },\r\n};\r\n\r\nexport default cachesStore;\r\n",null,null,null,null,"/* eslint-disable no-useless-escape */\r\nexport const mobileAndTabletCheck = () => {\r\n  let check = false;\r\n  (function (a) {\r\n    if (\r\n      /(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(\r\n        a\r\n      ) ||\r\n      /1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(\r\n        a.substr(0, 4)\r\n      )\r\n    )\r\n      check = true;\r\n  })(navigator.userAgent || navigator.vendor || window.opera);\r\n  return check;\r\n};\r\n","/* eslint-disable no-unused-vars */\r\nimport { BehaviorSubject } from \"rxjs\";\r\nconst initialState = {\r\n  genreDetailData: [],\r\n  pageOnDestroy: null,\r\n  pageIsLoaded:null,\r\n  isChangeView: false,\r\n  isStopScrollingUpdated: false,\r\n  currentPageOnDestroy: null,\r\n  query:null,\r\n  pageGenre: 1,\r\n  numberAnimeShowMore: (parseInt(window.innerHeight / 376) + 1) * 5,\r\n  width: null,\r\n  height: null,\r\n  quantityItemPerRow: 5,\r\n  widthItem: null,\r\n  heightItem: null,\r\n  rowStart: 0,\r\n  rowEnd: 0,\r\n  widthContainerList: \"100%\",\r\n  trigger:true,\r\n};\r\n\r\nconst subject = new BehaviorSubject(initialState);\r\nlet state = initialState;\r\nconst lazyLoadAnimeListStore = {\r\n  initialState,\r\n  subscribe: (setState) => subject.pipe().subscribe((v) => setState(v)),\r\n  currentState: () => {\r\n    let ans;\r\n    subject.subscribe((v) => (ans = v));\r\n    return ans || initialState;\r\n  },\r\n  init: () => {\r\n    subject.next(state);\r\n  },\r\n  updateData: (data = initialState) => {\r\n    state = {\r\n      ...state,\r\n      ...data,\r\n    };\r\n    subject.next(state);\r\n  },\r\n  updateDataQuick: (data = initialState) => {\r\n    const keys = Object.keys(data);\r\n    keys.forEach((key) => {\r\n      state[key] = data[key];\r\n    });\r\n  },\r\n};\r\n\r\nexport default lazyLoadAnimeListStore;\r\n","import { fromEvent, iif, of, timer } from \"rxjs\";\r\nimport { ajax } from \"rxjs/ajax\";\r\nimport {\r\n  catchError,\r\n  debounceTime,\r\n  filter,\r\n  mergeMap,\r\n  mergeMapTo,\r\n  pluck,\r\n  tap,\r\n  timeout,\r\n  map,\r\n} from \"rxjs/operators\";\r\nimport cachesStore from \"../store/caches\";\r\n\r\nimport lazyLoadAnimeListStore from \"../store/lazyLoadAnimeList\";\r\n\r\nexport const lazyLoadAnimeListStream = lazyLoadAnimeListStore;\r\n\r\nexport function fetchDataGenreAnimeList$(\r\n  page,\r\n  url,\r\n  idCartoonUser,\r\n  searchBy,\r\n  query\r\n) {\r\n  let obj = {\r\n    method: \"GET\",\r\n    url: url.replace(\"{page}\", page),\r\n  };\r\n  if ([\"latest\", \"box\"].includes(searchBy)) {\r\n    obj.headers = {\r\n      authorization: `Bearer ${idCartoonUser}`,\r\n    };\r\n  }\r\n  return iif(\r\n    () =>\r\n      cachesStore.currentState().genres &&\r\n      cachesStore.currentState().genres[url.replace(\"{page}\", page)],\r\n    timer(0).pipe(\r\n      map(() => cachesStore.currentState().genres[url.replace(\"{page}\", page)])\r\n    ),\r\n    timer(0).pipe(\r\n      filter(() => page === parseInt(page)),\r\n      tap(() => {\r\n        lazyLoadAnimeListStream.updateData({\r\n          pageIsLoaded: page,\r\n        });\r\n      }),\r\n      mergeMapTo(\r\n        iif(\r\n          () =>\r\n            cachesStore.currentState().genres &&\r\n            cachesStore.currentState().genres[query] &&\r\n            cachesStore.currentState().genres[query][page],\r\n          timer(0).pipe(\r\n            map(() => cachesStore.currentState().genres[query][page])\r\n          ),\r\n          timer(0).pipe(\r\n            mergeMap(() =>\r\n              ajax(obj).pipe(\r\n                timeout(5000),\r\n                pluck(\"response\"),\r\n                catchError(() => {\r\n                  return of({ error: true });\r\n                })\r\n              )\r\n            )\r\n          )\r\n        )\r\n      )\r\n    )\r\n  );\r\n}\r\n\r\nexport function updatePageScrollingWindow$() {\r\n  return fromEvent(window, \"scroll\").pipe(\r\n    filter(\r\n      () =>\r\n        document.body.scrollHeight - (window.scrollY + window.innerHeight) < 0\r\n    ),\r\n    debounceTime(300)\r\n  );\r\n}\r\n\r\nexport function calculateRowStartEnd(containerListRef, heightItem) {\r\n  const offsetTopContainerList = containerListRef.current.offsetTop;\r\n  const currentRow = Math.ceil(\r\n    (-offsetTopContainerList + window.scrollY + window.innerHeight) / heightItem\r\n  );\r\n  const numberRowToFillTheScreen =\r\n    Math.ceil(window.innerHeight / heightItem) +\r\n    lazyLoadAnimeListStream.currentState().quantityItemPerRow;\r\n  const rowStart =\r\n    currentRow - numberRowToFillTheScreen >= 1\r\n      ? currentRow - numberRowToFillTheScreen\r\n      : 1;\r\n  const rowEnd = currentRow + numberRowToFillTheScreen;\r\n  return { rowStart, rowEnd };\r\n}\r\n",null,null,"import \"./AnimeList.css\";\r\n\r\nimport loadable from \"@loadable/component\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport React, { useEffect, useRef } from \"react\";\r\nimport { fromEvent, iif } from \"rxjs\";\r\n\r\nimport {\r\n  calculateRowStartEnd,\r\n  lazyLoadAnimeListStream,\r\n} from \"../../epics/lazyLoadAnimeList\";\r\nimport { debounceTime, takeWhile } from \"rxjs/operators\";\r\nimport { mobileAndTabletCheck } from \"../../util/checkMobileDevice\";\r\nconst responsiveObject = [\r\n  {\r\n    maxWidth: 100000,\r\n    minWidth: 1000,\r\n    quantityItemPerRow: 5,\r\n  },\r\n  {\r\n    maxWidth: 1000,\r\n    minWidth: 600,\r\n    quantityItemPerRow: 4,\r\n  },\r\n  {\r\n    maxWidth: 600,\r\n    minWidth: 500,\r\n    quantityItemPerRow: 3,\r\n  },\r\n  {\r\n    maxWidth: 500,\r\n    minWidth: 0,\r\n    quantityItemPerRow: 2,\r\n  },\r\n];\r\nconst AnimeItem = loadable(() => import(\"../AnimeItem/AnimeItem\"));\r\nconst AnimeList = ({\r\n  data,\r\n  error,\r\n  isWrap = true,\r\n  lazy = false,\r\n  empty = false,\r\n  virtual = false,\r\n  isAllowDelete = false,\r\n  searchBy,\r\n  type\r\n}) => {\r\n  const animeListRef = useRef();\r\n  const lazyLoadState = lazyLoadAnimeListStream.currentState();\r\n  useEffect(() => {\r\n    const subscription = iif(\r\n      () => mobileAndTabletCheck(),\r\n      fromEvent(window, \"scroll\").pipe(takeWhile(() => virtual)),\r\n      fromEvent(window, \"scroll\").pipe(\r\n        takeWhile(() => virtual),\r\n        debounceTime(50)\r\n      )\r\n    ).subscribe(() => {\r\n      const { rowStart, rowEnd } = calculateRowStartEnd(\r\n        animeListRef,\r\n        lazyLoadState.heightItem\r\n      );\r\n      if (\r\n        rowStart !== lazyLoadState.rowStart &&\r\n        rowEnd !== lazyLoadState.rowEnd\r\n      ) {\r\n        lazyLoadAnimeListStream.updateData({\r\n          rowStart,\r\n          rowEnd,\r\n        });\r\n      }\r\n    });\r\n    return () => {\r\n      subscription.unsubscribe();\r\n    };\r\n  }, [\r\n    lazyLoadState.heightItem,\r\n    lazyLoadState.rowEnd,\r\n    lazyLoadState.rowStart,\r\n    virtual,\r\n  ]);\r\n  useEffect(() => {\r\n    handleResponsiveWidth(animeListRef, lazyLoadState);\r\n    const subscription = fromEvent(window, \"resize\")\r\n      .pipe(debounceTime(500))\r\n      .subscribe(() => {\r\n        handleResponsiveWidth(animeListRef, lazyLoadState);\r\n      });\r\n    return () => {\r\n      subscription.unsubscribe();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [lazyLoadState.heightItem, lazyLoadState.rowEnd, lazyLoadState.rowStart]);\r\n  useEffect(() => {\r\n    if (!virtual) return;\r\n    const widthItem =\r\n      animeListRef.current.offsetWidth / lazyLoadState.quantityItemPerRow;\r\n    const heightItem = (widthItem * 340) / 224;\r\n    const height =\r\n      Math.ceil(\r\n        lazyLoadState.genreDetailData.length / lazyLoadState.quantityItemPerRow\r\n      ) * heightItem;\r\n    const { rowStart, rowEnd } = calculateRowStartEnd(animeListRef, heightItem);\r\n    lazyLoadAnimeListStream.updateData({\r\n      width: animeListRef.current.offsetWidth,\r\n      height,\r\n      widthItem,\r\n      heightItem,\r\n      rowStart: rowStart,\r\n      rowEnd: rowEnd,\r\n    });\r\n  }, [\r\n    lazyLoadState.heightItem,\r\n    lazyLoadState.quantityItemPerRow,\r\n    lazyLoadState.genreDetailData.length,\r\n    lazyLoadState.trigger,\r\n    virtual,\r\n  ]);\r\n\r\n  return (\r\n    <div\r\n      ref={animeListRef}\r\n      className={isWrap ? \"list-anime\" : \"list-anime-nowrap\"}\r\n      style={{\r\n        position: virtual ? \"relative\" : \"static\",\r\n        height: lazyLoadState.height,\r\n        width: lazyLoadState.widthContainerList\r\n          ? lazyLoadState.widthContainerList\r\n          : 280,\r\n      }}\r\n    >\r\n      {data &&\r\n        !virtual &&\r\n        !error &&\r\n        data.map((anime, index) => {\r\n          return (\r\n            <AnimeItem\r\n              key={index}\r\n              anime={anime}\r\n              lazy={lazy}\r\n              searchBy={searchBy}\r\n              virtual={false}\r\n              isAllowDelete={isAllowDelete}\r\n              type={type}\r\n            />\r\n          );\r\n        })}\r\n      {data &&\r\n        virtual &&\r\n        !error &&\r\n        data\r\n          .slice(\r\n            (lazyLoadState.rowStart - 1) * lazyLoadState.quantityItemPerRow,\r\n            (lazyLoadState.rowEnd - 1) * lazyLoadState.quantityItemPerRow\r\n          )\r\n          .map((anime, index) => {\r\n            return (\r\n              <div\r\n                key={\r\n                  (lazyLoadState.rowStart - 1) *\r\n                    lazyLoadState.quantityItemPerRow +\r\n                  index\r\n                }\r\n                style={\r\n                  virtual\r\n                    ? {\r\n                        display: \"flex\",\r\n                        alignItems: \"center\",\r\n                        justifyContent: \"center\",\r\n                        height: lazyLoadState.heightItem,\r\n                        width: lazyLoadState.widthItem,\r\n                        position: \"absolute\",\r\n                        top:\r\n                          parseInt(\r\n                            ((lazyLoadState.rowStart - 1) *\r\n                              lazyLoadState.quantityItemPerRow +\r\n                              index) /\r\n                              lazyLoadState.quantityItemPerRow\r\n                          ) * lazyLoadState.heightItem,\r\n                        left:\r\n                          parseInt(\r\n                            ((lazyLoadState.rowStart - 1) *\r\n                              lazyLoadState.quantityItemPerRow +\r\n                              index) %\r\n                              lazyLoadState.quantityItemPerRow\r\n                          ) * lazyLoadState.widthItem,\r\n                      }\r\n                    : {}\r\n                }\r\n              >\r\n                <AnimeItem\r\n                type={type}\r\n                  anime={anime}\r\n                  lazy={lazy}\r\n                  virtual={true}\r\n                  isAllowDelete={isAllowDelete}\r\n                  styleAnimeItem={{ width: \"90%\", height: \"95%\" }}\r\n                  searchBy={searchBy}\r\n                />\r\n              </div>\r\n            );\r\n          })}\r\n      {data && data.length === 0 && empty && (\r\n        <div className=\"empty\">\r\n          <CircularProgress color=\"secondary\" size=\"4rem\" />\r\n        </div>\r\n      )}\r\n      {error && (\r\n        <div\r\n          style={{\r\n            margin: \"100px auto 0 auto\",\r\n            color: \"white\",\r\n            fontSize: \"150%\",\r\n          }}\r\n        >\r\n          Anime is being updated...\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction handleResponsiveWidth(animeListRef, lazyLoadState) {\r\n  const { rowStart, rowEnd } = calculateRowStartEnd(\r\n    animeListRef,\r\n    lazyLoadState.heightItem\r\n  );\r\n  for (let i = 0; i < responsiveObject.length; i++) {\r\n    const { maxWidth, minWidth, quantityItemPerRow } = responsiveObject[i];\r\n    if (window.innerWidth < maxWidth && window.innerWidth > minWidth) {\r\n      lazyLoadAnimeListStream.updateData({\r\n        quantityItemPerRow,\r\n      });\r\n      break;\r\n    }\r\n  }\r\n  if (rowStart !== lazyLoadState.rowStart && rowEnd !== lazyLoadState.rowEnd) {\r\n    lazyLoadAnimeListStream.updateData({\r\n      rowStart,\r\n      rowEnd,\r\n    });\r\n  }\r\n  lazyLoadAnimeListStream.updateData({\r\n    trigger: !lazyLoadAnimeListStream.currentState().trigger,\r\n  });\r\n}\r\n\r\nexport default AnimeList;\r\n",null,null,null,null,null],"sourceRoot":""}