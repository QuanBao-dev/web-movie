{"version":3,"sources":["../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../../src/internal/operators/pluck.ts","../../../../src/internal/operators/filter.ts","../../../../src/internal/operators/debounceTime.ts","components/RequestedAnimeItem/RequestedAnimeItem.js","components/RequestedAnimeList/RequestedAnimeList.js","pages/RequestedAnime/RequestedAnime.js"],"names":["_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","_i","length","plucker","props","x","i","p","currentProp","undefined","filter","predicate","thisArg","source","FilterOperator","call","FilterSubscriber","_super","destination","_this","tslib_1","result","err","error","scheduler","DebounceTimeOperator","dueTime","DebounceTimeSubscriber","_next","clearDebounce","add","_complete","complete","hasValue","lastValue","debouncedSubscription","Subscriber","RequestedAnimeItem","requestedAnime","requestedAnimeList","setRequestedAnimeList","useCookies","cookies","className","onClick","ajax","url","malId","method","headers","authorization","idCartoonUser","subscribe","res","to","src","imageUrl","alt","keys","key","map","join","RequestedAnimeList","RequestedAnime","useState","page","setPage","maxPage","setMaxPage","isLoading","setIsLoading","useEffect","subscription","fromEvent","window","pipe","debounceTime","document","body","scrollHeight","scrollY","unsubscribe","pluck","style","minHeight","display","alignItems","justifyContent","backgroundColor"],"mappings":"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","file":"static/js/33.fcf1d4c3.chunk.js","sourcesContent":["import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}",null,null,null,"import React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { ajax } from \"rxjs/ajax\";\r\nimport \"./RequestedAnimeItem.css\";\r\nconst RequestedAnimeItem = ({\r\n  requestedAnime,\r\n  requestedAnimeList,\r\n  setRequestedAnimeList,\r\n}) => {\r\n  const [cookies] = useCookies([\"idCartoonUser\"]);\r\n  return (\r\n    <div className=\"requested-anime-item-container\">\r\n      <i\r\n        className=\"fas fa-trash fa-2x\"\r\n        onClick={() => {\r\n          ajax({\r\n            url: \"/api/movies/request/\" + requestedAnime.malId,\r\n            method: \"DELETE\",\r\n            headers: {\r\n              authorization: `Bearer ${cookies.idCartoonUser}`,\r\n            },\r\n          }).subscribe((res) => {\r\n            if (!res.error) {\r\n              setRequestedAnimeList(\r\n                requestedAnimeList.filter(\r\n                  ({ malId }) => malId !== requestedAnime.malId\r\n                )\r\n              );\r\n            }\r\n          });\r\n        }}\r\n      ></i>\r\n      <Link\r\n        to={\"/anime/\" + requestedAnime.malId}\r\n        className=\"link-requested-anime-item\"\r\n      >\r\n        <div className=\"image-anime\">\r\n          <img src={requestedAnime.imageUrl} alt=\"\"></img>\r\n        </div>\r\n        <div className=\"container-requested-anime-information\">\r\n          {Object.keys(requestedAnime)\r\n            .filter((key) => key !== \"imageUrl\")\r\n            .map((key) => (\r\n              <div className=\"requested-anime-information-item\" key={key}>\r\n                <span>{key}:</span>{\" \"}\r\n                {typeof requestedAnime[key] !== \"object\"\r\n                  ? requestedAnime[key]\r\n                  : requestedAnime[key].join(\" | \")}\r\n              </div>\r\n            ))}\r\n        </div>\r\n      </Link>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RequestedAnimeItem;\r\n","import React from \"react\";\r\nimport RequestedAnimeItem from \"../RequestedAnimeItem/RequestedAnimeItem\";\r\nimport \"./RequestedAnimeList.css\";\r\nconst RequestedAnimeList = ({ requestedAnimeList, setRequestedAnimeList }) => {\r\n  return (\r\n    <div className=\"requested-anime-list-container\">\r\n      {requestedAnimeList.map((requestedAnime, key) => (\r\n        <RequestedAnimeItem\r\n          requestedAnime={requestedAnime}\r\n          key={key}\r\n          requestedAnimeList={requestedAnimeList}\r\n          setRequestedAnimeList={setRequestedAnimeList}\r\n        />\r\n      ))}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RequestedAnimeList;\r\n","import \"./RequestedAnime.css\";\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { fromEvent } from \"rxjs\";\r\nimport { ajax } from \"rxjs/ajax\";\r\nimport { debounceTime, pluck, filter } from \"rxjs/operators\";\r\n\r\nimport RequestedAnimeList from \"../../components/RequestedAnimeList/RequestedAnimeList\";\r\n\r\nconst RequestedAnime = () => {\r\n  const [cookies] = useCookies([\"idCartoonUser\"]);\r\n  const [requestedAnimeList, setRequestedAnimeList] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [maxPage, setMaxPage] = useState(1);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  useEffect(() => {\r\n    const subscription = fromEvent(window, \"scroll\")\r\n      .pipe(\r\n        debounceTime(500),\r\n        filter(\r\n          () =>\r\n            document.body.scrollHeight - (window.scrollY + 1000) < 0 &&\r\n            !isLoading\r\n        )\r\n      )\r\n      .subscribe(() => {\r\n        if (page + 1 > maxPage) {\r\n          subscription.unsubscribe();\r\n          return;\r\n        }\r\n        setPage(page + 1);\r\n      });\r\n    return () => {\r\n      subscription.unsubscribe();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [page, maxPage, isLoading]);\r\n  useEffect(() => {\r\n    setIsLoading(true);\r\n    const subscription = ajax({\r\n      url: `/api/movies/request?page=${page}`,\r\n      method: \"GET\",\r\n      headers: {\r\n        authorization: `Bearer ${cookies.idCartoonUser}`,\r\n      },\r\n    })\r\n      .pipe(pluck(\"response\", \"message\"))\r\n      .subscribe((res) => {\r\n        if (!res.error) {\r\n          setRequestedAnimeList([...requestedAnimeList, ...res.requestedAnime]);\r\n          setMaxPage(res.maxPage);\r\n          setIsLoading(false);\r\n        }\r\n      });\r\n    return () => {\r\n      subscription.unsubscribe();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [page]);\r\n  return (\r\n    <div>\r\n      {requestedAnimeList.length === 0 && (\r\n        <div\r\n          style={{\r\n            minHeight: \"100vh\",\r\n            display: \"flex\",\r\n            alignItems: \"center\",\r\n            justifyContent: \"center\",\r\n            backgroundColor: \"rgb(34, 39, 44)\",\r\n          }}\r\n        >\r\n          <h1>Empty</h1>\r\n        </div>\r\n      )}\r\n      {requestedAnimeList.length !== 0 && (\r\n        <RequestedAnimeList\r\n          requestedAnimeList={requestedAnimeList}\r\n          setRequestedAnimeList={setRequestedAnimeList}\r\n        />\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RequestedAnime;\r\n"],"sourceRoot":""}