{"version":3,"sources":["../../../../src/internal/util/isNumeric.ts","../../../../src/internal/operators/mergeMap.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../../src/internal/util/noop.ts","../../../../src/internal/operators/pluck.ts","../../../../src/internal/operators/switchMap.ts","../../../../src/internal/observable/timer.ts","../../../../src/internal/operators/mergeAll.ts","../../../../src/internal/operators/tap.ts","../../../../src/internal/operators/concatAll.ts","../../../../src/internal/operators/retry.ts","../../../../src/internal/operators/takeWhile.ts","../../../../src/internal/operators/switchMapTo.ts","components/RandomAnimeItem/RandomAnimeItem.js","store/randomAnimeList.js","components/RandomAnimeList/RandomAnimeList.js"],"names":["isNumeric","val","concurrent","resultSelector","source","MergeMapOperator","MergeMapSubscriber","destination","project","Number","_this","_super","_next","value","push","_tryNext","result","index","error","err","active","_innerSub","innerSubscriber","innerSubscription","hasCompleted","unsubscribe","prototype","notifyNext","notifyComplete","buffer","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","_i","length","plucker","props","x","i","p","currentProp","undefined","switchMap","SwitchMapOperator","call","SwitchMapSubscriber","tslib_1","SimpleInnerSubscriber","innerSubscribe","_unsubscribe","scheduler","dueTime","period","periodOrScheduler","async","Observable","subscriber","dispatch","state","closed","tap","nextOrObserver","complete","DoOperator","TapSubscriber","observerOrNext","noop","_tapComplete","_tapError","isFunction","_context","_tapNext","next","concatAll","count","RetryOperator","RetrySubscriber","isStopped","_a","inclusive","TakeWhileOperator","predicate","TakeWhileSubscriber","nextOrComplete","switchMapTo","innerObservable","RandomAnimeItem","title","aired","episodes","score","images","malId","to","replace","toLocaleLowerCase","className","style","width","height","src","webp","large_image_url","alt","loading","margin","string","initialState","randomAnimeList","isLoading","behaviorSubject","BehaviorSubject","randomAnimeListStore","subscribe","setState","currentState","ans","updateData","obj","RandomAnimeList","useState","randomAnimeListState","setRandomAnimeListState","useEffect","subscription","fetchRandomAnime$","ajax","pipe","pluck","retry","catchError","of","timer","takeWhile","randomAnime","CircularProgress","color","size","map","duration","rating","mal_id","key"],"mappings":"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","file":"static/js/20.1e4cd341.chunk.js","sourcesContent":[null,null,"import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}",null,null,null,null,null,null,null,null,null,null,"import \"./RandomAnimeItem.css\";\r\n\r\nimport React from \"react\";\r\nimport { Link } from \"react-router-dom\";\r\n\r\nconst RandomAnimeItem = ({\r\n  title,\r\n  aired,\r\n  episodes,\r\n  score,\r\n  images,\r\n  index,\r\n  malId,\r\n}) => {\r\n  return (\r\n    <Link\r\n      title={title}\r\n      to={`/anime/${malId}-${title\r\n        .replace(/[ /%^&*():.$,]/g, \"-\")\r\n        .toLocaleLowerCase()}`}\r\n      className=\"random-anime-item\"\r\n      style={{\r\n        width: index < 3 ? \"32%\" : \"23%\",\r\n        height: index < 3 ? \"300px\" : \"200px\",\r\n      }}\r\n    >\r\n      <img src={images.webp.large_image_url} alt=\"\" loading=\"lazy\" />\r\n      <div className=\"random-anime-display\">\r\n        <div>\r\n          {score && <span className=\"random-anime-score\">{score}/10</span>}\r\n          {episodes && <span\r\n            style={{\r\n              margin: !score ? \"0\" : null,\r\n            }}\r\n            className=\"random-anime-episodes\"\r\n          >\r\n            {episodes >= 2 ? `${episodes} episodes` : \"one shot\"}\r\n          </span>}\r\n        </div>\r\n        <h1 className=\"random-anime-title\">{title}</h1>\r\n        <div className=\"random-anime-info\">\r\n          <div className=\"random-anime-aired\">{aired.string}</div>\r\n        </div>\r\n      </div>\r\n    </Link>\r\n  );\r\n};\r\n\r\nexport default RandomAnimeItem;\r\n","import { BehaviorSubject } from \"rxjs\";\r\n\r\nconst initialState = {\r\n  randomAnimeList: [],\r\n  isLoading: true\r\n};\r\nconst behaviorSubject = new BehaviorSubject(initialState);\r\nlet state = initialState;\r\nconst randomAnimeListStore = {\r\n  subscribe: (setState) => behaviorSubject.subscribe(setState),\r\n  currentState: () => {\r\n    let ans;\r\n    behaviorSubject.subscribe((state) => (ans = state));\r\n    return ans || initialState;\r\n  },\r\n  updateData: (obj = initialState) => {\r\n    state = {\r\n      ...state,\r\n      ...obj,\r\n    };\r\n    behaviorSubject.next(state);\r\n  },\r\n};\r\n\r\nexport default randomAnimeListStore;\r\n","import \"./RandomAnimeList.css\";\r\n\r\nimport React, { useEffect, useState } from \"react\";\r\nimport { from, of, timer } from \"rxjs\";\r\nimport { ajax } from \"rxjs/ajax\";\r\nimport {\r\n  catchError,\r\n  concatAll,\r\n  pluck,\r\n  retry,\r\n  switchMapTo,\r\n  tap,\r\n  takeWhile,\r\n} from \"rxjs/operators\";\r\n\r\nimport RandomAnimeItem from \"../RandomAnimeItem/RandomAnimeItem\";\r\nimport randomAnimeListStore from \"../../store/randomAnimeList\";\r\nimport { CircularProgress } from \"@material-ui/core\";\r\n\r\nconst RandomAnimeList = () => {\r\n  const [randomAnimeListState, setRandomAnimeListState] = useState(\r\n    randomAnimeListStore.currentState()\r\n  );\r\n  useEffect(() => {\r\n    const subscription = randomAnimeListStore.subscribe(\r\n      setRandomAnimeListState\r\n    );\r\n    return () => {\r\n      subscription.unsubscribe();\r\n    };\r\n  }, []);\r\n  useEffect(() => {\r\n    const fetchRandomAnime$ = ajax(\r\n      \"https://api.jikan.moe/v4/random/anime\"\r\n    ).pipe(\r\n      pluck(\"response\", \"data\"),\r\n      retry(6),\r\n      catchError((error) => of({ error }))\r\n    );\r\n    const subscription = timer(0)\r\n      .pipe(\r\n        takeWhile(\r\n          () => randomAnimeListStore.currentState().randomAnimeList.length !== 7\r\n        ),\r\n        tap(() => {\r\n          randomAnimeListStore.updateData({\r\n            randomAnimeList: [],\r\n          });\r\n        }),\r\n        switchMapTo(\r\n          from([\r\n            fetchRandomAnime$,\r\n            fetchRandomAnime$,\r\n            fetchRandomAnime$,\r\n            fetchRandomAnime$,\r\n            fetchRandomAnime$,\r\n            fetchRandomAnime$,\r\n            fetchRandomAnime$,\r\n          ]).pipe(concatAll())\r\n        )\r\n      )\r\n      .subscribe((randomAnime) => {\r\n        randomAnimeListStore.updateData({\r\n          randomAnimeList: [\r\n            ...randomAnimeListStore.currentState().randomAnimeList,\r\n            randomAnime,\r\n          ],\r\n          isLoading: false,\r\n        });\r\n      });\r\n    return () => {\r\n      subscription.unsubscribe();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  return (\r\n    <div className=\"random-anime-list\">\r\n      {randomAnimeListState.isLoading && (\r\n        <CircularProgress color=\"secondary\" size=\"5rem\" />\r\n      )}\r\n      {randomAnimeListState.randomAnimeList.map(\r\n        (\r\n          { title, duration, aired, episodes, score, rating, images, mal_id },\r\n          index\r\n        ) => (\r\n          <RandomAnimeItem\r\n            key={index}\r\n            title={title}\r\n            aired={aired}\r\n            episodes={episodes}\r\n            score={score}\r\n            images={images}\r\n            malId={mal_id}\r\n            index={index}\r\n          />\r\n        )\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default RandomAnimeList;\r\n"],"sourceRoot":""}