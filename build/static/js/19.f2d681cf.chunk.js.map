{"version":3,"sources":["../../../../src/internal/operators/mergeMap.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../../src/internal/util/noop.ts","components/Input/Input.js","../../../../src/internal/operators/pluck.ts","../../../../src/internal/operators/switchMap.ts","../../../../src/internal/operators/filter.ts","../../../../src/internal/operators/mergeAll.ts","../../../../src/internal/operators/tap.ts","../../../../src/internal/observable/concat.ts","../../../../src/internal/operators/concatAll.ts","epics/theater.js","store/theater.js","Hook/theater.js","Functions/theater.js","pages/Theater/Theater.js"],"names":["concurrent","resultSelector","source","MergeMapOperator","MergeMapSubscriber","destination","project","Number","_this","_super","_next","value","push","_tryNext","result","index","error","err","active","_innerSub","innerSubscriber","innerSubscription","hasCompleted","unsubscribe","prototype","notifyNext","notifyComplete","buffer","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","Input","label","input","type","defaultValue","onKeyUp","style","width","className","ref","required","_i","length","plucker","props","x","i","p","currentProp","undefined","switchMap","SwitchMapOperator","call","SwitchMapSubscriber","tslib_1","SimpleInnerSubscriber","innerSubscribe","_unsubscribe","filter","predicate","thisArg","FilterOperator","FilterSubscriber","tap","nextOrObserver","complete","DoOperator","subscriber","TapSubscriber","observerOrNext","noop","_tapComplete","_tapError","isFunction","_context","_tapNext","next","concatAll","theaterStream","theaterStore","validateForm$","buttonSubmitElement","disabled","elements","map","element","fromEvent","pipe","combineAll","events","check","valueInputs","event","target","fetchRoomsData$","idCartoonUser","ajax","url","headers","authorization","method","pluck","catchError","of","submitFormPasswordRoom$","inputElement","groupId","setErrorPassword","e","keyCode","exhaustMap","password","body","response","fetchUserOnline$","behaviorSubject","BehaviorSubject","initialState","rooms","allowFetchRooms","currentRoomDetail","isSignIn","notifications","roomsLoginId","allowFetchCurrentRoomDetail","usersOnline","modeRoom","userId","allowRemoveVideoWatch","allowUserJoin","unreadMessage","timePlayingVideo","videoUrl","isVideoCall","isControlVideoWatching","isReconnect","isTriggerReconnect","isVideoWatchPlaying","peerId","isDisableReconnectButton","state","socket","io","connect","upgrade","transports","subscribe","setState","currentState","temp","v","init","updateData","object","updateAllowFetchRooms","bool","updateSignIn","updateAllowFetchCurrentRoomDetail","updateAllowRemoveVideoWatch","updateAllowUserJoin","useInitTheaterState","setTheaterState","setFilterKeyRoom","inputSearchRoom","useEffect","subscription","subscription1","current","throttleTime","asyncScheduler","leading","trailing","initTheaterState","useFetchRoomData","theaterState","cookies","buttonSubmitRef","inputRoomNameRef","inputPasswordRef","validationFormSub","fetchRoomData","Toggle","loadable","TheaterWatch","fallback","RoomList","locationPath","room","to","onClick","key","display","paddingRight","roomName","InputCreateRoom","roomNameError","passwordError","setRoomNameError","setPasswordError","a","data","fetch","JSON","stringify","res","json","resJson","console","log","Error","message","toLowerCase","includes","Theater","location","pathname","replace","useState","useCookies","filterKeyRoom","useRef","mode","borderRight","maxWidth","minWidth","toLocaleLowerCase","path","component"],"mappings":"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","file":"static/js/19.f2d681cf.chunk.js","sourcesContent":[null,"import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}",null,"import \"./Input.css\";\r\nimport React from \"react\";\r\n\r\nconst Input = ({\r\n  label,\r\n  input,\r\n  type,\r\n  error = null,\r\n  defaultValue = \"\",\r\n  onKeyUp,\r\n}) => {\r\n  return (\r\n    <div style={{ width: \"100%\" }}>\r\n      <div className=\"form-custom\">\r\n        <input\r\n          onKeyUp={onKeyUp}\r\n          defaultValue={defaultValue}\r\n          ref={input}\r\n          type={type || \"text\"}\r\n          required\r\n        />\r\n        <label className=\"label-name\">{label}</label>\r\n      </div>\r\n      {error && <div className=\"error-message\">{error}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n",null,null,null,null,null,null,null,"import { from, fromEvent, of } from \"rxjs\";\r\nimport { ajax } from \"rxjs/ajax\";\r\nimport {\r\n  catchError,\r\n  combineAll,\r\n  exhaustMap,\r\n  filter,\r\n  map,\r\n  pluck,\r\n  startWith,\r\n  switchMap,\r\n  tap,\r\n} from \"rxjs/operators\";\r\n\r\nimport theaterStore from \"../store/theater\";\r\n\r\nexport const theaterStream = theaterStore;\r\nexport const validateForm$ = (buttonSubmitElement, ...elements) => {\r\n  buttonSubmitElement.disabled = true;\r\n  return from(\r\n    elements.map((element) => {\r\n      return fromEvent(element, \"input\");\r\n    })\r\n  ).pipe(\r\n    combineAll(),\r\n    map((events) => {\r\n      let check = true;\r\n      const valueInputs = events.map((event) => {\r\n        if (event.target.value.length === 0) {\r\n          check = false;\r\n        }\r\n        return event.target.value;\r\n      });\r\n      if (check) {\r\n        buttonSubmitElement.disabled = false;\r\n      } else {\r\n        buttonSubmitElement.disabled = true;\r\n      }\r\n      return valueInputs;\r\n    })\r\n  );\r\n};\r\n\r\nexport const fetchRoomsData$ = (idCartoonUser) => {\r\n  return ajax({\r\n    url: `/api/theater`,\r\n    headers: {\r\n      authorization: `Bearer ${idCartoonUser}`,\r\n    },\r\n    method: \"GET\",\r\n  }).pipe(\r\n    pluck(\"response\", \"message\"),\r\n    catchError(() => of([]))\r\n  );\r\n};\r\n\r\nexport const submitFormPasswordRoom$ = (\r\n  inputElement,\r\n  groupId,\r\n  idCartoonUser,\r\n  setErrorPassword\r\n) => {\r\n  return fromEvent(inputElement, \"keyup\").pipe(\r\n    filter((e) => e.keyCode === 13),\r\n    tap(() => setErrorPassword(null)),\r\n    pluck(\"target\", \"value\"),\r\n    exhaustMap((password) =>\r\n      ajax({\r\n        method: \"POST\",\r\n        url: `/api/theater/${groupId}/join`,\r\n        headers: {\r\n          authorization: `Bearer ${idCartoonUser}`,\r\n        },\r\n        body: {\r\n          password: password,\r\n        },\r\n      }).pipe(\r\n        catchError((error) => {\r\n          if (error) {\r\n            setErrorPassword(error.response.error);\r\n          } else {\r\n            setErrorPassword(null);\r\n          }\r\n          return of(null);\r\n        })\r\n      )\r\n    )\r\n  );\r\n};\r\n\r\nexport const fetchUserOnline$ = (groupId, idCartoonUser) => {\r\n  return ajax({\r\n    url: `/api/theater/${groupId}/members`,\r\n    headers: {\r\n      authorization: `Bearer ${idCartoonUser}`,\r\n    },\r\n  }).pipe(\r\n    pluck(\"response\", \"message\"),\r\n    catchError(() => of([]))\r\n  );\r\n};\r\n\r\nexport const createNewMessageDialog$ = (inputElement) => {\r\n  return fromEvent(inputElement, \"keydown\").pipe(\r\n    filter((event) => event.keyCode === 13 && event.target.value !== \"\"),\r\n    pluck(\"target\", \"value\"),\r\n    tap(() => (inputElement.value = \"\"))\r\n  );\r\n};\r\n\r\nexport const createNewMessageNotSignIn$ = (user, ...elements) => {\r\n  const elementsListen = elements.map((element) => fromEvent(element, \"input\"));\r\n  elementsListen[0] = elementsListen[0].pipe(\r\n    pluck(\"target\", \"value\"),\r\n    startWith(user ? user.username : \"\")\r\n  );\r\n  elementsListen[1] = elementsListen[1].pipe(\r\n    pluck(\"target\", \"value\"),\r\n    startWith(\"\")\r\n  );\r\n  return from(elementsListen).pipe(\r\n    combineAll(),\r\n    map((texts) => {\r\n      const blankExistIndex = texts.findIndex((text) => text.trim() === \"\");\r\n      return { blankExistIndex, texts };\r\n    }),\r\n    filter(({ blankExistIndex }) => blankExistIndex < 0),\r\n    switchMap(({ texts }) =>\r\n      fromEvent(document, \"keyup\").pipe(\r\n        filter((e) => {\r\n          if (e.keyCode !== 13) {\r\n            return false;\r\n          }\r\n          const blankExistIndex = elements.findIndex(\r\n            (element) => element.value.trim() === \"\"\r\n          );\r\n          return blankExistIndex >= 0 ? false : true;\r\n        }),\r\n        map(() => texts)\r\n      )\r\n    )\r\n  );\r\n};\r\n","import { BehaviorSubject } from \"rxjs\";\r\nimport io from \"socket.io-client\";\r\nconst behaviorSubject = new BehaviorSubject();\r\nconst initialState = {\r\n  rooms: [],\r\n  allowFetchRooms: true,\r\n  currentRoomDetail: null,\r\n  isSignIn: false,\r\n  notifications: [],\r\n  roomsLoginId: [],\r\n  allowFetchCurrentRoomDetail: true,\r\n  usersOnline: [],\r\n  modeRoom: 1,\r\n  userId: null,\r\n  allowRemoveVideoWatch: true,\r\n  allowUserJoin: true,\r\n  unreadMessage: 0,\r\n  groupId: null,\r\n  timePlayingVideo: 0,\r\n  videoUrl: null,\r\n  isVideoCall: false,\r\n  isControlVideoWatching: false,\r\n  isReconnect: false,\r\n  isTriggerReconnect: false,\r\n  isVideoWatchPlaying: false,\r\n  peerId: null,\r\n  isDisableReconnectButton: false,\r\n};\r\nlet state = initialState;\r\nconst theaterStore = {\r\n  initialState,\r\n  socket: io.connect(\r\n    process.env.NODE_ENV === \"development\" ? \"localhost:5000\" : \"/\",\r\n    {\r\n      upgrade: false,\r\n      transports: [\"websocket\"],\r\n    }\r\n  ),\r\n  subscribe: (setState) => behaviorSubject.subscribe(setState),\r\n  currentState: () => {\r\n    let temp;\r\n    behaviorSubject.subscribe((v) => (temp = v));\r\n    return temp || initialState;\r\n  },\r\n  init: () => {\r\n    behaviorSubject.next(state);\r\n  },\r\n  updateData: (object = initialState) => {\r\n    state = {\r\n      ...state,\r\n      ...object,\r\n    };\r\n    behaviorSubject.next(state);\r\n  },\r\n};\r\n\r\nexport const updateAllowFetchRooms = (bool) => {\r\n  state.allowFetchRooms = bool;\r\n};\r\n\r\nexport const updateSignIn = (bool) => {\r\n  state.isSignIn = bool;\r\n};\r\n\r\nexport const updateAllowFetchCurrentRoomDetail = (bool) => {\r\n  state.allowFetchCurrentRoomDetail = bool;\r\n};\r\n\r\nexport const updateUserIdNow = (string) => {\r\n  state.userId = string;\r\n};\r\n\r\nexport const updateAllowRemoveVideoWatch = (bool) => {\r\n  state.allowRemoveVideoWatch = bool;\r\n};\r\n\r\nexport const updateAllowUserJoin = (bool) => {\r\n  state.allowUserJoin = bool;\r\n};\r\n\r\nexport default theaterStore;\r\n","import { useEffect } from \"react\";\r\nimport { fetchRoomData, initTheaterState } from \"../Functions/theater\";\r\nexport const useInitTheaterState = (\r\n  setTheaterState,\r\n  setFilterKeyRoom,\r\n  inputSearchRoom\r\n) => {\r\n  useEffect(\r\n    initTheaterState(\r\n      setTheaterState,\r\n      setFilterKeyRoom,\r\n      inputSearchRoom\r\n    ),\r\n    []\r\n  );\r\n};\r\n\r\nexport const useFetchRoomData = (\r\n  theaterState,\r\n  cookies,\r\n  buttonSubmitRef,\r\n  inputRoomNameRef,\r\n  inputPasswordRef\r\n) => {\r\n  useEffect(\r\n    fetchRoomData(\r\n      theaterState,\r\n      cookies,\r\n      buttonSubmitRef,\r\n      inputRoomNameRef,\r\n      inputPasswordRef\r\n    ),\r\n    [cookies.idCartoonUser, theaterState.allowFetchRooms]\r\n  );\r\n};","import { asyncScheduler, fromEvent } from \"rxjs\";\r\nimport { throttleTime } from \"rxjs/operators\";\r\n\r\nimport { updateAllowFetchRooms, updateAllowUserJoin } from \"../store/theater\";\r\nimport {\r\n  fetchRoomsData$,\r\n  theaterStream,\r\n  validateForm$,\r\n} from \"../epics/theater\";\r\n\r\nexport const initTheaterState = (\r\n  setTheaterState,\r\n  setFilterKeyRoom,\r\n  inputSearchRoom\r\n) => {\r\n  return () => {\r\n    const subscription = theaterStream.subscribe(setTheaterState);\r\n    theaterStream.init();\r\n    const subscription1 = fromEvent(inputSearchRoom.current, \"input\")\r\n      .pipe(\r\n        throttleTime(400, asyncScheduler, {\r\n          leading: true,\r\n          trailing: true,\r\n        })\r\n      )\r\n      .subscribe((e) => {\r\n        setFilterKeyRoom(e.target.value);\r\n      });\r\n    return () => {\r\n      // theaterStream.socket.emit(\"disconnect-custom\");\r\n      updateAllowUserJoin(false);\r\n      subscription1.unsubscribe();\r\n      subscription.unsubscribe();\r\n    };\r\n  };\r\n};\r\n\r\nexport const fetchRoomData = (\r\n  theaterState,\r\n  cookies,\r\n  buttonSubmitRef,\r\n  inputRoomNameRef,\r\n  inputPasswordRef\r\n) => {\r\n  return () => {\r\n    if (theaterState.allowFetchRooms) {\r\n      fetchRoomsData$(cookies.idCartoonUser).subscribe((rooms) => {\r\n        theaterStream.updateData({ rooms });\r\n        updateAllowFetchRooms(false);\r\n      });\r\n    }\r\n    // socket.on(\"fetch-data-rooms\", () => {\r\n    //   if (theaterState.allowFetchRooms) {\r\n    //     fetchRoomsData$(cookies.idCartoonUser).subscribe((rooms) => {\r\n    //       theaterStream.updateData({ rooms });\r\n    //       updateAllowFetchRooms(false);\r\n    //     });\r\n    //   }\r\n    // });\r\n    const validationFormSub = validateForm$(\r\n      buttonSubmitRef.current,\r\n      inputRoomNameRef.current,\r\n      inputPasswordRef.current\r\n    ).subscribe();\r\n    ///TODO create new room\r\n    return () => {\r\n      validationFormSub.unsubscribe();\r\n    };\r\n  };\r\n};\r\n","import \"./Theater.css\";\r\n\r\nimport loadable from \"@loadable/component\";\r\nimport React, { useRef, useState } from \"react\";\r\nimport { useCookies } from \"react-cookie\";\r\nimport { Link, Route, Switch } from \"react-router-dom\";\r\n\r\nimport Input from \"../../components/Input/Input\";\r\nimport { theaterStream } from \"../../epics/theater\";\r\nimport { useFetchRoomData, useInitTheaterState } from \"../../Hook/theater\";\r\nimport {\r\n  updateAllowFetchCurrentRoomDetail,\r\n  updateAllowFetchRooms,\r\n  updateSignIn,\r\n} from \"../../store/theater\";\r\n\r\nconst Toggle = loadable(() => import(\"../../components/Toggle/Toggle\"));\r\nconst TheaterWatch = loadable(\r\n  () => import(\"../../pages/TheaterWatch/TheaterWatch\"),\r\n  {\r\n    fallback: <i className=\"fas fa-spinner fa-9x fa-spin\"></i>,\r\n  }\r\n);\r\n\r\nconst Theater = (props) => {\r\n  const locationPath = props.location.pathname.replace(/\\/theater\\//g, \"\");\r\n  const [theaterState, setTheaterState] = useState(theaterStream.initialState);\r\n  const [cookies] = useCookies([\"idCartoonUser\"]);\r\n  const [roomNameError, setRoomNameError] = useState(null);\r\n  const [passwordError, setPasswordError] = useState(null);\r\n  const [filterKeyRoom, setFilterKeyRoom] = useState(\"\");\r\n  const inputRoomNameRef = useRef();\r\n  const inputPasswordRef = useRef();\r\n  const buttonSubmitRef = useRef();\r\n  const inputSearchRoom = useRef();\r\n\r\n  useInitTheaterState(setTheaterState, setFilterKeyRoom, inputSearchRoom);\r\n  useFetchRoomData(\r\n    theaterState,\r\n    cookies,\r\n    buttonSubmitRef,\r\n    inputRoomNameRef,\r\n    inputPasswordRef\r\n  );\r\n  // toggleAnimation(theaterState);\r\n  return (\r\n    <div className=\"container-theater-watch\">\r\n      <Toggle mode={theaterState.modeRoom} />\r\n      <div\r\n        className=\"container-room\"\r\n        style={{\r\n          borderRight:\r\n            theaterState.modeRoom === 1 ? \"1px solid #ffffff70\" : \"none\",\r\n          maxWidth: theaterState.modeRoom === 1 ? \"300px\" : \"0\",\r\n          minWidth: theaterState.modeRoom === 1 ? \"300px\" : \"0\",\r\n        }}\r\n      >\r\n        <RoomList\r\n          rooms={theaterState.rooms.filter((room) =>\r\n            room.roomName.toLocaleLowerCase().includes(filterKeyRoom)\r\n          )}\r\n          locationPath={locationPath}\r\n          inputSearchRoom={inputSearchRoom}\r\n        />\r\n        <InputCreateRoom\r\n          inputRoomNameRef={inputRoomNameRef}\r\n          inputPasswordRef={inputPasswordRef}\r\n          buttonSubmitRef={buttonSubmitRef}\r\n          cookies={cookies}\r\n          roomNameError={roomNameError}\r\n          passwordError={passwordError}\r\n          setRoomNameError={setRoomNameError}\r\n          setPasswordError={setPasswordError}\r\n        />\r\n      </div>\r\n      <div className=\"container-watch-interface\">\r\n        <Switch>\r\n          <Route path=\"/theater/:groupId\" component={TheaterWatch} />\r\n        </Switch>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nfunction RoomList({ rooms, locationPath, inputSearchRoom }) {\r\n  return (\r\n    <div className=\"container-room-list\">\r\n      <Input label={\"Search room\"} input={inputSearchRoom} />\r\n      {rooms &&\r\n        rooms.map((room, index) => {\r\n          return (\r\n            <Link\r\n              to={`/theater/${room.groupId}`}\r\n              className={`room-link-item${\r\n                locationPath === room.groupId ? \" active-link\" : \"\"\r\n              }`}\r\n              onClick={() => {\r\n                updateSignIn(false);\r\n                updateAllowFetchCurrentRoomDetail(true);\r\n                // socket.emit(\"disconnect-custom\");\r\n              }}\r\n              key={index}\r\n            >\r\n              <div style={{ display: \"flex\", paddingRight: \"1.2rem\" }}>\r\n                {room.roomName}\r\n              </div>\r\n            </Link>\r\n          );\r\n        })}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction InputCreateRoom({\r\n  inputRoomNameRef,\r\n  inputPasswordRef,\r\n  buttonSubmitRef,\r\n  cookies,\r\n  roomNameError,\r\n  passwordError,\r\n  setRoomNameError,\r\n  setPasswordError,\r\n}) {\r\n  return (\r\n    <div className=\"input-room-layout\">\r\n      <h1>Create Room</h1>\r\n      <Input label=\"Room Name\" input={inputRoomNameRef} error={roomNameError} />\r\n      <Input\r\n        label=\"Password\"\r\n        type=\"password\"\r\n        input={inputPasswordRef}\r\n        error={passwordError}\r\n      />\r\n      <button\r\n        className=\"btn btn-primary\"\r\n        onClick={async () => {\r\n          const data = {\r\n            roomName: inputRoomNameRef.current.value,\r\n            password: inputPasswordRef.current.value,\r\n          };\r\n          buttonSubmitRef.current.disabled = true;\r\n          try {\r\n            const res = await fetch(\"/api/theater\", {\r\n              method: \"POST\",\r\n              body: JSON.stringify(data),\r\n              headers: {\r\n                authorization: `Bearer ${cookies.idCartoonUser}`,\r\n                \"Content-Type\": \"application/json\",\r\n              },\r\n            });\r\n            const resJson = await res.json();\r\n            console.log(resJson.error);\r\n            // socket.emit(\"create-new-room\");\r\n            if(resJson.error) throw Error(resJson.error)\r\n            updateAllowFetchRooms(true);\r\n            inputRoomNameRef.current.value = \"\";\r\n            inputPasswordRef.current.value = \"\";\r\n            theaterStream.updateData({\r\n              rooms: [...theaterStream.currentState().rooms, resJson.message],\r\n            });\r\n          } catch (error) {\r\n            if (error.message.toLowerCase().includes(\"roomname\")) {\r\n              setRoomNameError(error.message);\r\n              inputRoomNameRef.current.value = \"\";\r\n            } else {\r\n              setRoomNameError(null);\r\n              inputRoomNameRef.current.value = \"\";\r\n              inputPasswordRef.current.value = \"\";\r\n            }\r\n            if (error.message.toLowerCase().includes(\"password\")) {\r\n              setPasswordError(error.message);\r\n              inputPasswordRef.current.value = \"\";\r\n            } else {\r\n              inputRoomNameRef.current.value = \"\";\r\n              inputPasswordRef.current.value = \"\";\r\n              setPasswordError(null);\r\n            }\r\n          }\r\n        }}\r\n        ref={buttonSubmitRef}\r\n      >\r\n        Submit\r\n      </button>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Theater;\r\n"],"sourceRoot":""}