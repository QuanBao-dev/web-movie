{"version":3,"sources":["../../../../src/internal/observable/from.ts","../../../../src/internal/observable/empty.ts","../../../../src/internal/util/isNumeric.ts","../../../../src/internal/operators/mergeMap.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../../src/internal/util/noop.ts","store/caches.js","../../../../src/internal/scheduled/scheduled.ts","../../../../src/internal/util/isInteropObservable.ts","../../../../src/internal/scheduled/scheduleObservable.ts","../../../../src/internal/scheduled/schedulePromise.ts","../../../../src/internal/util/isIterable.ts","../../../../src/internal/scheduled/scheduleIterable.ts","../../../../src/internal/observable/throwError.ts","../../../../src/internal/observable/defer.ts","../../../../src/internal/util/isDate.ts","../../../../src/internal/util/TimeoutError.ts","../../../../src/internal/operators/pluck.ts","../../../../src/internal/operators/filter.ts","../../../../src/internal/observable/timer.ts","../../../../src/internal/operators/mergeAll.ts","../../../../src/internal/operators/tap.ts","../../../../src/internal/operators/concatAll.ts","../../../../src/internal/observable/iif.ts","../../../src/internal/Notification.ts","../../../../src/internal/operators/retry.ts","../../../../src/internal/operators/mergeMapTo.ts","../../../../src/internal/operators/timeoutWith.ts","../../../../src/internal/operators/timeout.ts","../../../../src/internal/operators/delay.ts","pages/PersonDetail/PersonDetail.js"],"names":["from","input","scheduler","Observable","empty","isNumeric","val","concurrent","resultSelector","source","MergeMapOperator","MergeMapSubscriber","destination","project","Number","_this","_super","_next","value","push","_tryNext","result","index","error","err","active","_innerSub","innerSubscriber","innerSubscription","hasCompleted","unsubscribe","prototype","notifyNext","notifyComplete","buffer","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","unsupportedIterableToArray","TypeError","initialState","behaviorSubject","BehaviorSubject","state","cachesStore","subscribe","setState","currentState","ans","updateData","obj","next","scheduled","isInteropObservable","subscriber","sub","add","schedule","observable","complete","Subscription","Symbol_iterator","done","throwError","dispatch","_a","defer","observableFactory","isDate","TimeoutErrorImpl","Error","message","_i","length","plucker","props","x","i","p","currentProp","undefined","filter","predicate","thisArg","FilterOperator","call","FilterSubscriber","tslib_1","dueTime","period","periodOrScheduler","async","closed","tap","nextOrObserver","DoOperator","TapSubscriber","observerOrNext","noop","_tapComplete","_tapError","isFunction","_context","_tapNext","concatAll","trueResult","NotificationKind","Notification","kind","observe","observer","do","accept","toObservable","of","count","RetryOperator","RetrySubscriber","isStopped","TimeoutWithOperator","withObservable","waitFor","TimeoutWithSubscriber","scheduleTimeout","action","_unsubscribe","DelayOperator","delay","DelaySubscriber","queue","notification","delay_1","_schedule","DelayMessage","scheduleNotification","_error","errored","_complete","time","AnimeStaffPositions","loadable","fallback","color","size","AllAnimeRelated","pageSplit","dataPersonDetail","malId","lazy","personDetailStore","init","object","updatePageSplit","page","updateDataPersonDetail","data","v","resetData","PersonDetail","personId","match","params","parseInt","updateVoiceActingRoles","useRef","history","useHistory","useState","personDetailState","setPersonDetailState","isDoneLoadingVoices","setIsDoneLoadingVoices","useEffect","subscription","window","scroll","top","current","setIsDoneLoading","iif","timer","pipe","map","ajax","pluck","typeResponse","status","mergeMap","catchError","console","retry","timeout","response","image_url","images","webp","jpg","anime_staff_positions","manga_staff_positions","voice_acting_roles","fetchDataPerson$","mergeMapTo","fromEvent","document","body","scrollHeight","scrollY","keys","ignoreList","keyPersonInformation","reduce","key","includes","dataVoiceActor","character","mal_id","animeList","anime","role","className","src","alt","replace","Date","toUTCString","slice","about","style","boxShadow","updateStaffPosition","isManga","to","name","toLocaleLowerCase","large_image_url","title","url","display","justifyContent"],"mappings":"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","file":"static/js/12.69638ec1.chunk.js","sourcesContent":[null,null,null,null,"import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}",null,"import { BehaviorSubject } from \"rxjs\";\r\nconst initialState = {};\r\nconst behaviorSubject = new BehaviorSubject(initialState);\r\nlet state = initialState;\r\nconst cachesStore = {\r\n  subscribe: (setState) =>\r\n    behaviorSubject.subscribe((value) => setState(value)),\r\n  currentState: () => {\r\n    let ans;\r\n    behaviorSubject.subscribe((value) => {\r\n      ans = value;\r\n    });\r\n    return ans;\r\n  },\r\n  updateData: (obj) => {\r\n    state = {\r\n      ...state,\r\n      ...obj,\r\n    };\r\n    behaviorSubject.next(state);\r\n  },\r\n};\r\n\r\nexport default cachesStore;\r\n",null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import \"./PersonDetail.css\";\r\n\r\nimport loadable from \"@loadable/component\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport React, { useEffect, useState, useRef } from \"react\";\r\nimport { Link, useHistory } from \"react-router-dom\";\r\nimport {\r\n  BehaviorSubject,\r\n  from,\r\n  fromEvent,\r\n  of,\r\n  timer,\r\n  throwError,\r\n  iif,\r\n} from \"rxjs\";\r\nimport { ajax } from \"rxjs/ajax\";\r\nimport {\r\n  catchError,\r\n  concatAll,\r\n  delay,\r\n  filter,\r\n  map,\r\n  mergeMap,\r\n  mergeMapTo,\r\n  pluck,\r\n  retry,\r\n  tap,\r\n  timeout,\r\n} from \"rxjs/operators\";\r\nimport cachesStore from \"../../store/caches\";\r\n\r\nconst AnimeStaffPositions = loadable(\r\n  () => import(\"../../components/AnimeStaffPositions/AnimeStaffPositions\"),\r\n  {\r\n    fallback: <CircularProgress color=\"primary\" size=\"7rem\" />,\r\n  }\r\n);\r\n\r\nconst AllAnimeRelated = loadable(\r\n  () => import(\"../../components/AllAnimeRelated/AllAnimeRelated\"),\r\n  {\r\n    fallback: <CircularProgress color=\"primary\" size=\"7rem\" />,\r\n  }\r\n);\r\nlet numberDisplay = 1;\r\nconst initialState = {\r\n  pageSplit: 1,\r\n  dataPersonDetail: {},\r\n  malId: null,\r\n  lazy: true,\r\n};\r\nlet state = initialState;\r\nconst behaviorSubject = new BehaviorSubject();\r\nconst personDetailStore = {\r\n  initialState: initialState,\r\n  subscribe: (setState) => behaviorSubject.subscribe(setState),\r\n  init: () => {\r\n    behaviorSubject.next(state);\r\n  },\r\n  updateData: (object = initialState) => {\r\n    state = {\r\n      ...state,\r\n      ...object,\r\n    };\r\n    behaviorSubject.next(state);\r\n  },\r\n  updatePageSplit: (page) => {\r\n    state = {\r\n      ...state,\r\n      pageSplit: page,\r\n    };\r\n    behaviorSubject.next(state);\r\n  },\r\n  updateDataPersonDetail: (data) => {\r\n    state = {\r\n      ...state,\r\n      dataPersonDetail: data,\r\n    };\r\n    behaviorSubject.next(state);\r\n  },\r\n  currentState: () => {\r\n    let ans;\r\n    behaviorSubject.subscribe((v) => (ans = v));\r\n    return ans || initialState;\r\n  },\r\n  resetData: () => {\r\n    state = {\r\n      ...state,\r\n      pageSplit: 1,\r\n      malId: null,\r\n      dataPersonDetail: {},\r\n    };\r\n    behaviorSubject.next(state);\r\n  },\r\n};\r\nconst PersonDetail = (props) => {\r\n  let { personId } = props.match.params;\r\n  personId = parseInt(personId);\r\n  const updateVoiceActingRoles = useRef();\r\n  const history = useHistory();\r\n  const [personDetailState, setPersonDetailState] = useState(\r\n    personDetailStore.currentState() || personDetailStore.initialState\r\n  );\r\n  const [isDoneLoadingVoices, setIsDoneLoadingVoices] = useState(false);\r\n  useEffect(() => {\r\n    const subscription = personDetailStore.subscribe(setPersonDetailState);\r\n    window.scroll({ top: 0 });\r\n    return () => {\r\n      personDetailStore.updateData({ lazy: false });\r\n      subscription.unsubscribe();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  useEffect(() => {\r\n    let subscription;\r\n    if (personDetailState.malId !== personId) {\r\n      personDetailStore.updateData({\r\n        lazy: true,\r\n        pageSplit: 1,\r\n        malId: null,\r\n        dataPersonDetail: {},\r\n      });\r\n\r\n      updateVoiceActingRoles.current = null;\r\n      subscription = fetchDataPerson$(\r\n        personId,\r\n        setIsDoneLoadingVoices\r\n      ).subscribe((v) => {\r\n        if (v.error) return;\r\n        personDetailStore.updateData({\r\n          dataPersonDetail: {\r\n            ...personDetailStore.currentState().dataPersonDetail,\r\n            ...v,\r\n          },\r\n        });\r\n        if (v.typeResponse === \"voices\") {\r\n          // console.log(\"done\");\r\n          personDetailStore.updateData({ malId: personId });\r\n        }\r\n      });\r\n    } else {\r\n      setIsDoneLoadingVoices(true);\r\n    }\r\n    return () => {\r\n      subscription && subscription.unsubscribe();\r\n    };\r\n  }, [personId, personDetailState.malId]);\r\n  useEffect(() => {\r\n    const subscription = updatePageLazyLoad$()\r\n      .pipe(filter(() => personDetailStore.currentState().malId === personId))\r\n      .subscribe((v) => {\r\n        personDetailStore.updatePageSplit(\r\n          personDetailStore.currentState().pageSplit + 1\r\n        );\r\n      });\r\n    if (updateVoiceActingRoles.current)\r\n      if (\r\n        personDetailState.pageSplit * numberDisplay >\r\n        Object.keys(updateVoiceActingRoles.current).length\r\n      ) {\r\n        subscription.unsubscribe();\r\n      }\r\n    return () => {\r\n      subscription.unsubscribe();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [personDetailState.pageSplit]);\r\n  const keyPersonInformation = ignoreKeys(\r\n    Object.keys(personDetailState.dataPersonDetail),\r\n    [\r\n      \"typeResponse\",\r\n      \"request_hash\",\r\n      \"request_cached\",\r\n      \"request_cache_expiry\",\r\n      \"mal_id\",\r\n      \"published_manga\",\r\n      \"voice_acting_roles\",\r\n      \"anime_staff_positions\",\r\n      \"manga_staff_positions\",\r\n      \"alternate_names\",\r\n      \"about\",\r\n      \"image_url\",\r\n      \"url\",\r\n      \"website_url\",\r\n      \"images\",\r\n    ]\r\n  );\r\n\r\n  if (personDetailState.dataPersonDetail.voice_acting_roles) {\r\n    updateVoiceActingRoles.current =\r\n      personDetailState.dataPersonDetail.voice_acting_roles.reduce(\r\n        (ans, dataVoiceActor) => {\r\n          if (!ans[dataVoiceActor.character.mal_id])\r\n            ans[dataVoiceActor.character.mal_id] = {};\r\n          ans[dataVoiceActor.character.mal_id] = {\r\n            ...ans[dataVoiceActor.character.mal_id],\r\n            ...dataVoiceActor.character,\r\n          };\r\n          !ans[dataVoiceActor.character.mal_id].animeList &&\r\n            (ans[dataVoiceActor.character.mal_id].animeList = []);\r\n          ans[dataVoiceActor.character.mal_id].animeList = [\r\n            ...ans[dataVoiceActor.character.mal_id].animeList,\r\n            { ...dataVoiceActor.anime, role: dataVoiceActor.role },\r\n          ];\r\n          return ans;\r\n        },\r\n        {}\r\n      );\r\n  }\r\n\r\n  if (!personDetailState.dataPersonDetail.error)\r\n    return (\r\n      <div className=\"person-detail-container\">\r\n        <div className=\"person-information-wrapper\">\r\n          <img\r\n            className=\"image-person\"\r\n            src={\r\n              personDetailState.dataPersonDetail.image_url ||\r\n              \"https://us.123rf.com/450wm/pikepicture/pikepicture1612/pikepicture161200526/68824651-stock-vector-male-default-placeholder-avatar-profile-gray-picture-isolated-on-white-background-for-your-design-ve.jpg?ver=6\"\r\n            }\r\n            alt=\"image_person\"\r\n          ></img>\r\n          {keyPersonInformation.length > 0 && (\r\n            <div className=\"person-information\">\r\n              {keyPersonInformation &&\r\n                keyPersonInformation.map((key, index) => (\r\n                  <div className=\"wrapper-text\" key={index}>\r\n                    <span className=\"text-capitalize\">\r\n                      {key.replace(\"_\", \" \")}\r\n                    </span>\r\n                    {key !== \"birthday\" && (\r\n                      <span>\r\n                        {personDetailState.dataPersonDetail[key] || \"Unknown\"}\r\n                      </span>\r\n                    )}\r\n                    {key === \"birthday\" && (\r\n                      <span>\r\n                        {new Date(personDetailState.dataPersonDetail[key])\r\n                          .toUTCString()\r\n                          .slice(0, 12)}\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n            </div>\r\n          )}\r\n        </div>\r\n        {personDetailState.dataPersonDetail.about && (\r\n          <div\r\n            className=\"wrapper-text\"\r\n            style={{\r\n              boxShadow: \"none\",\r\n            }}\r\n          >\r\n            <span className=\"text-capitalize\">about</span>\r\n            <pre className=\"text-about-person\">\r\n              {personDetailState.dataPersonDetail.about.replace(/\\\\n/g, \"\")}\r\n            </pre>\r\n          </div>\r\n        )}\r\n        {personDetailState.dataPersonDetail.anime_staff_positions &&\r\n          personDetailState.dataPersonDetail.anime_staff_positions.length >\r\n            0 && (\r\n            <div>\r\n              <h1 className=\"text-capitalize\">Anime Staff Positions</h1>\r\n              <AnimeStaffPositions\r\n                history={history}\r\n                lazy={personDetailState.lazy}\r\n                updateStaffPosition={\r\n                  personDetailState.dataPersonDetail.anime_staff_positions\r\n                }\r\n              />\r\n            </div>\r\n          )}\r\n        {personDetailState.dataPersonDetail.manga_staff_positions &&\r\n          personDetailState.dataPersonDetail.manga_staff_positions.length >\r\n            0 && (\r\n            <div>\r\n              <h1 className=\"text-capitalize\">Manga Staff Positions</h1>\r\n              <AnimeStaffPositions\r\n                history={history}\r\n                lazy={personDetailState.lazy}\r\n                updateStaffPosition={\r\n                  personDetailState.dataPersonDetail.manga_staff_positions\r\n                }\r\n                isManga={true}\r\n              />\r\n            </div>\r\n          )}\r\n        {updateVoiceActingRoles.current &&\r\n          Object.keys(updateVoiceActingRoles.current).length !== 0 && (\r\n            <div>\r\n              <h1 className=\"text-capitalize\">Voice Acting Roles</h1>\r\n              <div className=\"list-anime-voice-acting\">\r\n                {Object.keys(updateVoiceActingRoles.current)\r\n                  .slice(\r\n                    0,\r\n                    numberDisplay * (personDetailState.pageSplit - 1) + 1\r\n                  )\r\n                  .map((key, index) => (\r\n                    <div key={index} className=\"person-voice-item\">\r\n                      <Link\r\n                        to={`/character/${\r\n                          updateVoiceActingRoles.current[key].mal_id\r\n                        }-${updateVoiceActingRoles.current[key].name\r\n                          .replace(/[ /%^&*():.$,]/g, \"-\")\r\n                          .toLocaleLowerCase()}`}\r\n                        className=\"character-item-voice\"\r\n                      >\r\n                        <img\r\n                          className=\"person__image-character\"\r\n                          src={\r\n                            updateVoiceActingRoles.current[key].images.jpg\r\n                              .large_image_url ||\r\n                            updateVoiceActingRoles.current[key].images.jpg\r\n                              .image_url\r\n                          }\r\n                          alt=\"image_character\"\r\n                        />\r\n                        <div className=\"pop-up-hover-character\">\r\n                          <h3>{updateVoiceActingRoles.current[key].name}</h3>\r\n                        </div>\r\n                      </Link>\r\n                      <AllAnimeRelated\r\n                        animeList={updateVoiceActingRoles.current[\r\n                          key\r\n                        ].animeList.map(\r\n                          ({ role, title, url, images, mal_id }) => ({\r\n                            role,\r\n                            anime: {\r\n                              title,\r\n                              url,\r\n                              images,\r\n                              mal_id,\r\n                            },\r\n                          })\r\n                        )}\r\n                        history={history}\r\n                        lazy={personDetailState.lazy}\r\n                      />\r\n                    </div>\r\n                  ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        {!isDoneLoadingVoices && (\r\n          <div style={{ display: \"flex\", justifyContent: \"center\" }}>\r\n            <CircularProgress color=\"secondary\" size=\"4rem\" />\r\n          </div>\r\n        )}\r\n      </div>\r\n    );\r\n  else\r\n    return (\r\n      <div>\r\n        <h1>No information about this actor</h1>\r\n      </div>\r\n    );\r\n};\r\n\r\nfunction fetchDataPerson$(personId, setIsDoneLoading) {\r\n  return from([\r\n    iif(\r\n      () =>\r\n        cachesStore.currentState().dataPersonDetail &&\r\n        cachesStore.currentState().dataPersonDetail[personId] &&\r\n        cachesStore.currentState().dataPersonDetail[personId][\"info\"],\r\n      timer(0).pipe(\r\n        map(() => cachesStore.currentState().dataPersonDetail[personId][\"info\"])\r\n      ),\r\n      ajax(\"https://api.jikan.moe/v4/people/\" + personId).pipe(\r\n        pluck(\"response\", \"data\"),\r\n        map((data) => ({ data, typeResponse: \"info\" })),\r\n        tap(({ status }) => {\r\n          if (status === 500) {\r\n            throw Error(\"Something went wrong\");\r\n          }\r\n        }),\r\n        delay(1500),\r\n        mergeMap((data) => {\r\n          if (data.status === 500) {\r\n            return throwError({ error: \"Something went wrong\" });\r\n          }\r\n          return of(data);\r\n        }),\r\n        catchError((error) => {\r\n          console.error(error);\r\n          return of({ error: \"Something went wrong\" });\r\n        }),\r\n        retry(5)\r\n      )\r\n    ),\r\n    iif(\r\n      () =>\r\n        cachesStore.currentState().dataPersonDetail &&\r\n        cachesStore.currentState().dataPersonDetail[personId] &&\r\n        cachesStore.currentState().dataPersonDetail[personId][\"anime\"],\r\n      timer(0).pipe(\r\n        map(\r\n          () => cachesStore.currentState().dataPersonDetail[personId][\"anime\"]\r\n        )\r\n      ),\r\n      ajax(`https://api.jikan.moe/v4/people/${personId}/anime`).pipe(\r\n        pluck(\"response\", \"data\"),\r\n        map((data) => ({ data, typeResponse: \"anime\" })),\r\n        timeout(3000),\r\n        delay(1500),\r\n        mergeMap((data) => {\r\n          if (data.status === 500) {\r\n            return throwError({ error: \"Something went wrong\" });\r\n          }\r\n          return of(data);\r\n        }),\r\n        catchError((error) => {\r\n          console.error(error);\r\n          return of({ error: \"Something went wrong\" });\r\n        }),\r\n        retry(1)\r\n      )\r\n    ),\r\n    iif(\r\n      () =>\r\n        cachesStore.currentState().dataPersonDetail &&\r\n        cachesStore.currentState().dataPersonDetail[personId] &&\r\n        cachesStore.currentState().dataPersonDetail[personId][\"manga\"],\r\n      timer(0).pipe(\r\n        map(\r\n          () => cachesStore.currentState().dataPersonDetail[personId][\"manga\"]\r\n        )\r\n      ),\r\n      ajax(`https://api.jikan.moe/v4/people/${personId}/manga`).pipe(\r\n        pluck(\"response\", \"data\"),\r\n        map((data) => ({ data, typeResponse: \"manga\" })),\r\n        timeout(3000),\r\n        delay(1500),\r\n        mergeMap((data) => {\r\n          if (data.status === 500) {\r\n            return throwError({ error: \"Something went wrong\" });\r\n          }\r\n          return of(data);\r\n        }),\r\n        catchError((error) => {\r\n          console.error(error);\r\n          return of({ error: \"Something went wrong\" });\r\n        }),\r\n        retry(1)\r\n      )\r\n    ),\r\n    iif(\r\n      () =>\r\n        cachesStore.currentState().dataPersonDetail &&\r\n        cachesStore.currentState().dataPersonDetail[personId] &&\r\n        cachesStore.currentState().dataPersonDetail[personId][\"voices\"],\r\n      timer(0).pipe(\r\n        map(\r\n          () => cachesStore.currentState().dataPersonDetail[personId][\"voices\"]\r\n        )\r\n      ),\r\n      ajax(`https://api.jikan.moe/v4/people/${personId}/voices`).pipe(\r\n        pluck(\"response\", \"data\"),\r\n        map((data) => ({ data, typeResponse: \"voices\" })),\r\n        timeout(3000),\r\n        mergeMap((data) => {\r\n          setIsDoneLoading(true);\r\n          if (data.status === 500) {\r\n            return throwError({ error: \"Something went wrong\" });\r\n          }\r\n          return of(data);\r\n        }),\r\n        catchError((error) => {\r\n          console.error(error);\r\n          return of({ error: \"Something went wrong\" });\r\n        }),\r\n        retry(1)\r\n      )\r\n    ),\r\n  ]).pipe(\r\n    concatAll(),\r\n    map((response) => {\r\n      cachesStore.updateData({\r\n        dataPersonDetail: {\r\n          ...cachesStore.currentState().dataPersonDetail,\r\n          [personId]: {\r\n            ...(cachesStore.currentState().dataPersonDetail || {})[personId],\r\n            [response.typeResponse]: {\r\n              ...response,\r\n            },\r\n          },\r\n        },\r\n      });\r\n      if (response.error) return { error: response.error };\r\n      if (!response.data) return;\r\n      switch (response.typeResponse) {\r\n        case \"info\":\r\n          return {\r\n            ...response.data,\r\n            image_url: response.data.images.webp\r\n              ? response.data.images.webp.image_url\r\n              : response.data.images.jpg.image_url,\r\n          };\r\n        case \"anime\":\r\n          return {\r\n            anime_staff_positions: response.data,\r\n          };\r\n        case \"manga\":\r\n          return { manga_staff_positions: response.data };\r\n        default:\r\n          setIsDoneLoading(true);\r\n          return {\r\n            voice_acting_roles: response.data,\r\n            typeResponse: \"voices\",\r\n          };\r\n      }\r\n    })\r\n  );\r\n}\r\n\r\nfunction ignoreKeys(keys, ignoreList) {\r\n  return keys.reduce((ans, key) => {\r\n    if (!ignoreList.includes(key)) {\r\n      ans.push(key);\r\n    }\r\n    return ans;\r\n  }, []);\r\n}\r\n\r\nfunction updatePageLazyLoad$() {\r\n  return timer(0).pipe(\r\n    mergeMapTo(\r\n      fromEvent(window, \"scroll\").pipe(\r\n        filter(() => document.body.scrollHeight - (window.scrollY + 900) < 0)\r\n      )\r\n    )\r\n  );\r\n}\r\n\r\nexport default PersonDetail;\r\n"],"sourceRoot":""}