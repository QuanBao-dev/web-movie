{"version":3,"sources":["../../../../src/internal/observable/empty.ts","../../../../src/internal/util/isNumeric.ts","../../../../src/internal/operators/mergeMap.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../../src/internal/util/noop.ts","../../../../src/internal/observable/defer.ts","../../../../src/internal/operators/pluck.ts","../../../../src/internal/operators/filter.ts","../../../../src/internal/observable/timer.ts","../../../../src/internal/operators/tap.ts","../../../../src/internal/operators/debounceTime.ts","../../../../src/internal/observable/iif.ts","../../../../src/internal/operators/retry.ts","../../../../src/internal/operators/mergeMapTo.ts","../../../../src/internal/operators/exhaustMap.ts","store/topAnimeList.js","epics/topAnimeList.js","Functions/topAnimeList.js","Hook/topAnimeList.js","components/TopAnimeList/TopAnimeList.js"],"names":["empty","scheduler","isNumeric","val","concurrent","resultSelector","source","MergeMapOperator","MergeMapSubscriber","destination","project","Number","_this","_super","_next","value","push","_tryNext","result","index","error","err","active","_innerSub","innerSubscriber","innerSubscription","hasCompleted","unsubscribe","prototype","notifyNext","notifyComplete","buffer","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","from","unsupportedIterableToArray","TypeError","defer","observableFactory","Observable","input","subscriber","_i","length","plucker","props","x","i","p","currentProp","undefined","filter","predicate","thisArg","FilterOperator","call","FilterSubscriber","tslib_1","dueTime","period","periodOrScheduler","async","dispatch","state","closed","tap","nextOrObserver","complete","DoOperator","TapSubscriber","observerOrNext","noop","_tapComplete","_tapError","isFunction","_context","_tapNext","next","DebounceTimeOperator","DebounceTimeSubscriber","clearDebounce","add","_complete","hasValue","lastValue","debouncedSubscription","Subscriber","trueResult","count","RetryOperator","RetrySubscriber","isStopped","_a","exhaustMap","ExhaustMapOperator","ExhaustMapSubscriber","hasSubscription","SimpleInnerSubscriber","notifyError","initialState","screenWidth","dataTopMovie","pageTopMovieOnDestroy","isStopFetchTopMovie","pageSplitTopMovie","allowFetchIncreasePageTopMovie","pageTopMovie","toggleFetchMode","positionScrollTop","behaviorSubject","BehaviorSubject","topAnimeListStream","subscribe","setState","v","currentState","ans","init","window","innerWidth","updateData","data","updateDataQuick","keys","forEach","key","pageScrollingUpdatePage","subscription11","topAnimeElement","document","querySelector","timer","pipe","mergeMapTo","iif","fromEvent","scrollTop","scrollHeight","body","scrollY","debounceTime","topMovieUpdatedScrolling$","fetchTopAnime","topAnimeListState","subscription7","ajax","url","pluck","retry","catchError","of","topMovieList","updatedAnime","parseInt","useInitTopAnimeList","setTopAnimeListState","useEffect","subscription","setTimeout","scroll","top","initTopAnimeList","TopAnimeItem","loadable","TopAnimeList","useState","usePageScrollingUpdatePage","useFetchTopAnime","className","onScroll","e","containerHeaderTopAnime","target","style","boxShadow","defaultValue","onChange","slice","map","movie","lazy","display","height","width","CircularProgress","color"],"mappings":"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","file":"static/js/21.5560c4e1.chunk.js","sourcesContent":[null,null,null,"import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}",null,null,null,null,null,null,null,null,null,null,null,"import { BehaviorSubject } from \"rxjs\";\r\nconst initialState = {\r\n  screenWidth: null,\r\n  dataTopMovie: [],\r\n  pageTopMovieOnDestroy: null,\r\n  isStopFetchTopMovie: false,\r\n  pageSplitTopMovie: 1,\r\n  allowFetchIncreasePageTopMovie: false,\r\n  pageTopMovie: 1,\r\n  toggleFetchMode: \"rank\",\r\n  positionScrollTop: 0\r\n};\r\nconst behaviorSubject = new BehaviorSubject(initialState);\r\n\r\nlet state = initialState;\r\n\r\nconst topAnimeListStore = {\r\n  initialState,\r\n  subscribe: (setState) => behaviorSubject.subscribe((v) => setState(v)),\r\n  currentState: () => {\r\n    let ans;\r\n    behaviorSubject.subscribe((v) => {\r\n      ans = v;\r\n    });\r\n    return ans || initialState;\r\n  },\r\n  init: () => {\r\n    state = {\r\n      ...state,\r\n      screenWidth: window.innerWidth,\r\n    };\r\n    behaviorSubject.next(state);\r\n  },\r\n  updateData: (data = initialState) => {\r\n    state = {\r\n      ...state,\r\n      ...data,\r\n    };\r\n    behaviorSubject.next(state);\r\n  },\r\n  updateDataQuick: (data = initialState) => {\r\n    const keys = Object.keys(data);\r\n    keys.forEach((key) => {\r\n      state[key] = data[key];\r\n    });\r\n  },\r\n};\r\n\r\nexport default topAnimeListStore;\r\n","import { fromEvent, iif, of, timer } from \"rxjs\";\r\nimport { ajax } from \"rxjs/ajax\";\r\nimport {\r\n  catchError,\r\n  debounceTime,\r\n  exhaustMap,\r\n  filter,\r\n  mergeMapTo,\r\n  pluck,\r\n  retry,\r\n  tap,\r\n} from \"rxjs/operators\";\r\nimport topAnimeListStore from \"../store/topAnimeList\";\r\n\r\nexport const topAnimeListStream = topAnimeListStore;\r\n\r\nexport const topMovieUpdatedScrolling$ = (topAnimeElement) => {\r\n  return timer(0).pipe(\r\n    mergeMapTo(\r\n      iif(\r\n        () => window.innerWidth > 770,\r\n        fromEvent(\r\n          topAnimeListStream.currentState().screenWidth > 1510\r\n            ? topAnimeElement\r\n            : window,\r\n          \"scroll\"\r\n        ).pipe(\r\n          filter(() =>\r\n            topAnimeListStream.currentState().screenWidth > 1510\r\n              ? topAnimeElement.scrollTop -\r\n                  (topAnimeElement.scrollHeight - 5000) >\r\n                0\r\n              : document.body.scrollHeight - (window.scrollY + 2000) < 0\r\n          ),\r\n          tap(() => {\r\n            if (\r\n              8 +\r\n                (topAnimeListStream.currentState().pageSplitTopMovie - 1) * 5 <=\r\n              topAnimeListStream.currentState().dataTopMovie.length\r\n            )\r\n              topAnimeListStream.updateData({\r\n                pageSplitTopMovie:\r\n                  topAnimeListStream.currentState().pageSplitTopMovie + 1,\r\n              });\r\n          })\r\n        ),\r\n        fromEvent(\r\n          topAnimeListStream.currentState().screenWidth > 1510\r\n            ? topAnimeElement\r\n            : window,\r\n          \"scroll\"\r\n        ).pipe(\r\n          debounceTime(500),\r\n          filter(() =>\r\n            topAnimeListStream.currentState().screenWidth > 1510\r\n              ? topAnimeElement.scrollTop -\r\n                  (topAnimeElement.scrollHeight - 5000) >\r\n                0\r\n              : document.body.scrollHeight - (window.scrollY + 2000) < 0\r\n          ),\r\n          tap(() => {\r\n            if (\r\n              8 +\r\n                (topAnimeListStream.currentState().pageSplitTopMovie - 1) * 5 <=\r\n              topAnimeListStream.currentState().dataTopMovie.length\r\n            )\r\n              topAnimeListStream.updateData({\r\n                pageSplitTopMovie:\r\n                  topAnimeListStream.currentState().pageSplitTopMovie + 1,\r\n              });\r\n          })\r\n        )\r\n      )\r\n    )\r\n  );\r\n};\r\n\r\nexport const fetchTopMovie$ = () => {\r\n  return timer(0).pipe(\r\n    tap(() =>\r\n      topAnimeListStream.updateData({ allowFetchIncreasePageTopMovie: false })\r\n    ),\r\n    exhaustMap(() =>\r\n      ajax({\r\n        url:\r\n          topAnimeListStream.currentState().toggleFetchMode === \"rank\"\r\n            ? `https://api.jikan.moe/v4/top/anime?page=${\r\n                topAnimeListStream.currentState().pageTopMovie\r\n              }`\r\n            : `https://api.jikan.moe/v4/anime?order_by=${\r\n                topAnimeListStream.currentState().toggleFetchMode\r\n              }&page=${\r\n                topAnimeListStream.currentState().pageTopMovie\r\n              }&sort=desc`,\r\n      }).pipe(\r\n        pluck(\"response\", \"data\"),\r\n        tap(() => {\r\n          topAnimeListStream.updateData({\r\n            allowFetchIncreasePageTopMovie: true,\r\n          });\r\n          topAnimeListStream.updateDataQuick({\r\n            pageTopMovieOnDestroy:\r\n              topAnimeListStream.currentState().pageTopMovie,\r\n          });\r\n        }),\r\n        retry(5),\r\n        catchError((err) => {\r\n          topAnimeListStream.updateData({\r\n            isStopFetchTopMovie: true,\r\n          });\r\n          topAnimeListStream.updateData({\r\n            allowFetchIncreasePageTopMovie: false,\r\n          });\r\n          return of(topAnimeListStream.currentState().dataTopMovie);\r\n        })\r\n      )\r\n    )\r\n  );\r\n};\r\n","import {\r\n  fetchTopMovie$,\r\n  topAnimeListStream,\r\n  topMovieUpdatedScrolling$,\r\n} from \"../epics/topAnimeList\";\r\n\r\nexport const initTopAnimeList = (setTopAnimeListState) => {\r\n  return () => {\r\n    const subscription = topAnimeListStream.subscribe(setTopAnimeListState);\r\n    topAnimeListStream.init();\r\n    if (topAnimeListStream.currentState().screenWidth > 697) {\r\n      setTimeout(() => {\r\n        if (document.querySelector(\".top-anime-list-container\"))\r\n          document.querySelector(\".top-anime-list-container\").scroll({\r\n            top: topAnimeListStream.currentState().positionScrollTop,\r\n          });\r\n      }, 10);\r\n    }\r\n    if (topAnimeListStream.currentState().dataTopMovie.length === 0) {\r\n      // updatePageTopMovieOnDestroy(null);\r\n      topAnimeListStream.updateDataQuick({\r\n        pageTopMovieOnDestroy: null,\r\n      });\r\n      topAnimeListStream.updateData({\r\n        isStopFetchTopMovie: false,\r\n      });\r\n    }\r\n    return () => {\r\n      subscription.unsubscribe();\r\n      if (topAnimeListStream.currentState().screenWidth > 697) {\r\n        topAnimeListStream.updateData({\r\n          positionScrollTop: document.querySelector(\".top-anime-list-container\")\r\n            .scrollTop,\r\n        });\r\n      }\r\n    };\r\n  };\r\n};\r\n\r\nexport const pageScrollingUpdatePage = () => {\r\n  return () => {\r\n    let subscription11;\r\n    const topAnimeElement = document.querySelector(\".top-anime-list-container\");\r\n    if (topAnimeElement) {\r\n      subscription11 = topMovieUpdatedScrolling$(topAnimeElement).subscribe(\r\n        () => {\r\n          if (\r\n            8 + (topAnimeListStream.currentState().pageSplitTopMovie - 1) * 8 >\r\n            topAnimeListStream.currentState().dataTopMovie.length\r\n          )\r\n            topAnimeListStream.updateData({\r\n              pageTopMovie:\r\n                topAnimeListStream.currentState().dataTopMovie.length / 25 + 1,\r\n            });\r\n        }\r\n      );\r\n      if (topAnimeListStream.currentState().isStopFetchTopMovie) {\r\n        subscription11 && subscription11.unsubscribe();\r\n      }\r\n    }\r\n    return () => {\r\n      subscription11 && subscription11.unsubscribe();\r\n    };\r\n  };\r\n};\r\n\r\nexport const fetchTopAnime = (topAnimeListState) => {\r\n  return () => {\r\n    let subscription7;\r\n    if (\r\n      topAnimeListStream.currentState().pageTopMovieOnDestroy !==\r\n        topAnimeListState.pageTopMovie &&\r\n      !topAnimeListStream.currentState().isStopFetchTopMovie\r\n    )\r\n      subscription7 = fetchTopMovie$().subscribe((topMovieList) => {\r\n        // console.log(\"fetch top movie\");\r\n        const updatedAnime = [\r\n          ...topAnimeListStream.currentState().dataTopMovie,\r\n          ...topMovieList,\r\n        ];\r\n        if (\r\n          updatedAnime.length / 25 + 1 !==\r\n          parseInt(updatedAnime.length / 25 + 1)\r\n        ) {\r\n          topAnimeListStream.updateData({\r\n            isStopFetchTopMovie: true,\r\n          });\r\n        }\r\n\r\n        topAnimeListStream.updateData({\r\n          dataTopMovie: updatedAnime,\r\n        });\r\n      });\r\n    return () => {\r\n      subscription7 && subscription7.unsubscribe();\r\n    };\r\n  };\r\n};\r\n","import { useEffect } from \"react\";\r\nimport { topAnimeListStream } from \"../epics/topAnimeList\";\r\n\r\nimport {\r\n  fetchTopAnime,\r\n  initTopAnimeList,\r\n  pageScrollingUpdatePage,\r\n} from \"../Functions/topAnimeList\";\r\n\r\nexport const useInitTopAnimeList = (setTopAnimeListState) => {\r\n  useEffect(initTopAnimeList(setTopAnimeListState), []);\r\n};\r\n\r\nexport const usePageScrollingUpdatePage = (topAnimeListState) => {\r\n  useEffect(pageScrollingUpdatePage(), [\r\n    topAnimeListState.allowFetchIncreasePageTopMovie,\r\n    topAnimeListState.pageTopMovie,\r\n    topAnimeListState.screenWidth,\r\n  ]);\r\n};\r\n\r\nexport const useFetchTopAnime = (\r\n  topAnimeListState = topAnimeListStream.currentState()\r\n) => {\r\n  useEffect(fetchTopAnime(topAnimeListState), [\r\n    topAnimeListState.pageTopMovie,\r\n    topAnimeListState.toggleFetchMode,\r\n  ]);\r\n};\r\n","import \"./TopAnimeList.css\";\r\n\r\nimport loadable from \"@loadable/component\";\r\nimport CircularProgress from \"@material-ui/core/CircularProgress\";\r\nimport React, { useState } from \"react\";\r\n\r\nimport { topAnimeListStream } from \"../../epics/topAnimeList\";\r\nimport {\r\n  useFetchTopAnime,\r\n  useInitTopAnimeList,\r\n  usePageScrollingUpdatePage,\r\n} from \"../../Hook/topAnimeList\";\r\n\r\nconst TopAnimeItem = loadable(() => import(\"../TopAnimeItem/TopAnimeItem\"));\r\n\r\nfunction TopAnimeList() {\r\n  const [topAnimeListState, setTopAnimeListState] = useState(\r\n    topAnimeListStream.currentState()\r\n  );\r\n  useInitTopAnimeList(setTopAnimeListState);\r\n  usePageScrollingUpdatePage(topAnimeListState);\r\n  useFetchTopAnime(topAnimeListState);\r\n  return (\r\n    <div\r\n      className=\"top-anime-list-container\"\r\n      onScroll={(e) => {\r\n        const containerHeaderTopAnime = document.querySelector(\r\n          \".container-header-top-anime\"\r\n        );\r\n        if (e.target.scrollTop === 0) {\r\n          containerHeaderTopAnime.style.boxShadow = \"none\";\r\n        } else {\r\n          containerHeaderTopAnime.style.boxShadow = \"0 0 10px 1px black\";\r\n        }\r\n      }}\r\n    >\r\n      <div className=\"container-header-top-anime\">\r\n        <h1>Top Anime</h1>\r\n        <select\r\n          defaultValue={topAnimeListState.toggleFetchMode}\r\n          className=\"select-top-anime\"\r\n          onChange={(e) => {\r\n            document\r\n              .querySelector(\".top-anime-list-container\")\r\n              .scroll({ top: 0 });\r\n            topAnimeListStream.updateData({\r\n              toggleFetchMode: e.target.value,\r\n              pageTopMovieOnDestroy: null,\r\n              isStopFetchTopMovie: false,\r\n              pageSplitTopMovie: 1,\r\n              allowFetchIncreasePageTopMovie: false,\r\n              pageTopMovie: 1,\r\n              dataTopMovie: [],\r\n            });\r\n          }}\r\n        >\r\n          <option value=\"score\">Score</option>\r\n          <option value=\"popularity\">Popularity</option>\r\n          {/* <option value=\"/tv\">Tv</option>\r\n          <option value=\"/movie\">Movie</option> */}\r\n          {/* <option value=\"/ova\">Ova</option>\r\n          <option value=\"/special\">Special</option> */}\r\n          <option value=\"favorites\">Favorite</option>\r\n          <option value=\"rank\">Rank</option>\r\n        </select>{\" \"}\r\n      </div>\r\n      <ul className=\"top-anime-list\">\r\n        {topAnimeListState.dataTopMovie\r\n          .slice(0, 8 + (topAnimeListState.pageSplitTopMovie - 1) * 8)\r\n          .map((movie, index) => (\r\n            <TopAnimeItem\r\n              movie={movie}\r\n              key={index}\r\n              lazy={topAnimeListState.pageSplitTopMovie === 1}\r\n            />\r\n          ))}\r\n        <div\r\n          style={{\r\n            display: topAnimeListState.isStopFetchTopMovie ? \"none\" : \"block\",\r\n            height: \"70px\",\r\n            width: \"100%\",\r\n          }}\r\n        >\r\n          <CircularProgress color=\"secondary\" />\r\n        </div>\r\n        {/* {topAnimeListState.isStopFetchTopMovie && <h1>End</h1>} */}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default TopAnimeList;\r\n"],"sourceRoot":""}