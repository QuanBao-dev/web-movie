(this["webpackJsonpmy-app-2"]=this["webpackJsonpmy-app-2"]||[]).push([[32],{129:function(e,t,n){"use strict";var a=n(30),i={},c=new(n(75).a)(i),r=i,o={subscribe:function(e){return c.subscribe((function(t){return e(t)}))},currentState:function(){var e;return c.subscribe((function(t){e=t})),e},updateData:function(e){r=Object(a.a)(Object(a.a)({},r),e),c.next(r)}};t.a=o},155:function(e,t,n){"use strict";n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return o}));var a,i=n(124),c=n(83),r=n(131);a||(a={});var o=function(){function e(e,t,n){this.kind=e,this.value=t,this.error=n,this.hasValue="N"===e}return e.prototype.observe=function(e){switch(this.kind){case"N":return e.next&&e.next(this.value);case"E":return e.error&&e.error(this.error);case"C":return e.complete&&e.complete()}},e.prototype.do=function(e,t,n){switch(this.kind){case"N":return e&&e(this.value);case"E":return t&&t(this.error);case"C":return n&&n()}},e.prototype.accept=function(e,t,n){return e&&"function"===typeof e.next?this.observe(e):this.do(e,t,n)},e.prototype.toObservable=function(){switch(this.kind){case"N":return Object(c.a)(this.value);case"E":return Object(r.a)(this.error);case"C":return Object(i.b)()}throw new Error("unexpected notification kind value")},e.createNext=function(t){return"undefined"!==typeof t?new e("N",t):e.undefinedValueNotification},e.createError=function(t){return new e("E",void 0,t)},e.createComplete=function(){return e.completeNotification},e.completeNotification=new e("C"),e.undefinedValueNotification=new e("N",void 0),e}()},157:function(e,t,n){"use strict";n.d(t,"a",(function(){return R})),n.d(t,"g",(function(){return C})),n.d(t,"e",(function(){return A})),n.d(t,"c",(function(){return M})),n.d(t,"i",(function(){return V})),n.d(t,"j",(function(){return F})),n.d(t,"k",(function(){return _})),n.d(t,"f",(function(){return W})),n.d(t,"b",(function(){return U})),n.d(t,"d",(function(){return T})),n.d(t,"h",(function(){return z})),n.d(t,"l",(function(){return B})),n.d(t,"m",(function(){return q}));var a=n(30),i=n(191),c=n.n(i),r=n(142),o=n(154),u=n(131),s=n(83),d=n(107),p=n(101),b=n(149),l=n(159),f=n(40),m=n(205),j=n(136),O=n(156),h=n(137),g=n(168),v=n(169),E=n(100),S=n(150),w=n(140),y=n(184),I=n(64),x=n(75),D={dataInformationAnime:{},dataVideoPromo:[],dataEpisodesAnime:{},dataLargePicture:"",dataLargePictureList:[],isAddMode:null,malId:null,triggerFetch:null,dataRelatedAnime:[],pageRelated:1,isLoadingCharacter:null,isLoadingInfoAnime:null,isLoadingVideoAnime:null,isLoadingLargePicture:null,isLoadingEpisode:null,isLoadingRelated:null},N=new x.a(D),k=D,P={initialState:D,subscribe:function(e){return N.subscribe(e)},updateIsLoading:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"isLoadingCharacter";k=Object(a.a)(Object(a.a)({},k),{},Object(I.a)({},t,e)),N.next(k)},resetState:function(){k=Object(a.a)(Object(a.a)({},k),D),N.next(k)},currentState:function(){var e;return N.subscribe((function(t){return e=t})),e||D},updateData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:D;k=Object(a.a)(Object(a.a)({},k),e),N.next(k)}},L=n(129),R=P,C=function(e,t){return Object(r.a)(0).pipe(Object(b.a)((function(){R.updateIsLoading(!0,"isLoadingInfoAnime"),R.updateData({isAddMode:null})})),Object(l.a)(Object(o.a)((function(){return L.a.currentState()[e]&&L.a.currentState()[e].dataInfo}),Object(r.a)(0).pipe(Object(f.a)((function(){return L.a.currentState()[e].dataInfo}))),Object(r.a)(0).pipe(Object(m.a)(1500),Object(l.a)(Object(p.a)("https://api.jikan.moe/v4/".concat(t,"/").concat(e)).pipe(Object(j.a)("response","data"),Object(O.a)(1),Object(h.a)((function(e){return[404,500].includes(e.status)?Object(u.a)("404 error"):Object(s.a)(e)}))))))))},A=function(e,t){return Object(r.a)(0).pipe(Object(l.a)(Object(o.a)((function(){return L.a.currentState()[e]&&L.a.currentState()[e].themes}),Object(r.a)(0).pipe(Object(f.a)((function(){return L.a.currentState()[e].themes}))),Object(r.a)(0).pipe(Object(g.a)((function(){return"anime"===t})),Object(v.a)(Object(p.a)("https://api.jikan.moe/v4/".concat(t,"/").concat(e,"/themes")).pipe(Object(O.a)(6),Object(j.a)("response","data")))))))},M=function(e,t){return Object(r.a)(0).pipe(Object(l.a)(Object(o.a)((function(){return L.a.currentState()[e]&&L.a.currentState()[e].externals}),Object(r.a)(0).pipe(Object(f.a)((function(){return L.a.currentState()[e].externals}))),Object(r.a)(0).pipe(Object(m.a)(1500),Object(l.a)(Object(p.a)("https://api.jikan.moe/v4/".concat(t,"/").concat(e,"/external")).pipe(Object(O.a)(6),Object(j.a)("response","data")))))))},V=function(e,t){return Object(o.a)((function(){return L.a.currentState()[e]&&L.a.currentState()[e].dataVideoPromo}),Object(r.a)(0).pipe(Object(f.a)((function(){return L.a.currentState()[e].dataVideoPromo}))),Object(r.a)(0).pipe(Object(g.a)((function(){return"anime"===t})),Object(b.a)((function(){R.updateIsLoading(!0,"isLoadingVideoAnime")})),Object(m.a)(1500),Object(l.a)(Object(p.a)("https://api.jikan.moe/v4/anime/".concat(e,"/videos")).pipe(Object(O.a)(6),Object(j.a)("response","data")))))},F=function(e,t){return Object(r.a)(0).pipe(Object(g.a)((function(){return"anime"===t})),Object(b.a)((function(){R.updateIsLoading(!0,"isLoadingEpisode")})),Object(l.a)(Object(p.a)("/api/movies/".concat(e,"/episodes")).pipe(Object(j.a)("response"))),Object(E.a)((function(){return console.log("Don't have episodes"),Object(s.a)({error:"Don't have episodes"})})))};function _(e,t){return Object(r.a)(0).pipe(Object(b.a)((function(){document.body.style.backgroundImage="url(/background.jpg)",document.body.style.backgroundSize="cover",R.updateIsLoading(!0,"isLoadingLargePicture")})),Object(l.a)(Object(o.a)((function(){return L.a.currentState()[e]&&L.a.currentState()[e].dataLargePictureList}),Object(r.a)(0).pipe(Object(f.a)((function(){return L.a.currentState()[e].dataLargePictureList}))),Object(r.a)(0).pipe(Object(m.a)(1500),Object(l.a)(Object(p.a)("https://api.jikan.moe/v4/".concat(t,"/").concat(e,"/pictures")).pipe(Object(j.a)("response","data"),Object(O.a)(5),Object(f.a)((function(e){return{pictures:e.map((function(e){var t=e.jpg;return e.webp.large_image_url||t.large_image_url}))}}))))))))}var W=function(e,t){return Object(p.a)({url:"/api/movies/box/".concat(e),headers:{authorization:"Bearer ".concat(t)}}).pipe(Object(j.a)("response"),Object(E.a)((function(e){return Object(s.a)({error:e})})))};function U(e){return e=e.replace("_"," "),c()(e)}function T(e,t){return Object(r.a)(0).pipe(Object(b.a)((function(){R.updateIsLoading(!0,"isLoadingRelated")})),Object(m.a)(1500),Object(l.a)(Object(p.a)({url:"https://api.jikan.moe/v4/".concat(t,"/").concat(e,"/recommendations")}).pipe(Object(O.a)(6),Object(j.a)("response","data"),Object(E.a)((function(e){return Object(s.a)({error:e})})))))}function z(e,t){return Object(r.a)(0).pipe(Object(b.a)((function(){R.updateIsLoading(!0,"isLoadingCharacter")})),Object(l.a)(Object(o.a)((function(){return L.a.currentState()[e]&&L.a.currentState()[e].dataCharacter}),Object(r.a)(0).pipe(Object(f.a)((function(){return L.a.currentState()[e].dataCharacter}))),Object(r.a)(0).pipe(Object(l.a)(Object(p.a)("https://api.jikan.moe/v4/".concat(t,"/").concat(e,"/characters")).pipe(Object(O.a)(20),Object(j.a)("response","data"),Object(E.a)((function(e){return Object(s.a)({error:e})}))))))))}function B(e,t,n){return Object(r.a)(0).pipe(Object(S.a)(500),Object(w.a)((function(){return!0===n&&e.current})),Object(h.a)((function(){return Object(d.a)(e.current,"click").pipe(Object(w.a)((function(){return R.currentState().dataInformationAnime})),Object(y.a)((function(){return Object(p.a)({method:"POST",url:"/api/movies/box",headers:{authorization:"Bearer ".concat(t)},body:{malId:R.currentState().dataInformationAnime.mal_id,title:R.currentState().dataInformationAnime.title,imageUrl:R.currentState().dataLargePictureList[0],episodes:R.currentState().dataInformationAnime.episodes||"??",score:R.currentState().dataInformationAnime.score,airing:R.currentState().dataInformationAnime.airing,synopsis:R.currentState().dataInformationAnime.synopsis}}).pipe(Object(j.a)("response","message"),Object(f.a)((function(e){return Object(a.a)(Object(a.a)({},e),{},{typeResponse:"handle add box"})})),Object(E.a)((function(){R.updateData({triggerFetch:!R.currentState().triggerFetch})})))})))})))}function q(e,t,n,i){return Object(r.a)(0).pipe(Object(S.a)(500),Object(w.a)((function(){return!1===i&&e.current})),Object(h.a)((function(){return Object(d.a)(e.current,"click").pipe(Object(w.a)((function(){return R.currentState().dataInformationAnime})),Object(y.a)((function(){return Object(p.a)({method:"DELETE",url:"/api/movies/box/".concat(n),headers:{authorization:"Bearer ".concat(t)}}).pipe(Object(j.a)("response","message"),Object(f.a)((function(e){return Object(a.a)(Object(a.a)({},e),{},{typeResponse:"handle delete box"})})),Object(E.a)((function(){R.updateData({triggerFetch:!R.currentState().triggerFetch})})))})))})))}},170:function(e,t,n){"use strict";n.d(t,"d",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"a",(function(){return j})),n.d(t,"c",(function(){return O})),n.d(t,"b",(function(){return h}));var a=n(123),i=n(107),c=n(83),r=n(101),o=n(171),u=n(40),s=n(136),d=n(100),p=n(140),b=n(149),l=n(184),f=(n(185),n(137),n(173).a),m=function(e){e.disabled=!0;for(var t=arguments.length,n=new Array(t>1?t-1:0),c=1;c<t;c++)n[c-1]=arguments[c];return Object(a.a)(n.map((function(e){return Object(i.a)(e,"input")}))).pipe(Object(o.a)(),Object(u.a)((function(t){var n=!0,a=t.map((function(e){return 0===e.target.value.length&&(n=!1),e.target.value}));return e.disabled=!n,a})))},j=function(e){return Object(r.a)({url:"/api/theater",headers:{authorization:"Bearer ".concat(e)},method:"GET"}).pipe(Object(s.a)("response","message"),Object(d.a)((function(){return Object(c.a)([])})))},O=function(e,t,n,a){return Object(i.a)(e,"keyup").pipe(Object(p.a)((function(e){return 13===e.keyCode})),Object(b.a)((function(){return a(null)})),Object(s.a)("target","value"),Object(l.a)((function(e){return Object(r.a)({method:"POST",url:"/api/theater/".concat(t,"/join"),headers:{authorization:"Bearer ".concat(n)},body:{password:e}}).pipe(Object(d.a)((function(e){return a(e?e.response.error:null),Object(c.a)(null)})))})))},h=function(e,t){return Object(r.a)({url:"/api/theater/".concat(e,"/members"),headers:{authorization:"Bearer ".concat(t)}}).pipe(Object(s.a)("response","message"),Object(d.a)((function(){return Object(c.a)([])})))}},173:function(e,t,n){"use strict";n.d(t,"c",(function(){return d})),n.d(t,"f",(function(){return p})),n.d(t,"b",(function(){return b})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return f}));var a=n(30),i=n(75),c=n(209),r=new i.a,o={rooms:[],allowFetchRooms:!0,currentRoomDetail:null,isSignIn:!1,notifications:[],roomsLoginId:[],allowFetchCurrentRoomDetail:!0,usersOnline:[],modeRoom:1,userId:null,allowRemoveVideoWatch:!0,allowUserJoin:!0,unreadMessage:0,groupId:null,timePlayingVideo:0,videoUrl:null,isVideoCall:!1,isControlVideoWatching:!1,isReconnect:!1,isTriggerReconnect:!1,isVideoWatchPlaying:!1,peerId:null,isDisableReconnectButton:!1},u=o,s={initialState:o,socket:c.a.connect("/",{upgrade:!1,transports:["websocket"]}),subscribe:function(e){return r.subscribe(e)},currentState:function(){var e;return r.subscribe((function(t){return e=t})),e||o},init:function(){r.next(u)},updateData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:o;u=Object(a.a)(Object(a.a)({},u),e),r.next(u)}},d=function(e){u.allowFetchRooms=e},p=function(e){u.isSignIn=e},b=function(e){u.allowFetchCurrentRoomDetail=e},l=function(e){u.allowRemoveVideoWatch=e},f=function(e){u.allowUserJoin=e};t.a=s},188:function(e,t,n){"use strict";n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return j})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return h}));var a=n(26),i=n(107),c=n(123),r=n(142),o=n(83),u=n(101),s=n(136),d=n(185),p=n(171),b=n(40),l=n(169),f=n(100),m=n(189).a,j=function(e,t,n){n.disabled=!0;var r=Object(i.a)(t,"input").pipe(Object(s.a)("target","value"),Object(d.a)(m.currentState().currentName)),o=Object(i.a)(e,"input").pipe(Object(s.a)("target","innerText"),Object(d.a)(""));return Object(c.a)([r,o]).pipe(Object(p.a)(),Object(b.a)((function(e){var t=Object(a.a)(e,2),i=t[0];""===t[1].trim()||""===i.trim()?n.disabled=!0:n.disabled=!1})))},O=function(e){return Object(r.a)(0).pipe(Object(l.a)(Object(u.a)({url:"/api/movies/".concat(e,"?page=")+m.currentState().currentPage}).pipe(Object(b.a)((function(e){return e.response.message})),Object(f.a)((function(){return Object(o.a)([])})))))},h=function(e){var t=Math.floor((new Date-e)/1e3),n=t/31536e3;return n>1?Math.floor(n)+" years":(n=t/2592e3)>1?Math.floor(n)+" months":(n=t/86400)>1?Math.floor(n)+" days":(n=t/3600)>1?Math.floor(n)+" hours":(n=t/60)>1?Math.floor(n)+" minutes":1===Math.floor(t)?Math.floor(t)+" second":0===Math.floor(t)?"Recently":Math.floor(t)+" seconds"}},189:function(e,t,n){"use strict";n.d(t,"b",(function(){return s}));var a=n(30),i=n(75),c={messages:[],currentPage:1,numberCommentOfEachPage:5,indexInputDisplayBlock:null,malId:null,shouldFetchComment:!0,currentName:"",lastPageComment:1,triggerFetch:0},r=new i.a,o=c,u={initialState:c,subscribe:function(e){return r.subscribe((function(t){return e(t)}))},init:function(){r.next(o)},updateData:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c;o=Object(a.a)(Object(a.a)({},o),e),r.next(o)},currentState:function(){var e;return r.subscribe((function(t){e=t})),e||c},updateMessages:function(e,t){o=Object(a.a)(Object(a.a)({},o),{},{messages:e,lastPageComment:t}),r.next(o)},updateCurrentPage:function(e){o=Object(a.a)(Object(a.a)({},o),{},{currentPage:e}),r.next(o)}},s=function(e){o.currentName=e};t.a=u},205:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(2),i=n(53),c=n(134),r=n(5),o=n(155);function u(e,t){void 0===t&&(t=i.a);var n=Object(c.a)(e)?+e-t.now():Math.abs(e);return function(e){return e.lift(new s(n,t))}}var s=function(){function e(e,t){this.delay=e,this.scheduler=t}return e.prototype.call=function(e,t){return t.subscribe(new d(e,this.delay,this.scheduler))},e}(),d=function(e){function t(t,n,a){var i=e.call(this,t)||this;return i.delay=n,i.scheduler=a,i.queue=[],i.active=!1,i.errored=!1,i}return a.a(t,e),t.dispatch=function(e){for(var t=e.source,n=t.queue,a=e.scheduler,i=e.destination;n.length>0&&n[0].time-a.now()<=0;)n.shift().notification.observe(i);if(n.length>0){var c=Math.max(0,n[0].time-a.now());this.schedule(e,c)}else this.unsubscribe(),t.active=!1},t.prototype._schedule=function(e){this.active=!0,this.destination.add(e.schedule(t.dispatch,this.delay,{source:this,destination:this.destination,scheduler:e}))},t.prototype.scheduleNotification=function(e){if(!0!==this.errored){var t=this.scheduler,n=new p(t.now()+this.delay,e);this.queue.push(n),!1===this.active&&this._schedule(t)}},t.prototype._next=function(e){this.scheduleNotification(o.a.createNext(e))},t.prototype._error=function(e){this.errored=!0,this.queue=[],this.destination.error(e),this.unsubscribe()},t.prototype._complete=function(){this.scheduleNotification(o.a.createComplete()),this.unsubscribe()},t}(r.a),p=function(){return function(e,t){this.time=e,this.notification=t}}()},211:function(e,t,n){"use strict";n.d(t,"b",(function(){return f})),n.d(t,"a",(function(){return m}));var a=n(142),i=n(83),c=n(101),r=n(169),o=n(136),u=n(100),s=n(30),d=n(75),p={episodes:{},reviewsData:[],pageReviewsData:1,pageReviewsOnDestroy:null,isStopFetchingReviews:!1,shouldUpdatePageReviewData:!1,previousMalId:null,pageSplit:1,title:null,malId:null,imageUrl:null,switchVideo:!1},b=new d.a(p),l=p,f={initialState:p,currentState:function(){var e;return b.subscribe((function(t){return e=t})),e||p},subscribe:function(e){return b.subscribe((function(t){return e(t)}))},init:function(){b.next(l)},updateSwitchVideo:function(e){l=Object(s.a)(Object(s.a)({},l),{},{switchVideo:e}),b.next(l)},updateInfoPageWatch:function(e){l=Object(s.a)(Object(s.a)({},l),{},{malId:e}),b.next(l)},resetState:function(){l=Object(s.a)(Object(s.a)({},l),{},{episodes:{},malId:null}),b.next(l)},updateTitle:function(e){l=Object(s.a)(Object(s.a)({},l),{},{title:e}),b.next(l)},updateImageUrl:function(e){l=Object(s.a)(Object(s.a)({},l),{},{imageUrl:e}),b.next(l)},updatePageSplit:function(e){l=Object(s.a)(Object(s.a)({},l),{},{pageSplit:e}),b.next(l)},updateReviewsData:function(e){l=Object(s.a)(Object(s.a)({},l),{},{reviewsData:e}),b.next(l)},resetReviewsData:function(){l=Object(s.a)(Object(s.a)({},l),{},{reviewsData:[],pageReviewsData:1,pageSplit:1,isStopFetchingReviews:!1}),b.next(l)},updatePageReviewsOnDestroy:function(e){l=Object(s.a)(Object(s.a)({},l),{},{pageReviewsOnDestroy:e}),b.next(l)},allowUpdatePageReviewsData:function(e){l=Object(s.a)(Object(s.a)({},l),{},{shouldUpdatePageReviewData:e}),b.next(l)},updateIsStopFetching:function(e){l=Object(s.a)(Object(s.a)({},l),{},{isStopFetchingReviews:e}),b.next(l)},updatePageReview:function(e){l=Object(s.a)(Object(s.a)({},l),{},{pageReviewsData:e}),b.next(l)},updatePreviousMalId:function(e){l=Object(s.a)(Object(s.a)({},l),{},{previousMalId:e}),b.next(l)},updateEpisodes:function(e){l=Object(s.a)(Object(s.a)({},l),{},{episodes:Object(s.a)({},e)}),b.next(l)}},m=function(e){return Object(a.a)(0).pipe(Object(r.a)(Object(c.a)({url:"/api/movies/".concat(e,"/episodes")}).pipe(Object(o.a)("response","message"),Object(u.a)((function(){return Object(i.a)([])})))))}},251:function(e,t,n){},331:function(e,t,n){"use strict";n.r(t);var a=n(26),i=(n(251),n(7)),c=n(119),r=n(0),o=n.n(r),u=n(3),s=n(13),d=n(211),p=n(170),b=n(22),l=n(101),f=n(156),m=n(136),j=n(100),O=n(83),h=n(157),g=n(188),v=Object(i.a)((function(){return n.e(38).then(n.bind(null,281))})),E=Object(i.a)((function(){return Promise.all([n.e(4),n.e(39)]).then(n.bind(null,210))}),{fallback:o.a.createElement(c.a,{color:"secondary",size:"7rem",style:{margin:"1rem"}})}),S=Object(i.a)((function(){return n.e(59).then(n.bind(null,285))}),{fallback:o.a.createElement(c.a,{color:"inherit",size:"7rem",style:{margin:"1rem"}})});function w(e){var t=e.episodes,n=e.episode,a=e.malId,i=e.mode,c=e.modeDisplay;return o.a.createElement("div",{className:"list-episode-movie"},t&&t.map((function(e,t){return o.a.createElement(s.b,{className:"episode-link-movie".concat(e.episode==n&&i===c?" active-episode":""),to:"/anime/".concat(a,"/watch/").concat(e.episode,"/").concat(c),key:t},e.episode)})))}t.default=function(e){var t=e.match.params,n=t.malId,i=t.episode,c=t.mode,s=Object(u.f)(),y=Object(r.useState)(d.b.initialState),I=Object(a.a)(y,2),x=I[0],D=I[1],N=Object(r.useState)(!1),k=Object(a.a)(N,2),P=k[0],L=k[1],R=Object(r.useState)(!1),C=Object(a.a)(R,2),A=C[0],M=C[1],V=Object(r.useState)(!1),F=Object(a.a)(V,2),_=F[0],W=F[1],U=b.b.currentState();Object(r.useEffect)((function(){d.b.updateSwitchVideo(!1)}),[i,c]),Object(r.useEffect)((function(){var e=d.b.subscribe(D);return d.b.init(),"Eng"===c?M(!0):"EngDub"===c?W(!0):L(!0),window.scroll({top:0}),function(){e.unsubscribe()}}),[]),Object(r.useEffect)((function(){return x.title&&["Eng","vie","EngDub"].includes(c)&&i&&(document.title="Watch ".concat(x.title," Episode ").concat(i," ").concat("Eng"===c?"Eng Subbed":"vie"===c?"Vie Subbed":"Eng Dubbed"," on MyAnimeFun")),function(){document.title="My Anime Fun - Watch latest anime in high quality"}}),[i,n,x.title,c]),Object(r.useEffect)((function(){d.b.currentState().malId!==n&&(d.b.resetState(),g.a.updateData({messages:[],currentPage:1,lastPageComment:1}))}),[n]),Object(r.useEffect)((function(){var e,t;return U&&p.d.socket.emit("user-join-watch",n,U.username),h.a.currentState().malId===n&&h.a.currentState().dataLargePicture?(d.b.updateEpisodes(h.a.currentState().dataEpisodesAnime),d.b.updateTitle(h.a.currentState().dataInformationAnime.title),d.b.updateImageUrl(h.a.currentState().dataLargePicture),d.b.updateInfoPageWatch(n)):(e=Object(d.a)(n).subscribe((function(e){d.b.updateEpisodes(e),d.b.updateInfoPageWatch(n)})),t=function(e){return Object(l.a)("https://api.jikan.moe/v4/anime/"+e).pipe(Object(f.a)(10),Object(m.a)("response","data"),Object(j.a)((function(e){return Object(O.a)({error:e})})))}(n).subscribe((function(e){d.b.updateTitle(e.title),d.b.updateImageUrl(e.images.webp.image_url)}))),function(){t&&t.unsubscribe(),e&&e.unsubscribe()}}),[n]);var T={},z=[];"vie"===c?z=x.episodes.episodes:"Eng"===c?z=x.episodes.episodesEng:"EngDub"===c&&(z=x.episodes.episodesEngDub),z&&(T=z.find((function(e){return e.episode=parseFloat(e.episode),e.episode==i})));var B=0;return z&&(B=z.findIndex((function(e){return e.episode==i}))),o.a.createElement("div",{className:"container-episode-movie"},o.a.createElement("div",{className:"button-go-back",onClick:function(){s.push("/anime/"+n)}},o.a.createElement("i",{className:"fas fa-arrow-left"})),x.title&&["Eng","vie","EngDub"].includes(c)&&i&&o.a.createElement("h1",{className:"episode-page__title"},o.a.createElement("div",{className:"title-anime"},x.title),o.a.createElement("div",{className:"episode-sub-detail"},"Episode ",i," ","- ","Eng"===c?"English Subbed":"vie"===c?"Vietnamese Subbed":"English Dubbed")),o.a.createElement("div",{className:"wrapper-player-video"},o.a.createElement("div",{className:"wrapper-discuss-section"},o.a.createElement("h1",null,"CHAT"),o.a.createElement(E,{groupId:n,user:U})),o.a.createElement(S,{currentEpisode:T,user:U})),o.a.createElement("div",{className:"next-previous-episode-container"},B-1>-1&&o.a.createElement("div",{className:"previous-episode",onClick:function(){s.push("/anime/".concat(n,"/watch/").concat(z[B-1].episode,"/").concat(c))}},o.a.createElement("i",{className:"fas fa-chevron-left"}),o.a.createElement("i",{className:"fas fa-chevron-left"})," Watch episode"," ",z[B-1].episode),"Eng"===c&&x.episodes&&x.episodes.episodesEng&&B+1<x.episodes.episodesEng.length&&o.a.createElement("div",{className:"next-episode",onClick:function(){s.push("/anime/".concat(n,"/watch/").concat(z[B+1].episode,"/").concat(c))}},"Watch episode ",z[B+1].episode," ",o.a.createElement("i",{className:"fas fa-chevron-right"}),o.a.createElement("i",{className:"fas fa-chevron-right"})),"vie"===c&&x.episodes&&x.episodes.episodes&&B+1<x.episodes.episodes.length&&o.a.createElement("div",{className:"next-episode",onClick:function(){s.push("/anime/".concat(n,"/watch/").concat(z[B+1].episode,"/").concat(c))}},"Watch episode ",z[B+1].episode," ",o.a.createElement("i",{className:"fas fa-chevron-right"}),o.a.createElement("i",{className:"fas fa-chevron-right"})),"EngDub"===c&&x.episodes&&x.episodes.episodesEngDub&&B+1<x.episodes.episodesEngDub.length&&o.a.createElement("div",{className:"next-episode",onClick:function(){s.push("/anime/".concat(n,"/watch/").concat(z[B+1].episode,"/").concat(c))}},"Watch episode ",z[B+1].episode," ",o.a.createElement("i",{className:"fas fa-chevron-right"}),o.a.createElement("i",{className:"fas fa-chevron-right"}))),o.a.createElement("div",{className:"section-episodes-display"},x.episodes&&x.episodes.episodes&&x.episodes.episodes.length>0&&o.a.createElement("div",{className:"container-episode-display",style:{maxHeight:P?"100%":"100px"}},o.a.createElement("h1",{className:"title".concat(P?" title-active":""),onClick:function(){return L(!P)}},"Vietsub"),o.a.createElement(w,{episodes:"vie"===c?z:x.episodes.episodes,episode:i,malId:n,mode:c,modeDisplay:"vie"})),x.episodes&&x.episodes.episodesEng&&x.episodes.episodesEng.length>0&&o.a.createElement("div",{className:"container-episode-display",style:{maxHeight:A?"100%":"100px"}},o.a.createElement("h1",{className:"title".concat(A?" title-active":""),onClick:function(){return M(!A)}},"Engsub"),o.a.createElement(w,{episodes:"Eng"===c?z:x.episodes.episodesEng,episode:i,malId:n,mode:c,modeDisplay:"Eng"})),x.episodes&&x.episodes.episodesEngDub&&x.episodes.episodesEngDub.length>0&&o.a.createElement("div",{className:"container-episode-display",style:{maxHeight:_?"100%":"100px"}},o.a.createElement("h1",{className:"title".concat(_?" title-active":""),onClick:function(){return W(!_)}},"Engdub"),o.a.createElement(w,{episodes:"EngDub"===c?z:x.episodes.episodesEngDub,episode:i,malId:n,mode:c,modeDisplay:"EngDub"}))),o.a.createElement(v,{malId:n,user:U}))}}}]);
//# sourceMappingURL=32.29821ad7.chunk.js.map