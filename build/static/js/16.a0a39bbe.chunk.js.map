{"version":3,"sources":["../../../../src/internal/observable/from.ts","../../../../src/internal/util/isNumeric.ts","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../../src/internal/util/noop.ts","../../../../src/internal/scheduled/scheduled.ts","../../../../src/internal/util/isInteropObservable.ts","../../../../src/internal/scheduled/scheduleObservable.ts","../../../../src/internal/scheduled/schedulePromise.ts","../../../../src/internal/util/isIterable.ts","../../../../src/internal/scheduled/scheduleIterable.ts","../../../../src/internal/operators/pluck.ts","../../../../src/internal/operators/switchMap.ts","../../../../src/internal/operators/filter.ts","../../../../src/internal/observable/timer.ts","../../../../src/internal/operators/tap.ts","../../../../src/internal/operators/debounceTime.ts","../../../../src/internal/operators/switchMapTo.ts","store/storageAnime.js","components/CustomSelect/CustomSelect.js","components/CustomSelect2/CustomSelect2.js","components/FilterAnime/FilterAnime.js"],"names":["from","input","scheduler","Observable","isNumeric","val","_toConsumableArray","arr","Array","isArray","arrayLikeToArray","iter","Symbol","iterator","Object","unsupportedIterableToArray","TypeError","scheduled","isInteropObservable","subscriber","sub","add","schedule","observable","next","value","error","err","complete","Subscription","Symbol_iterator","done","result","_i","length","plucker","props","x","i","p","currentProp","undefined","switchMap","project","resultSelector","SwitchMapOperator","prototype","call","source","SwitchMapSubscriber","_super","destination","_this","tslib_1","index","_innerSub","innerSubscription","innerSubscriber","SimpleInnerSubscriber","innerSubscribe","_unsubscribe","notifyComplete","notifyNext","filter","predicate","thisArg","FilterOperator","FilterSubscriber","dueTime","period","Number","periodOrScheduler","async","dispatch","state","closed","tap","nextOrObserver","DoOperator","TapSubscriber","observerOrNext","noop","_tapComplete","_tapError","isFunction","_context","_tapNext","DebounceTimeOperator","DebounceTimeSubscriber","_next","clearDebounce","_complete","hasValue","lastValue","debouncedSubscription","Subscriber","switchMapTo","innerObservable","initialState","query","isLoading","maxPage","textSearch","dataAnime","type","limit","searchBy","q","page","score","min_score","max_score","status","rating","sfw","genres","themes","explicit_genres","demographics","genres_exclude","sort","letter","orderBy","producers","typeMangaOptionsList","statusMangaOptionsList","orderByMangaOptionsList","explicitGenresOptionsList","mal_id","name","demographicsOptionsList","typeOptionsList","statusOptionsList","ratingOptionsList","sortOptionsList","orderByCharacterOptionsList","orderByVoiceActorOptionsList","orderByOptionsList","genresDataOptionsList","themesDataOptionsList","behaviorSubject","BehaviorSubject","storageAnimeStore","subscribe","setState","v","currentState","ans","init","updateData","data","updateDataQuick","keys","forEach","key","CustomSelect","dataOptions","valueRef","label","triggerReset","defaultValue","setValue","defaultOption","customSelectRef","useRef","useEffect","current","className","ref","onChange","e","target","map","replace","CustomSelect2","searchByState","url","customSelectContainerRef","listSuggestionRef","isDoneFetchingRef","inputRef","useState","allSelectedOptions","setAllSelectedOptions","setMaxPage","setPage","dataSuggestions","setDataSuggestions","setTextSearch","activeIndex","setActiveIndex","triggerFetch","setTriggerFetch","searchByRef","pageRef","textSearchRef","match","RegExp","subscription","ajax","pipe","pluck","catchError","of","pagination","last_visible_page","unsubscribe","fromEvent","scrollHeight","scrollTop","debounceTime","style","display","subscription2","window","contains","scroll","top","subscription3","onClick","focus","placeholder","onKeyDown","preventDefault","startIndex","Math","round","document","querySelector","dispatchEvent","CustomEvent","children","slice","backgroundColor","allSelectedItemList","includes","FilterAnime","buttonFilterRef","history","useHistory","genresExcludeValueRef","producerValueRef","genresValueRef","themesValueRef","explicitGenresValueRef","demographicsValueRef","typeValueRef","statusValueRef","sortValueRef","ratingValueRef","orderByValueRef","letterRef","textRef","minScoreRef","maxScoreRef","sfwRef","setSearchByState","setTriggerReset","orderByState","setOrderByState","maxScoreState","setMaxScoreState","minScoreState","setMinScoreState","storageAnimeState","setStorageAnimeState","checked","timer","split","toString","subscriptionInit","producerMalIdListString","join","genresMalIdListString","genresExcludeMalIdListString","producer","genresExclude","maxScore","minScore","isSfw","push"],"mappings":"gHAAA,+DA6GE,SAAKA,EAAWC,EAAAC,G,OACd,EAMD,iBALGD,aAAaE,IACd,EAEF,0B,iCClHH,8CAOE,SAAQC,EAAYC,GACrB,8C,2FCJc,SAASC,EAAmBC,GACzC,OCJa,SAA4BA,GACzC,GAAIC,MAAMC,QAAQF,GAAM,OAAO,OAAAG,EAAA,GAAiBH,GDGzC,CAAkBA,IELZ,SAA0BI,GACvC,GAAsB,qBAAXC,QAA0BA,OAAOC,YAAYC,OAAOH,GAAO,OAAOH,MAAMR,KAAKW,GFIvD,CAAgBJ,IAAQ,OAAAQ,EAAA,GAA2BR,IGLvE,WACb,MAAM,IAAIS,UAAU,wIHIwE,K,+CIJ9F,mC,uICqBE,SAASC,EAAUhB,EAAAC,G,GACb,MAAJD,EAAI,C,GClBN,SAA6BA,GAC9B,qCDkBKiB,CAAO,GACR,OEnBH,SAAyBjB,EAAAC,G,OACvB,IAASC,KAAO,SAAcgB,GAC9B,IAAIC,EAAI,QASP,O,EARCC,IAAMnB,EAAUoB,UAA0B,WAC1C,IAAIC,EAAI,EAAW,O,EACjBF,IAAIE,YAAU,CACdC,KAAK,YAAQJ,EAAI,IAAIlB,EAAU,UAAS,WAAM,SAAW,KAAMuB,QAC/DC,eAAQC,GAAKP,EAAIC,IAAInB,EAAUoB,UAAS,WAAM,SAAWI,MAAAC,QACvDC,oBAAAR,6BAAA,gCAGL,KFQA,MACC,eAAO,GACR,OGtBH,SAAyBnB,EAAAC,G,OACvB,IAASC,KAAO,SAAcgB,GAC9B,IAAIC,EAAI,Q,SAEJC,IAAInB,EAAI,UAAU,W,OAChBD,QAAW,SAAYwB,GACvBL,EAAIC,IAAInB,EAAUoB,UAAS,WACzBH,UAENC,EAAGC,IAAAnB,uBAAA,+BAGF,SAACyB,GACGP,EAAI,IAAAlB,uBAAA,6B,KHSV,MACC,eAAO,GACR,wBACC,GI1BJ,SAAuBD,GACxB,qCJyBK,CAAO,IAAmC,kBAAXA,EAChC,OKzBH,SAAYA,EAAAC,G,IACV,EACD,2C,OAEC,IAASC,KAAO,SAAcgB,GAC9B,IACIN,EADAO,MAAsBS,IAgCzB,O,EA7BCR,KAAI,WACFR,GAAkB,oBAAAA,UACnBA,c,EAGDQ,MAAW,UAAM,WACjBR,EAAQ,EAASiB,O,EACfT,IAAInB,EAAUoB,UAAS,W,IACrBH,EAAO,O,CAGT,IAAIM,EACAM,E,IAEF,MAAQ,EAAa,OACrBN,EAAOO,EAAO,MACfD,SAAC,MACAJ,GAED,YADCR,EAAO,MAAAQ,GAGPI,EACDZ,cAECA,EAAK,KAAWM,GACjB,0BAIJ,KLZA,MAIJ,oE,iCMlCD,8CA6C4B,a,UAAA,0BAAuBQ,I,kBAEjD,IAAIC,EAAM,EAAQ,O,GACN,IAAVA,EACD,uDAEF,kD,SAGOC,EAASC,KAchB,OAbO,SAAeC,G,IACnB,MAAiBA,EACRC,EAAG,MAAeA,IAAM,CAC/B,IAAIC,EAAc,MAAb,EAAaC,aAAAC,E,QAChBF,MAGD,OAFAC,IAKH,Y,uGCiBF,SAAWE,EAAAC,EAAmBC,G,MACC,oBAAtBA,EAKR,iIAEF,qC,IAGCC,EAA4E,W,SAAxDA,EAAwDF,GAC3E,eAFH,O,EAKkBG,UAAUC,KAAI,WAAoBC,GACjD,2CACFH,EAN6E,GAatCI,WAA2BC,G,SAIjED,EAEEE,EAAMR,GADY,aAAwD,KAAAQ,IAAA,KAE3E,OANOC,UAAUT,E,UAMjB,EAPqC,OAItCU,MAAYH,G,EAMqB,4BAC/B,IAAMlB,EACFsB,e,IAEHtB,oBAAC,MACAN,GAED,YADC,iBAAOA,SAGV,mB,EAGO,UAAoB6B,UAAK,SAAkBvB,GACjD,IAAIwB,EAAmB,uBACrBA,GACDA,gBAED,IAAMC,EAAkB,IAACC,IAA4B,MACrD,EAAgB,iBAChBP,EAAK,IAAAM,GAIL,KAAID,kBAAKG,YAAsB,EAAiBF,GAC9C,yBAAqBA,GACtBN,+B,EAIM,+BACP,IAAIK,EAAkB,KAAIA,kBACxB,IAAMA,EAAY,QACnBN,iCAEF,oB,EAGM,UAAoBU,aAAU,WACpC,+B,EAGM,UAAoBC,eAAU,WACnC,KAAIL,uBAAgBf,EAClB,gBACDS,kC,EAIiBJ,UAAOgB,WAAY,YACtC,0BA3DqC,EAAAb,CAAA,M,qFChDtC,SAAOc,EAASC,EAAAC,G,OACd,SAAuBjB,GACvB,2B,IAIFkB,EAAoB,W,SAAAA,IAA+CD,GAC/C,iBACnB,eAHH,O,EAMW,UAAOlB,KAAc,WAAiBC,GAC9C,0DACFkB,EAPqB,GAcYC,WAAajB,G,SAI7CiB,EAGEhB,EAAMa,EAAYC,GAFA,kBAA+Cd,IAAA,KAGlE,OAFmBC,cAJpBA,UAAkBa,E,UAMjB,EAR+B,OAIhCZ,MAAYH,G,EASM,4BAChB,IAAIlB,E,IAEHA,mDAAC,MACAL,GAED,YADC,iBAAOD,MAAAC,GAGPK,GACD,0BAtB6B,EAAAmC,CAAA,M,iCC/ElC,uEAyDsB,eAA0BjE,QAG9B,IAAZkE,IACAA,EAAU,G,IAEbC,K,mBAAU,GACTA,EAASC,OAAG,GAAyB,IAAAA,UAGlC,YAAY,KACfpE,EAAYqE,GAGd,YAAW,KACTrE,EAAYsE,K,IAEPrE,KAAW,SAAUgB,GAE1B,MAAO,YAAU,GACfiD,GACC,UACF,uBACJd,QAAAe,SAAAlD,kB,SAYKsD,EAAUC,G,IACZpB,EAAOoB,QAAAL,WAAAlD,e,KACR,S,EAAgBwD,O,CAIZ,IAAc,IAAbN,EACF,OAAClD,EAAgB,W,wIC9BrB,SAAOyD,EAASC,EAAAnD,EAAoBE,G,OAClC,SAAuBoB,GACvB,6B,IAIF8B,EAAoB,W,SAAAA,MAAsDlD,GACtD,oBAAwBiD,EACxB,WAAQnD,EAC3B,gBAJH,O,EAMWoB,UAAOC,KAAU,SAAI5B,EAAc6B,GAC3C,2EACF8B,EAPqB,GAeSC,WAAa7B,G,SAS1C6B,EAII5B,EAAM6B,EAAYtD,EAYnBE,GAtBK,QAAiC,KAAK,KAAAuB,IAAA,KAsB3C,OApBKC,WAAS6B,IAET7B,YAAY6B,IAOhB7B,EAAK8B,aAAYD,IACjB7B,EAAK+B,UAAYzD,GAAG,IACpB0B,EAAI,aAAWxB,GAAiBqD,IAC9BG,YAAK,IACLhC,EAAKiC,SAAWjC,EACjBA,cACK4B,IACJ5B,EAAKiC,SAAWL,EAChB5B,EAAKkC,SAASN,EAAiBxD,MAAMyD,IACrC7B,EAAK+B,UAAYH,EAAG,OAAeC,IACpC7B,gCACF,EAzB0B,OAS7BC,MAAYH,G,EAmBN,4B,IAEH,oCAAC,MACAvB,GAED,YADC,iBAAOD,MAAAC,GAGV,0B,EAGK,6B,IAEH,qCAAC,MACAA,GAED,YADC,iBAAOD,MAAAC,GAGV,2B,EAGK,+B,IAEH,sCAAC,MACAA,GAED,YADC,iBAAOD,MAAAC,GAGV,oCAvD4B,EAAAoD,CAAA,M,6FC/BkB,gBAK/C,YAJQ,IAAR,IACD7E,OAGC,mBAAoB8C,EAAyB,SAAwBuC,EAAAnB,EAAAlE,K,MAAA,WACrE,SAACqF,EAAAnB,EAAAlE,GAED,eACE,eAAcA,EASsB,OAPxCqF,YAACxC,KAAA,wEAOuC,EAb+B,G,EAqB7D,SAAYG,G,SADAsC,EAAwBrC,OANpC,kBAAsCA,IAAK,KAWjD,OAVMC,UAASgB,EACThB,YAAoBlD,E,6BAM3BkD,iBAESA,cACHA,EAuCP,O,IA7C2BoC,EAAQtC,G,EAQjB,UAAKuC,kBACrB,KAAKC,gBACN,iBAES,iBACR,KAAKrE,IAAA,2BAAgB,+CAEvBmE,EAAC,UAAAG,UAAA,WAED,qBACE,KAAKxC,YAAAvB,Y,EAGK,wBAAmB,W,QAM3B8D,gBACA,KAAKE,SAAQ,CACb,IAAIC,EAAY,KAAKA,UACtB,oBACF,iBAEO,2B,EAIQ,wBAAuB,W,IACnCC,EAAsB,2BACI,OAA1BA,IACD,eACFA,gBACH,2BAAC,OAGC,EA3CQ,CA4CTC,K,mEChID,+CAsDE,SAAOC,EAAiBC,EAAUrD,GACnC,qF,qDCvDKsD,EAAe,CACnBC,MAAO,KACPC,WAAW,EACXC,QAAS,EACTC,WAAY,GACZC,UAAW,GACXC,KAAM,GACNC,MAAO,KACPC,SAAU,QACVC,EAAG,GACHC,KAAM,EACNC,MAAO,GACPC,UAAW,GACXC,UAAW,GACXC,OAAQ,GACRC,OAAQ,GACRC,IAAK,KACLC,OAAQ,GACRC,OAAQ,GACRC,gBAAiB,GACjBC,aAAc,GACdC,eAAgB,GAChBC,KAAM,MACNC,OAAQ,GACRC,QAAS,GACTC,UAAW,GACXC,qBAAsB,CACpB,QACA,QACA,aACA,UACA,SACA,SACA,UAEFC,uBAAwB,CACtB,aACA,WACA,SACA,eACA,YAEFC,wBAAyB,CACvB,SACA,QACA,aACA,WACA,WACA,UACA,QACA,YACA,OACA,aACA,UACA,aAEFC,0BAA2B,CACzB,CACEC,OAAQ,GACRC,KAAM,UAER,CACED,OAAQ,GACRC,KAAM,WAER,CACED,OAAQ,EACRC,KAAM,UAGVC,wBAAyB,CACvB,CACEF,OAAQ,GACRC,KAAM,WAER,CACED,OAAQ,GACRC,KAAM,UAER,CACED,OAAQ,GACRC,KAAM,UAER,CACED,OAAQ,GACRC,KAAM,QAER,CACED,OAAQ,GACRC,KAAM,UAGVE,gBAAiB,CAAC,KAAM,QAAS,MAAO,UAAW,MAAO,SAC1DC,kBAAmB,CAAC,SAAU,WAAY,YAC1CC,kBAAmB,CACjB,IACA,KACA,OACA,MACA,CAAEL,OAAQ,IAAKC,KAAM,MACrB,MAEFK,gBAAiB,CAAC,OAAQ,OAC1BC,4BAA6B,CAAC,SAAU,OAAQ,aAChDC,6BAA8B,CAAC,SAAU,OAAQ,YAAa,YAC9DC,mBAAoB,CAClB,SACA,QACA,OACA,SACA,aACA,WACA,WACA,QACA,YACA,OACA,aACA,UACA,aAEFC,sBAAuB,CACrB,CACEV,OAAQ,EACRC,KAAM,UAER,CACED,OAAQ,EACRC,KAAM,aAER,CACED,OAAQ,EACRC,KAAM,UAER,CACED,OAAQ,EACRC,KAAM,eAER,CACED,OAAQ,EACRC,KAAM,WAER,CACED,OAAQ,EACRC,KAAM,SAGR,CACED,OAAQ,GACRC,KAAM,WAGR,CACED,OAAQ,GACRC,KAAM,UAGR,CACED,OAAQ,GACRC,KAAM,SAER,CACED,OAAQ,GACRC,KAAM,SAER,CACED,OAAQ,GACRC,KAAM,WAER,CACED,OAAQ,GACRC,KAAM,UAGR,CACED,OAAQ,GACRC,KAAM,cAGR,CACED,OAAQ,GACRC,KAAM,aAER,CACED,OAAQ,GACRC,KAAM,UAER,CACED,OAAQ,GACRC,KAAM,iBAER,CACED,OAAQ,GACRC,KAAM,gBAER,CACED,OAAQ,GACRC,KAAM,YAER,CACED,OAAQ,GACRC,KAAM,UAER,CACED,OAAQ,GACRC,KAAM,iBAER,CACED,OAAQ,GACRC,KAAM,YAGR,CACED,OAAQ,GACRC,KAAM,iBAER,CACED,OAAQ,GACRC,KAAM,YAGVU,sBAAuB,CACrB,CACEX,OAAQ,GACRC,KAAM,cAER,CACED,OAAQ,GACRC,KAAM,mBAER,CACED,OAAQ,GACRC,KAAM,SAER,CACED,OAAQ,GACRC,KAAM,aAER,CACED,OAAQ,GACRC,KAAM,iBAER,CACED,OAAQ,GACRC,KAAM,iBAER,CACED,OAAQ,GACRC,KAAM,eAER,CACED,OAAQ,GACRC,KAAM,aAER,CACED,OAAQ,GACRC,KAAM,eAER,CACED,OAAQ,GACRC,KAAM,aAER,CACED,OAAQ,GACRC,KAAM,QAER,CACED,OAAQ,GACRC,KAAM,SAER,CACED,OAAQ,GACRC,KAAM,oBAER,CACED,OAAQ,GACRC,KAAM,cAER,CACED,OAAQ,GACRC,KAAM,kBAER,CACED,OAAQ,GACRC,KAAM,gBAER,CACED,OAAQ,GACRC,KAAM,UAER,CACED,OAAQ,GACRC,KAAM,aAER,CACED,OAAQ,GACRC,KAAM,gBAER,CACED,OAAQ,GACRC,KAAM,qBAER,CACED,OAAQ,GACRC,KAAM,gBAER,CACED,OAAQ,GACRC,KAAM,gBAER,CACED,OAAQ,GACRC,KAAM,SAER,CACED,OAAQ,GACRC,KAAM,WAER,CACED,OAAQ,GACRC,KAAM,YAER,CACED,OAAQ,GACRC,KAAM,SAER,CACED,OAAQ,EACRC,KAAM,aAER,CACED,OAAQ,GACRC,KAAM,mBAER,CACED,OAAQ,GACRC,KAAM,iBAER,CACED,OAAQ,GACRC,KAAM,UAER,CACED,OAAQ,GACRC,KAAM,mBAER,CACED,OAAQ,GACRC,KAAM,QAER,CACED,OAAQ,GACRC,KAAM,iBAER,CACED,OAAQ,EACRC,KAAM,UAER,CACED,OAAQ,GACRC,KAAM,iBAER,CACED,OAAQ,GACRC,KAAM,iBAER,CACED,OAAQ,GACRC,KAAM,oBAER,CACED,OAAQ,GACRC,KAAM,WAER,CACED,OAAQ,GACRC,KAAM,UAER,CACED,OAAQ,GACRC,KAAM,WAER,CACED,OAAQ,GACRC,KAAM,SAER,CACED,OAAQ,GACRC,KAAM,iBAER,CACED,OAAQ,GACRC,KAAM,eAER,CACED,OAAQ,GACRC,KAAM,YAER,CACED,OAAQ,GACRC,KAAM,e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","file":"static/js/16.a0a39bbe.chunk.js","sourcesContent":[null,null,"import arrayWithoutHoles from \"./arrayWithoutHoles\";\nimport iterableToArray from \"./iterableToArray\";\nimport unsupportedIterableToArray from \"./unsupportedIterableToArray\";\nimport nonIterableSpread from \"./nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","import arrayLikeToArray from \"./arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}",null,null,null,null,null,null,null,null,null,null,null,null,null,null,"import { BehaviorSubject } from \"rxjs\";\r\nconst initialState = {\r\n  query: null,\r\n  isLoading: true,\r\n  maxPage: 1,\r\n  textSearch: \"\",\r\n  dataAnime: [],\r\n  type: \"\",\r\n  limit: null,\r\n  searchBy: \"anime\",\r\n  q: \"\",\r\n  page: 1,\r\n  score: \"\",\r\n  min_score: \"\",\r\n  max_score: \"\",\r\n  status: \"\",\r\n  rating: \"\",\r\n  sfw: null,\r\n  genres: \"\",\r\n  themes: \"\",\r\n  explicit_genres: \"\",\r\n  demographics: \"\",\r\n  genres_exclude: \"\",\r\n  sort: \"asc\",\r\n  letter: \"\",\r\n  orderBy: \"\",\r\n  producers: \"\",\r\n  typeMangaOptionsList: [\r\n    \"manga\",\r\n    \"novel\",\r\n    \"lightnovel\",\r\n    \"oneshot\",\r\n    \"doujin\",\r\n    \"manhwa\",\r\n    \"manhua\",\r\n  ],\r\n  statusMangaOptionsList: [\r\n    \"publishing\",\r\n    \"complete\",\r\n    \"hiatus\",\r\n    \"discontinued\",\r\n    \"upcoming\",\r\n  ],\r\n  orderByMangaOptionsList: [\r\n    \"mal_id\",\r\n    \"title\",\r\n    \"start_date\",\r\n    \"end_date\",\r\n    \"chapters\",\r\n    \"volumes\",\r\n    \"score\",\r\n    \"scored_by\",\r\n    \"rank\",\r\n    \"popularity\",\r\n    \"members\",\r\n    \"favorites\",\r\n  ],\r\n  explicitGenresOptionsList: [\r\n    {\r\n      mal_id: 12,\r\n      name: \"Hentai\",\r\n    },\r\n    {\r\n      mal_id: 49,\r\n      name: \"Erotica\",\r\n    },\r\n    {\r\n      mal_id: 9,\r\n      name: \"Ecchi\",\r\n    },\r\n  ],\r\n  demographicsOptionsList: [\r\n    {\r\n      mal_id: 27,\r\n      name: \"Shounen\",\r\n    },\r\n    {\r\n      mal_id: 25,\r\n      name: \"Shoujo\",\r\n    },\r\n    {\r\n      mal_id: 42,\r\n      name: \"Seinen\",\r\n    },\r\n    {\r\n      mal_id: 15,\r\n      name: \"Kids\",\r\n    },\r\n    {\r\n      mal_id: 43,\r\n      name: \"Josei\",\r\n    },\r\n  ],\r\n  typeOptionsList: [\"tv\", \"movie\", \"ova\", \"special\", \"ona\", \"music\"],\r\n  statusOptionsList: [\"airing\", \"complete\", \"upcoming\"],\r\n  ratingOptionsList: [\r\n    \"g\",\r\n    \"pg\",\r\n    \"pg13\",\r\n    \"r17\",\r\n    { mal_id: \"r\", name: \"r+\" },\r\n    \"rx\",\r\n  ],\r\n  sortOptionsList: [\"desc\", \"asc\"],\r\n  orderByCharacterOptionsList: [\"mal_id\", \"name\", \"favorites\"],\r\n  orderByVoiceActorOptionsList: [\"mal_id\", \"name\", \"favorites\", \"birthday\"],\r\n  orderByOptionsList: [\r\n    \"mal_id\",\r\n    \"title\",\r\n    \"type\",\r\n    \"rating\",\r\n    \"start_date\",\r\n    \"end_date\",\r\n    \"episodes\",\r\n    \"score\",\r\n    \"scored_by\",\r\n    \"rank\",\r\n    \"popularity\",\r\n    \"members\",\r\n    \"favorites\",\r\n  ],\r\n  genresDataOptionsList: [\r\n    {\r\n      mal_id: 1,\r\n      name: \"Action\",\r\n    },\r\n    {\r\n      mal_id: 2,\r\n      name: \"Adventure\",\r\n    },\r\n    {\r\n      mal_id: 4,\r\n      name: \"Comedy\",\r\n    },\r\n    {\r\n      mal_id: 5,\r\n      name: \"Avant Garde\",\r\n    },\r\n    {\r\n      mal_id: 7,\r\n      name: \"Mystery\",\r\n    },\r\n    {\r\n      mal_id: 8,\r\n      name: \"Drama\",\r\n    },\r\n\r\n    {\r\n      mal_id: 10,\r\n      name: \"Fantasy\",\r\n    },\r\n\r\n    {\r\n      mal_id: 14,\r\n      name: \"Horror\",\r\n    },\r\n\r\n    {\r\n      mal_id: 18,\r\n      name: \"Mecha\",\r\n    },\r\n    {\r\n      mal_id: 19,\r\n      name: \"Music\",\r\n    },\r\n    {\r\n      mal_id: 22,\r\n      name: \"Romance\",\r\n    },\r\n    {\r\n      mal_id: 24,\r\n      name: \"Sci-Fi\",\r\n    },\r\n\r\n    {\r\n      mal_id: 26,\r\n      name: \"Girls Love\",\r\n    },\r\n\r\n    {\r\n      mal_id: 28,\r\n      name: \"Boys Love\",\r\n    },\r\n    {\r\n      mal_id: 30,\r\n      name: \"Sports\",\r\n    },\r\n    {\r\n      mal_id: 36,\r\n      name: \"Slice of Life\",\r\n    },\r\n    {\r\n      mal_id: 37,\r\n      name: \"Supernatural\",\r\n    },\r\n    {\r\n      mal_id: 38,\r\n      name: \"Military\",\r\n    },\r\n    {\r\n      mal_id: 39,\r\n      name: \"Police\",\r\n    },\r\n    {\r\n      mal_id: 40,\r\n      name: \"Psychological\",\r\n    },\r\n    {\r\n      mal_id: 41,\r\n      name: \"Suspense\",\r\n    },\r\n\r\n    {\r\n      mal_id: 46,\r\n      name: \"Award Winning\",\r\n    },\r\n    {\r\n      mal_id: 47,\r\n      name: \"Gourmet\",\r\n    },\r\n  ],\r\n  themesDataOptionsList: [\r\n    {\r\n      mal_id: 50,\r\n      name: \"Adult Cast\",\r\n    },\r\n    {\r\n      mal_id: 51,\r\n      name: \"Anthropomorphic\",\r\n    },\r\n    {\r\n      mal_id: 52,\r\n      name: \"CGDCT\",\r\n    },\r\n    {\r\n      mal_id: 53,\r\n      name: \"Childcare\",\r\n    },\r\n    {\r\n      mal_id: 54,\r\n      name: \"Combat Sports\",\r\n    },\r\n    {\r\n      mal_id: 81,\r\n      name: \"Crossdressing\",\r\n    },\r\n    {\r\n      mal_id: 55,\r\n      name: \"Delinquents\",\r\n    },\r\n    {\r\n      mal_id: 39,\r\n      name: \"Detective\",\r\n    },\r\n    {\r\n      mal_id: 56,\r\n      name: \"Educational\",\r\n    },\r\n    {\r\n      mal_id: 57,\r\n      name: \"Gag Humor\",\r\n    },\r\n    {\r\n      mal_id: 58,\r\n      name: \"Gore\",\r\n    },\r\n    {\r\n      mal_id: 35,\r\n      name: \"Harem\",\r\n    },\r\n    {\r\n      mal_id: 59,\r\n      name: \"High Stakes Game\",\r\n    },\r\n    {\r\n      mal_id: 13,\r\n      name: \"Historical\",\r\n    },\r\n    {\r\n      mal_id: 60,\r\n      name: \"Idols (Female)\",\r\n    },\r\n    {\r\n      mal_id: 61,\r\n      name: \"Idols (Male)\",\r\n    },\r\n    {\r\n      mal_id: 62,\r\n      name: \"Isekai\",\r\n    },\r\n    {\r\n      mal_id: 63,\r\n      name: \"Iyashikei\",\r\n    },\r\n    {\r\n      mal_id: 64,\r\n      name: \"Love Polygon\",\r\n    },\r\n    {\r\n      mal_id: 65,\r\n      name: \"Magical Sex Shift\",\r\n    },\r\n    {\r\n      mal_id: 66,\r\n      name: \"Mahou Shoujo\",\r\n    },\r\n    {\r\n      mal_id: 17,\r\n      name: \"Martial Arts\",\r\n    },\r\n    {\r\n      mal_id: 18,\r\n      name: \"Mecha\",\r\n    },\r\n    {\r\n      mal_id: 67,\r\n      name: \"Medical\",\r\n    },\r\n    {\r\n      mal_id: 38,\r\n      name: \"Military\",\r\n    },\r\n    {\r\n      mal_id: 19,\r\n      name: \"Music\",\r\n    },\r\n    {\r\n      mal_id: 6,\r\n      name: \"Mythology\",\r\n    },\r\n    {\r\n      mal_id: 68,\r\n      name: \"Organized Crime\",\r\n    },\r\n    {\r\n      mal_id: 69,\r\n      name: \"Otaku Culture\",\r\n    },\r\n    {\r\n      mal_id: 20,\r\n      name: \"Parody\",\r\n    },\r\n    {\r\n      mal_id: 70,\r\n      name: \"Performing Arts\",\r\n    },\r\n    {\r\n      mal_id: 71,\r\n      name: \"Pets\",\r\n    },\r\n    {\r\n      mal_id: 40,\r\n      name: \"Psychological\",\r\n    },\r\n    {\r\n      mal_id: 3,\r\n      name: \"Racing\",\r\n    },\r\n    {\r\n      mal_id: 72,\r\n      name: \"Reincarnation\",\r\n    },\r\n    {\r\n      mal_id: 73,\r\n      name: \"Reverse Harem\",\r\n    },\r\n    {\r\n      mal_id: 74,\r\n      name: \"Romantic Subtext\",\r\n    },\r\n    {\r\n      mal_id: 21,\r\n      name: \"Samurai\",\r\n    },\r\n    {\r\n      mal_id: 23,\r\n      name: \"School\",\r\n    },\r\n    {\r\n      mal_id: 75,\r\n      name: \"Showbiz\",\r\n    },\r\n    {\r\n      mal_id: 29,\r\n      name: \"Space\",\r\n    },\r\n    {\r\n      mal_id: 11,\r\n      name: \"Strategy Game\",\r\n    },\r\n    {\r\n      mal_id: 31,\r\n      name: \"Super Power\",\r\n    },\r\n    {\r\n      mal_id: 76,\r\n      name: \"Survival\",\r\n    },\r\n    {\r\n      mal_id: 77,\r\n      name: \"Team Sports\",\r\n    },\r\n    {\r\n      mal_id: 78,\r\n      name: \"Time Travel\",\r\n    },\r\n    {\r\n      mal_id: 32,\r\n      name: \"Vampire\",\r\n    },\r\n    {\r\n      mal_id: 79,\r\n      name: \"Video Game\",\r\n    },\r\n    {\r\n      mal_id: 80,\r\n      name: \"Visual Arts\",\r\n    },\r\n    {\r\n      mal_id: 48,\r\n      name: \"Workplace\",\r\n    },\r\n  ],\r\n};\r\nconst behaviorSubject = new BehaviorSubject(initialState);\r\n\r\nlet state = initialState;\r\n\r\nconst storageAnimeStore = {\r\n  initialState,\r\n  subscribe: (setState) => behaviorSubject.subscribe((v) => setState(v)),\r\n  currentState: () => {\r\n    let ans;\r\n    behaviorSubject.subscribe((v) => {\r\n      ans = v;\r\n    });\r\n    return ans || initialState;\r\n  },\r\n  init: () => {\r\n    behaviorSubject.next(state);\r\n  },\r\n  updateData: (data = initialState) => {\r\n    state = {\r\n      ...state,\r\n      ...data,\r\n    };\r\n    behaviorSubject.next(state);\r\n  },\r\n  updateDataQuick: (data = initialState) => {\r\n    const keys = Object.keys(data);\r\n    keys.forEach((key) => {\r\n      state[key] = data[key];\r\n    });\r\n  },\r\n};\r\n\r\nexport default storageAnimeStore;\r\n","import \"./CustomSelect.css\";\r\n\r\nimport React, { useEffect, useRef } from \"react\";\r\n\r\nconst CustomSelect = ({\r\n  dataOptions,\r\n  valueRef,\r\n  label,\r\n  triggerReset,\r\n  defaultValue,\r\n  setValue,\r\n  defaultOption,\r\n}) => {\r\n  const customSelectRef = useRef();\r\n  useEffect(() => {\r\n    customSelectRef.current.value = valueRef.current;\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [triggerReset]);\r\n  return (\r\n    <fieldset className=\"custom-select-container\">\r\n      <legend className=\"label-select\">{label}</legend>\r\n      <div className=\"custom-select-wrapper\">\r\n        <i className=\"fas fa-caret-down\"></i>\r\n        <select\r\n          ref={customSelectRef}\r\n          className=\"custom-select-list\"\r\n          onChange={(e) => {\r\n            if (setValue) setValue(e.target.value);\r\n            valueRef.current = e.target.value;\r\n          }}\r\n        >\r\n          {!defaultValue && (\r\n            <option value={\"\"}>{defaultOption || \"All\"}</option>\r\n          )}\r\n          {dataOptions.map((value) => (\r\n            <option key={value.mal_id || value} value={value.mal_id || value}>\r\n              {value.name\r\n                ? value.name.replace(/[_]/g, \" \")\r\n                : value.replace(/[_]/g, \" \")}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n    </fieldset>\r\n  );\r\n};\r\n\r\nexport default CustomSelect;\r\n","import \"./CustomSelect2.css\";\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { fromEvent, of } from \"rxjs\";\r\nimport { ajax } from \"rxjs/ajax\";\r\nimport { catchError, debounceTime, filter, pluck } from \"rxjs/operators\";\r\n\r\nconst CustomSelect2 = ({\r\n  dataOptions,\r\n  valueRef,\r\n  label,\r\n  triggerReset,\r\n  defaultValue,\r\n  searchByState,\r\n  url,\r\n}) => {\r\n  const customSelectContainerRef = useRef();\r\n  const listSuggestionRef = useRef();\r\n  const isDoneFetchingRef = useRef(false);\r\n  const inputRef = useRef();\r\n  const [allSelectedOptions, setAllSelectedOptions] = useState([]);\r\n  const [maxPage, setMaxPage] = useState([]);\r\n  const [page, setPage] = useState(1);\r\n  const [dataSuggestions, setDataSuggestions] = useState([]);\r\n  const [textSearch, setTextSearch] = useState(\"\");\r\n  const [activeIndex, setActiveIndex] = useState(0);\r\n  const [triggerFetch, setTriggerFetch] = useState(0);\r\n  const searchByRef = useRef();\r\n  const pageRef = useRef();\r\n  const textSearchRef = useRef();\r\n  useEffect(() => {\r\n    valueRef.current = defaultValue;\r\n    setAllSelectedOptions(defaultValue);\r\n    inputRef.current.value = \"\";\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [triggerReset]);\r\n  useEffect(() => {\r\n    if (!defaultValue) return;\r\n    setAllSelectedOptions(defaultValue);\r\n  }, [defaultValue]);\r\n  useEffect(() => {\r\n    if (!url) {\r\n      setActiveIndex(0);\r\n      setDataSuggestions(\r\n        dataOptions.filter((data) =>\r\n          data.name.match(new RegExp(textSearch, \"i\"))\r\n        )\r\n      );\r\n      return;\r\n    }\r\n    isDoneFetchingRef.current = false;\r\n    const subscription = ajax(\r\n      url + `?page=${page}` + (textSearch !== \"\" ? `&q=${textSearch}` : \"\")\r\n    )\r\n      .pipe(\r\n        pluck(\"response\"),\r\n        catchError((error) => of({ error }))\r\n      )\r\n      .subscribe((data) => {\r\n        isDoneFetchingRef.current = true;\r\n        if (data.error) return;\r\n        setMaxPage(data.pagination.last_visible_page);\r\n\r\n        if (\r\n          searchByRef.current !== searchByState ||\r\n          textSearchRef.current !== textSearch\r\n        ) {\r\n          setDataSuggestions([...data.data]);\r\n          setPage(1);\r\n          setActiveIndex(0);\r\n        }\r\n\r\n        if (pageRef.current !== page) {\r\n          setDataSuggestions([...dataSuggestions, ...data.data]);\r\n        }\r\n\r\n        pageRef.current = page;\r\n        textSearchRef.current = textSearch;\r\n        searchByRef.current = searchByState;\r\n      });\r\n    return () => {\r\n      subscription.unsubscribe();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchByState, textSearch, page, url, triggerFetch]);\r\n\r\n  useEffect(() => {\r\n    if (!url) return;\r\n    const subscription = fromEvent(listSuggestionRef.current, \"scroll\")\r\n      .pipe(\r\n        filter(\r\n          () =>\r\n            listSuggestionRef.current.scrollHeight -\r\n              listSuggestionRef.current.scrollTop <=\r\n              200 && isDoneFetchingRef.current === true\r\n        ),\r\n        debounceTime(300)\r\n      )\r\n      .subscribe(() => {\r\n        if (maxPage >= page + 1 && listSuggestionRef.current.scrollHeight)\r\n          setPage(page + 1);\r\n      });\r\n    return () => {\r\n      subscription.unsubscribe();\r\n    };\r\n  }, [maxPage, page, url]);\r\n\r\n  useEffect(() => {\r\n    const subscription = fromEvent(inputRef.current, \"focus\").subscribe(() => {\r\n      listSuggestionRef.current.style.display = \"block\";\r\n      setTriggerFetch(!triggerFetch);\r\n    });\r\n\r\n    const subscription2 = fromEvent(window, \"click\").subscribe((e) => {\r\n      if (customSelectContainerRef.current.contains(e.target)) return;\r\n      listSuggestionRef.current.scroll({\r\n        top: 0,\r\n      });\r\n      listSuggestionRef.current.style.display = \"none\";\r\n    });\r\n\r\n    const subscription3 = fromEvent(inputRef.current, \"input\")\r\n      .pipe(debounceTime(500))\r\n      .subscribe((e) => {\r\n        listSuggestionRef.current.style.display = \"block\";\r\n        setTextSearch(e.target.value);\r\n      });\r\n    return () => {\r\n      subscription.unsubscribe();\r\n      subscription2.unsubscribe();\r\n      subscription3.unsubscribe();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  valueRef.current = allSelectedOptions;\r\n  return (\r\n    <fieldset\r\n      className=\"custom-select2-container\"\r\n      ref={customSelectContainerRef}\r\n    >\r\n      <legend className=\"label-select2\">{label}</legend>\r\n      <div className=\"custom-select2-wrapper\">\r\n        <div\r\n          className=\"input-section-container\"\r\n          onClick={() => {\r\n            inputRef.current.focus();\r\n          }}\r\n        >\r\n          {allSelectedOptions.length > 0 && (\r\n            <div\r\n              className=\"all-options-selected\"\r\n              onClick={() => {\r\n                inputRef.current.focus();\r\n              }}\r\n            >\r\n              {allSelectedOptions.map((data, index) => (\r\n                <span\r\n                  key={index}\r\n                  onClick={() => {\r\n                    setAllSelectedOptions(\r\n                      allSelectedOptions.filter(\r\n                        ({ mal_id }) => mal_id !== data.mal_id\r\n                      )\r\n                    );\r\n                  }}\r\n                >\r\n                  <div className=\"one\"></div>\r\n                  <div className=\"two\"></div>\r\n                  {data.name}\r\n                </span>\r\n              ))}\r\n            </div>\r\n          )}\r\n          <input\r\n            placeholder=\"Click to add tags\"\r\n            ref={inputRef}\r\n            onKeyDown={(e) => {\r\n              if (e.key === \"Escape\") {\r\n                listSuggestionRef.current.style.display = \"block\";\r\n                e.preventDefault();\r\n                listSuggestionRef.current.scroll({\r\n                  top: 0,\r\n                });\r\n                listSuggestionRef.current.style.display = \"none\";\r\n                setActiveIndex(0);\r\n              }\r\n\r\n              if (e.key === \"ArrowUp\") {\r\n                listSuggestionRef.current.style.display = \"block\";\r\n                e.preventDefault();\r\n                if (activeIndex > 0) setActiveIndex(activeIndex - 1);\r\n                const startIndex = Math.round(\r\n                  listSuggestionRef.current.scrollTop / 35.2\r\n                );\r\n\r\n                if (activeIndex <= startIndex) {\r\n                  listSuggestionRef.current.scroll({\r\n                    top: (activeIndex - 1) * 35.2,\r\n                  });\r\n                }\r\n              }\r\n\r\n              if (e.key === \"ArrowDown\") {\r\n                listSuggestionRef.current.style.display = \"block\";\r\n                e.preventDefault();\r\n                // if (activeIndex === null) setActiveIndex(0);\r\n                if (activeIndex < dataSuggestions.length - 1)\r\n                  setActiveIndex(activeIndex + 1);\r\n                const startIndex = Math.round(\r\n                  listSuggestionRef.current.scrollTop / 35.2\r\n                );\r\n                const endIndex = startIndex + 3;\r\n                if (activeIndex > endIndex) {\r\n                  listSuggestionRef.current.scroll({\r\n                    top: (activeIndex - 3) * 35.2,\r\n                  });\r\n                }\r\n              }\r\n\r\n              if (e.key === \"Enter\") {\r\n                inputRef.current.value = \"\";\r\n                if (listSuggestionRef.current.style.display === \"none\") {\r\n                  const searchButton = document.querySelector(\r\n                    \".button-filter-anime\"\r\n                  );\r\n                  searchButton.dispatchEvent(new CustomEvent(\"click\"));\r\n                  return;\r\n                }\r\n                listSuggestionRef.current.style.display = \"none\";\r\n                setTextSearch(\"\");\r\n                if (!listSuggestionRef.current.children[activeIndex]) return;\r\n                if (\r\n                  listSuggestionRef.current.children[activeIndex].className !==\r\n                  \"active\"\r\n                )\r\n                  setAllSelectedOptions([\r\n                    ...allSelectedOptions,\r\n                    { ...dataSuggestions[activeIndex] },\r\n                  ]);\r\n                else\r\n                  setAllSelectedOptions(\r\n                    allSelectedOptions.filter(\r\n                      ({ mal_id }) =>\r\n                        mal_id !== dataSuggestions[activeIndex].mal_id\r\n                    )\r\n                  );\r\n              }\r\n\r\n              if (\r\n                e.key === \"Backspace\" &&\r\n                inputRef.current.value === \"\" &&\r\n                allSelectedOptions.length > 0\r\n              ) {\r\n                listSuggestionRef.current.style.display = \"block\";\r\n                inputRef.current.value =\r\n                  allSelectedOptions[allSelectedOptions.length - 1].name + \" \";\r\n                setAllSelectedOptions(\r\n                  allSelectedOptions.slice(0, allSelectedOptions.length - 1)\r\n                );\r\n              }\r\n            }}\r\n          />\r\n        </div>\r\n        <ul className=\"list-suggestion\" ref={listSuggestionRef}>\r\n          {dataSuggestions.length === 0 && <div>No Results</div>}\r\n          {dataSuggestions.map((data, index) => (\r\n            <li\r\n              style={{\r\n                backgroundColor:\r\n                  activeIndex === index ? \"rgb(110, 110, 110)\" : null,\r\n              }}\r\n              className={\r\n                checkIfActiveItem(allSelectedOptions, data.mal_id)\r\n                  ? \"active\"\r\n                  : \"\"\r\n              }\r\n              onClick={(e) => {\r\n                inputRef.current.focus();\r\n                inputRef.current.value = \"\";\r\n                listSuggestionRef.current.style.display = \"none\";\r\n                if (e.target.className !== \"active\")\r\n                  setAllSelectedOptions([...allSelectedOptions, { ...data }]);\r\n                else\r\n                  setAllSelectedOptions(\r\n                    allSelectedOptions.filter(\r\n                      ({ mal_id }) => mal_id !== data.mal_id\r\n                    )\r\n                  );\r\n              }}\r\n              key={index}\r\n            >\r\n              {data.name}\r\n            </li>\r\n          ))}\r\n        </ul>\r\n      </div>\r\n    </fieldset>\r\n  );\r\n};\r\n\r\nfunction checkIfActiveItem(allSelectedItemList, mal_id) {\r\n  return allSelectedItemList.map((data) => data.mal_id).includes(mal_id);\r\n}\r\n\r\nexport default CustomSelect2;\r\n","import \"./FilterAnime.css\";\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\nimport { fromEvent, timer } from \"rxjs\";\r\nimport { ajax } from \"rxjs/ajax\";\r\nimport { filter, pluck, switchMapTo, tap } from \"rxjs/operators\";\r\n\r\nimport storageAnimeStore from \"../../store/storageAnime\";\r\nimport CustomSelect from \"../CustomSelect/CustomSelect\";\r\nimport CustomSelect2 from \"../CustomSelect2/CustomSelect2\";\r\n\r\nconst FilterAnime = () => {\r\n  const buttonFilterRef = useRef();\r\n  const history = useHistory();\r\n\r\n  const genresExcludeValueRef = useRef([]);\r\n  const producerValueRef = useRef([]);\r\n  const genresValueRef = useRef([]);\r\n  const themesValueRef = useRef([]);\r\n  const explicitGenresValueRef = useRef([]);\r\n  const demographicsValueRef = useRef([]);\r\n\r\n  const typeValueRef = useRef(\"\");\r\n  const statusValueRef = useRef(\"\");\r\n  const sortValueRef = useRef(\"\");\r\n  const ratingValueRef = useRef(\"\");\r\n  const orderByValueRef = useRef(\"\");\r\n\r\n  const letterRef = useRef(\"\");\r\n  const textRef = useRef(\"\");\r\n  const minScoreRef = useRef(\"\");\r\n  const maxScoreRef = useRef(\"\");\r\n  const searchByRef = useRef(\"\");\r\n\r\n  const sfwRef = useRef(false);\r\n  const [searchByState, setSearchByState] = useState(\"anime\");\r\n  const [triggerReset, setTriggerReset] = useState(false);\r\n  const [orderByState, setOrderByState] = useState(\"\");\r\n  const [maxScoreState, setMaxScoreState] = useState(10);\r\n  const [minScoreState, setMinScoreState] = useState(0);\r\n\r\n  const [storageAnimeState, setStorageAnimeState] = useState(\r\n    storageAnimeStore.currentState()\r\n  );\r\n  useEffect(() => {\r\n    typeValueRef.current = \"\";\r\n    statusValueRef.current = \"\";\r\n    sortValueRef.current = \"asc\";\r\n    ratingValueRef.current = \"\";\r\n    orderByValueRef.current = \"\";\r\n    letterRef.current.value = \"\";\r\n    textRef.current.value = \"\";\r\n    minScoreRef.current = \"\";\r\n    maxScoreRef.current = \"\";\r\n    sfwRef.current && (sfwRef.current.checked = false);\r\n    producerValueRef.current = [];\r\n    genresValueRef.current = [];\r\n    genresExcludeValueRef.current = [];\r\n    explicitGenresValueRef.current = [];\r\n    themesValueRef.current = [];\r\n    demographicsValueRef.current = [];\r\n    setOrderByState(false);\r\n    setMinScoreState(0);\r\n    setMaxScoreState(10);\r\n    setTriggerReset(!triggerReset);\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [searchByState]);\r\n  useEffect(() => {\r\n    if (minScoreState === \"\") setMinScoreState(0);\r\n    if (maxScoreState === \"\") setMaxScoreState(10);\r\n  }, [minScoreState, maxScoreState]);\r\n  useEffect(() => {\r\n    const subscription = timer(0)\r\n      .pipe(\r\n        tap(() => {\r\n          ratingValueRef.current = storageAnimeState.rating;\r\n          statusValueRef.current = storageAnimeState.status;\r\n          typeValueRef.current = storageAnimeState.type;\r\n          sortValueRef.current = storageAnimeState.sort;\r\n          searchByRef.current = storageAnimeState.searchBy;\r\n          setSearchByState(searchByRef.current);\r\n          orderByValueRef.current = storageAnimeState.orderBy;\r\n          sfwRef.current &&\r\n            (sfwRef.current.checked = storageAnimeState.sfw === \"sfw\");\r\n          minScoreRef.current = storageAnimeState.min_score;\r\n          maxScoreRef.current = storageAnimeState.max_score;\r\n          setMinScoreState(storageAnimeState.min_score);\r\n          setMaxScoreState(storageAnimeState.max_score);\r\n          setOrderByState(storageAnimeState.orderBy);\r\n          letterRef.current &&\r\n            (letterRef.current.value = storageAnimeState.letter);\r\n          textRef.current && (textRef.current.value = storageAnimeState.q);\r\n          genresValueRef.current =\r\n            storageAnimeState.genresDataOptionsList.filter(({ mal_id }) =>\r\n              storageAnimeState.genres.split(\",\").includes(mal_id.toString())\r\n            );\r\n          themesValueRef.current =\r\n            storageAnimeState.themesDataOptionsList.filter(({ mal_id }) =>\r\n              storageAnimeState.themes.split(\",\").includes(mal_id.toString())\r\n            );\r\n          genresExcludeValueRef.current =\r\n            storageAnimeState.genresDataOptionsList.filter(({ mal_id }) =>\r\n              storageAnimeState.genres_exclude\r\n                .split(\",\")\r\n                .includes(mal_id.toString())\r\n            );\r\n          explicitGenresValueRef.current =\r\n            storageAnimeState.explicitGenresOptionsList.filter(({ mal_id }) =>\r\n              storageAnimeState.explicit_genres\r\n                .split(\",\")\r\n                .includes(mal_id.toString())\r\n            );\r\n          demographicsValueRef.current =\r\n            storageAnimeState.demographicsOptionsList.filter(({ mal_id }) =>\r\n              storageAnimeState.demographics\r\n                .split(\",\")\r\n                .includes(mal_id.toString())\r\n            );\r\n\r\n          if (!storageAnimeState.producers) setTriggerReset(!triggerReset);\r\n        }),\r\n        filter(() => storageAnimeState.producers),\r\n        switchMapTo(\r\n          ajax(\r\n            `/api/${\r\n              storageAnimeState.searchBy === \"anime\" ? \"producers\" : \"magazines\"\r\n            }/` + storageAnimeState.producers\r\n          ).pipe(pluck(\"response\", \"message\"))\r\n        )\r\n      )\r\n      .subscribe((data) => {\r\n        if (!data) return;\r\n        producerValueRef.current = data;\r\n        setTriggerReset(!triggerReset);\r\n      });\r\n    return () => {\r\n      subscription.unsubscribe();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [storageAnimeState]);\r\n\r\n  useEffect(() => {\r\n    const subscriptionInit = storageAnimeStore.subscribe(setStorageAnimeState);\r\n    const subscription = fromEvent(buttonFilterRef.current, \"click\").subscribe(\r\n      () => {\r\n        const producerMalIdListString = producerValueRef.current\r\n          ? producerValueRef.current.map(({ mal_id }) => mal_id).join(\",\")\r\n          : [];\r\n        const genresMalIdListString = [\r\n          ...genresValueRef.current,\r\n          ...themesValueRef.current,\r\n          ...demographicsValueRef.current,\r\n          ...explicitGenresValueRef.current,\r\n        ]\r\n          .map(({ mal_id }) => mal_id)\r\n          .join(\",\");\r\n        const genresExcludeMalIdListString = genresExcludeValueRef.current\r\n          .map(({ mal_id }) => mal_id)\r\n          .join(\",\");\r\n        const ans = {\r\n          page: 1,\r\n          q: textRef.current ? textRef.current.value : \"\",\r\n          sort: sortValueRef.current,\r\n          status: statusValueRef.current,\r\n          type: typeValueRef.current,\r\n          orderBy: orderByValueRef.current,\r\n          rating: ratingValueRef.current,\r\n          producer: producerMalIdListString,\r\n          genresExclude: genresExcludeMalIdListString,\r\n          genres: genresMalIdListString,\r\n          maxScore: maxScoreRef.current,\r\n          minScore: minScoreRef.current,\r\n          isSfw: sfwRef.current ? sfwRef.current.checked : \"\",\r\n          letter: letterRef.current ? letterRef.current.value : \"\",\r\n          searchBy: searchByRef.current,\r\n        };\r\n        const {\r\n          page,\r\n          genres,\r\n          genresExclude,\r\n          maxScore,\r\n          minScore,\r\n          orderBy,\r\n          producer,\r\n          q,\r\n          rating,\r\n          sort,\r\n          status,\r\n          type,\r\n          score,\r\n          letter,\r\n          isSfw,\r\n          searchBy,\r\n        } = ans;\r\n        history.push(\r\n          `/storage?page=${page}${searchBy !== \"anime\" ? `&${searchBy}` : \"\"}${\r\n            q ? `&q=${q.replace(/&/g, \"%26\")}` : \"\"\r\n          }${type ? `&type=${type}` : \"\"}${rating ? `&rating=${rating}` : \"\"}${\r\n            status ? `&status=${status}` : \"\"\r\n          }${orderBy ? `&order_by=${orderBy}` : \"\"}${\r\n            orderBy && sort ? `&sort=${sort}` : \"\"\r\n          }${score ? `&score=${score}` : \"\"}${\r\n            maxScore ? `&max_score=${maxScore}` : \"\"\r\n          }${minScore ? `&min_score=${minScore}` : \"\"}${isSfw ? `&sfw` : \"\"}${\r\n            genres ? `&genres=${genres}` : \"\"\r\n          }${genresExclude ? `&genres_exclude=${genresExclude}` : \"\"}${\r\n            searchBy === \"anime\"\r\n              ? producer\r\n                ? `&producers=${producer}`\r\n                : \"\"\r\n              : producer\r\n              ? `&magazines=${producer}`\r\n              : \"\"\r\n          }${letter ? `&letter=${letter.replace(/&/g, \"%26\")}` : \"\"}`\r\n        );\r\n      }\r\n    );\r\n    return () => {\r\n      subscription.unsubscribe();\r\n      subscriptionInit.unsubscribe();\r\n    };\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, []);\r\n  return (\r\n    <div className=\"filter-anime-container\">\r\n      <div className=\"filter-anime-wrapper\">\r\n        <h2 className=\"filter-anime-title\">Filter</h2>\r\n        <CustomSelect\r\n          label={\"Search by\"}\r\n          dataOptions={[\"anime\", \"characters\", \"people\", \"manga\"]}\r\n          valueRef={searchByRef}\r\n          defaultValue={searchByRef.current}\r\n          triggerReset={triggerReset}\r\n          setValue={setSearchByState}\r\n        />\r\n        <fieldset className=\"filter-anime-input-container\">\r\n          <legend className=\"label-select2\">Key</legend>\r\n          <div\r\n            className=\"input-section-container\"\r\n            onClick={() => {\r\n              textRef.current.focus();\r\n            }}\r\n          >\r\n            <input\r\n              ref={textRef}\r\n              placeholder={\"Search key\"}\r\n              onKeyDown={(e) => {\r\n                if (e.key === \"Enter\") {\r\n                  buttonFilterRef.current.dispatchEvent(\r\n                    new CustomEvent(\"click\")\r\n                  );\r\n                }\r\n              }}\r\n            />\r\n          </div>\r\n        </fieldset>\r\n\r\n        <fieldset className=\"filter-anime-input-container\">\r\n          <legend className=\"label-select2\">Entry</legend>\r\n          <div\r\n            className=\"input-section-container\"\r\n            onClick={() => {\r\n              letterRef.current.focus();\r\n            }}\r\n          >\r\n            <input\r\n              ref={letterRef}\r\n              placeholder={\"Search entry\"}\r\n              onKeyDown={(e) => {\r\n                if (e.key === \"Enter\") {\r\n                  buttonFilterRef.current.dispatchEvent(\r\n                    new CustomEvent(\"click\")\r\n                  );\r\n                }\r\n              }}\r\n            />\r\n          </div>\r\n        </fieldset>\r\n\r\n        {![\"characters\", \"people\"].includes(searchByState) && (\r\n          <CustomSelect2\r\n            searchByState={searchByState}\r\n            url={\r\n              searchByState === \"anime\"\r\n                ? \"https://api.jikan.moe/v4/producers\"\r\n                : \"https://api.jikan.moe/v4/magazines\"\r\n            }\r\n            valueRef={producerValueRef}\r\n            label={searchByState === \"anime\" ? \"Producers\" : \"Magazines\"}\r\n            triggerReset={triggerReset}\r\n            defaultValue={producerValueRef.current}\r\n          />\r\n        )}\r\n\r\n        {![\"characters\", \"people\"].includes(searchByState) && (\r\n          <CustomSelect2\r\n            dataOptions={storageAnimeStore.currentState().genresDataOptionsList}\r\n            label={\"Genres\"}\r\n            valueRef={genresValueRef}\r\n            triggerReset={triggerReset}\r\n            defaultValue={genresValueRef.current}\r\n          />\r\n        )}\r\n\r\n        {![\"characters\", \"people\"].includes(searchByState) && (\r\n          <CustomSelect2\r\n            dataOptions={storageAnimeStore.currentState().genresDataOptionsList}\r\n            label={\"Genres Exclude\"}\r\n            valueRef={genresExcludeValueRef}\r\n            triggerReset={triggerReset}\r\n            defaultValue={genresExcludeValueRef.current}\r\n          />\r\n        )}\r\n\r\n        {![\"characters\", \"people\"].includes(searchByState) && (\r\n          <CustomSelect2\r\n            dataOptions={storageAnimeStore.currentState().themesDataOptionsList}\r\n            label={\"Themes\"}\r\n            valueRef={themesValueRef}\r\n            triggerReset={triggerReset}\r\n            defaultValue={themesValueRef.current}\r\n          />\r\n        )}\r\n\r\n        {![\"characters\", \"people\"].includes(searchByState) && (\r\n          <CustomSelect2\r\n            dataOptions={\r\n              storageAnimeStore.currentState().demographicsOptionsList\r\n            }\r\n            label={\"Demographics\"}\r\n            valueRef={demographicsValueRef}\r\n            triggerReset={triggerReset}\r\n            defaultValue={demographicsValueRef.current}\r\n          />\r\n        )}\r\n\r\n        {![\"characters\", \"people\"].includes(searchByState) && (\r\n          <CustomSelect2\r\n            dataOptions={\r\n              storageAnimeStore.currentState().explicitGenresOptionsList\r\n            }\r\n            label={\"Explicit Genres\"}\r\n            valueRef={explicitGenresValueRef}\r\n            triggerReset={triggerReset}\r\n            defaultValue={explicitGenresValueRef.current}\r\n          />\r\n        )}\r\n\r\n        {![\"characters\", \"people\"].includes(searchByState) && (\r\n          <CustomSelect\r\n            dataOptions={\r\n              searchByState === \"anime\"\r\n                ? storageAnimeStore.currentState().typeOptionsList\r\n                : storageAnimeStore.currentState().typeMangaOptionsList\r\n            }\r\n            label={\"Type\"}\r\n            valueRef={typeValueRef}\r\n            triggerReset={triggerReset}\r\n          />\r\n        )}\r\n\r\n        {![\"characters\", \"people\"].includes(searchByState) && (\r\n          <CustomSelect\r\n            dataOptions={\r\n              searchByState === \"anime\"\r\n                ? storageAnimeStore.currentState().statusOptionsList\r\n                : storageAnimeStore.currentState().statusMangaOptionsList\r\n            }\r\n            label={\"Status\"}\r\n            valueRef={statusValueRef}\r\n            triggerReset={triggerReset}\r\n          />\r\n        )}\r\n\r\n        {![\"characters\", \"people\", \"manga\"].includes(searchByState) && (\r\n          <CustomSelect\r\n            dataOptions={storageAnimeStore.currentState().ratingOptionsList}\r\n            label={\"Rating\"}\r\n            valueRef={ratingValueRef}\r\n            triggerReset={triggerReset}\r\n          />\r\n        )}\r\n\r\n        {![\"characters\", \"people\"].includes(searchByState) && (\r\n          <CustomSelect\r\n            dataOptions={Array.from(Array(10).keys())\r\n              .map((key) => (key + 1).toString())\r\n              .slice(0, maxScoreState - 1)}\r\n            label={\"Min score\"}\r\n            valueRef={minScoreRef}\r\n            triggerReset={triggerReset}\r\n            setValue={setMinScoreState}\r\n            defaultOption={\"0\"}\r\n          />\r\n        )}\r\n\r\n        {![\"characters\", \"people\"].includes(searchByState) && (\r\n          <CustomSelect\r\n            dataOptions={Array.from(Array(9).keys())\r\n              .map((key) => (key + 1).toString())\r\n              .slice(minScoreState, 10)}\r\n            label={\"Max score\"}\r\n            valueRef={maxScoreRef}\r\n            triggerReset={triggerReset}\r\n            setValue={setMaxScoreState}\r\n            defaultOption={\"10\"}\r\n          />\r\n        )}\r\n\r\n        <fieldset className=\"custom-select-container\">\r\n          <CustomSelect\r\n            dataOptions={\r\n              \"characters\" === searchByState\r\n                ? storageAnimeStore.currentState().orderByCharacterOptionsList\r\n                : searchByState === \"people\"\r\n                ? storageAnimeStore.currentState().orderByVoiceActorOptionsList\r\n                : searchByState === \"anime\"\r\n                ? storageAnimeStore.currentState().orderByOptionsList\r\n                : storageAnimeStore.currentState().orderByMangaOptionsList\r\n            }\r\n            label={\"Order By\"}\r\n            valueRef={orderByValueRef}\r\n            triggerReset={triggerReset}\r\n            setValue={setOrderByState}\r\n          />\r\n          {orderByState && (\r\n            <CustomSelect\r\n              dataOptions={storageAnimeStore.currentState().sortOptionsList}\r\n              label={\"Sort\"}\r\n              valueRef={sortValueRef}\r\n              triggerReset={triggerReset}\r\n              defaultValue={sortValueRef.current}\r\n            />\r\n          )}\r\n        </fieldset>\r\n\r\n        {![\"characters\", \"people\"].includes(searchByState) && (\r\n          <fieldset className=\"fieldset-filter-button\">\r\n            <legend className=\"label-select\">Sfw</legend>\r\n            <input\r\n              className=\"filter-check-box\"\r\n              ref={sfwRef}\r\n              type={\"checkbox\"}\r\n            />\r\n          </fieldset>\r\n        )}\r\n\r\n        <fieldset className=\"fieldset-filter-button\">\r\n          <button className=\"button-filter-anime\" ref={buttonFilterRef}>\r\n            Search\r\n          </button>\r\n          <button\r\n            className=\"button-filter-anime\"\r\n            onClick={() => {\r\n              typeValueRef.current = \"\";\r\n              statusValueRef.current = \"\";\r\n              sortValueRef.current = \"asc\";\r\n              ratingValueRef.current = \"\";\r\n              orderByValueRef.current = \"\";\r\n              letterRef.current.value = \"\";\r\n              textRef.current.value = \"\";\r\n              minScoreRef.current = \"\";\r\n              maxScoreRef.current = \"\";\r\n              sfwRef.current && (sfwRef.current.checked = false);\r\n              producerValueRef.current = [];\r\n              genresExcludeValueRef.current = [];\r\n              genresValueRef.current = [];\r\n              setOrderByState(false);\r\n              setTriggerReset(!triggerReset);\r\n            }}\r\n          >\r\n            Reset\r\n          </button>\r\n        </fieldset>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default FilterAnime;\r\n"],"sourceRoot":""}