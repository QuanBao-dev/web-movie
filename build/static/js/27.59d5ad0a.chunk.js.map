{"version":3,"sources":["../../../../src/internal/observable/from.ts","../../../../src/internal/scheduled/scheduled.ts","../../../../src/internal/util/isInteropObservable.ts","../../../../src/internal/scheduled/scheduleObservable.ts","../../../../src/internal/scheduled/schedulePromise.ts","../../../../src/internal/util/isIterable.ts","../../../../src/internal/scheduled/scheduleIterable.ts","components/Input/Input.js","../../../../src/internal/observable/combineLatest.ts","../../../src/internal/OuterSubscriber.ts","../../../src/internal/InnerSubscriber.ts","../../../../src/internal/util/subscribeToResult.ts","../../../../src/internal/operators/combineAll.ts","store/home.js","epics/home.js","pages/Register/Register.js"],"names":["from","input","scheduler","Observable","scheduled","isInteropObservable","subscriber","sub","add","schedule","observable","next","value","error","err","complete","iterator","Subscription","Symbol_iterator","done","result","Input","label","type","defaultValue","onKeyUp","style","width","className","ref","required","_i","resultSelector","undefined","isScheduler","observables","isArray","CombineLatestOperator","call","source","CombineLatestSubscriber","_super","destination","_this","tslib_1","_next","values","push","NONE","_complete","len","active","toRespond","i","prototype","notifyComplete","notifyNext","oldVal","innerValue","OuterSubscriber","notifyError","InnerSubscriber","parent","outerValue","outerIndex","innerSubscriber","combineAll","project","initialState","isLoading","dataFilter","textSearch","dataCarousel","scrollTop","behaviorSubject","BehaviorSubject","state","stream","subscribe","setState","v","currentState","ans","init","screenWidth","window","innerWidth","updateData","data","updateDataQuick","keys","Object","forEach","key","validateFormSubmit$","inputEmail","inputPassword","inputUsername","buttonSubmit","disabled","email$","fromEvent","password$","username$","pipe","map","email","password","username","target","length","includes","validateFormSubmitLogin$","history","setEmailError","setPasswordError","setUsernameError","a","fetch","method","headers","body","JSON","stringify","res","json","resJson","Error","message","toLowerCase","Register","emailRef","useRef","passwordRef","submitRef","usernameRef","useHistory","useState","emailError","passwordError","usernameError","useEffect","subscription","current","unsubscribe","color","textAlign","onClick","submitForm"],"mappings":"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","file":"static/js/27.59d5ad0a.chunk.js","sourcesContent":[null,null,null,null,null,null,null,"import \"./Input.css\";\r\nimport React from \"react\";\r\n\r\nconst Input = ({\r\n  label,\r\n  input,\r\n  type,\r\n  error = null,\r\n  defaultValue = \"\",\r\n  onKeyUp,\r\n}) => {\r\n  return (\r\n    <div style={{ width: \"100%\" }}>\r\n      <div className=\"form-custom\">\r\n        <input\r\n          onKeyUp={onKeyUp}\r\n          defaultValue={defaultValue}\r\n          ref={input}\r\n          type={type || \"text\"}\r\n          required\r\n        />\r\n        <label className=\"label-name\">{label}</label>\r\n      </div>\r\n      {error && <div className=\"error-message\">{error}</div>}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Input;\r\n",null,null,null,null,null,"import { BehaviorSubject } from \"rxjs\";\r\nconst initialState = {\r\n  isLoading: true,\r\n  dataFilter: [],\r\n  textSearch: \"\",\r\n  dataCarousel: [],\r\n  scrollTop: 0,\r\n};\r\nconst behaviorSubject = new BehaviorSubject(initialState);\r\n\r\nlet state = initialState;\r\n\r\nconst homeStore = {\r\n  initialState,\r\n  subscribe: (setState) => behaviorSubject.subscribe((v) => setState(v)),\r\n  currentState: () => {\r\n    let ans;\r\n    behaviorSubject.subscribe((v) => {\r\n      ans = v;\r\n    });\r\n    return ans || initialState;\r\n  },\r\n  init: () => {\r\n    state = {\r\n      ...state,\r\n      screenWidth: window.innerWidth,\r\n    };\r\n    behaviorSubject.next(state);\r\n  },\r\n  updateData: (data = initialState) => {\r\n    state = {\r\n      ...state,\r\n      ...data,\r\n    };\r\n    behaviorSubject.next(state);\r\n  },\r\n  updateDataQuick: (data = initialState) => {\r\n    const keys = Object.keys(data);\r\n    keys.forEach((key) => {\r\n      state[key] = data[key];\r\n    });\r\n    behaviorSubject.next(state);\r\n  },\r\n};\r\n\r\nexport default homeStore;\r\n","import { from, fromEvent } from 'rxjs';\r\nimport { combineAll, map } from 'rxjs/operators';\r\n\r\nimport homeStore from '../store/home';\r\n\r\nexport const stream = homeStore;\r\n\r\nexport const validateFormSubmit$ = (\r\n  inputEmail,\r\n  inputPassword,\r\n  inputUsername,\r\n  buttonSubmit\r\n) => {\r\n  buttonSubmit.disabled = true;\r\n  const email$ = fromEvent(inputEmail, \"input\");\r\n  const password$ = fromEvent(inputPassword, \"input\");\r\n  const username$ = fromEvent(inputUsername, \"input\");\r\n  const source$ = from([email$, password$, username$]).pipe(combineAll());\r\n  return source$.pipe(\r\n    map(([email, password, username]) => {\r\n      if (\r\n        email.target.value.length < 6 ||\r\n        !email.target.value.includes(\"@\") ||\r\n        password.target.value.length < 6 ||\r\n        username.target.value.length < 6\r\n      ) {\r\n        buttonSubmit.disabled = true;\r\n      } else {\r\n        buttonSubmit.disabled = false;\r\n      }\r\n      return [email.target.value, password.target.value, username.target.value];\r\n    })\r\n  );\r\n};\r\n\r\nexport const validateFormSubmitLogin$ = (\r\n  inputEmail,\r\n  inputPassword,\r\n  buttonSubmit\r\n) => {\r\n  buttonSubmit.disabled = true;\r\n  const email$ = fromEvent(inputEmail, \"input\");\r\n  const password$ = fromEvent(inputPassword, \"input\");\r\n  const source$ = from([email$, password$]).pipe(combineAll());\r\n  return source$.pipe(\r\n    map(([email, password]) => {\r\n      if (\r\n        email.target.value.length < 6 ||\r\n        !email.target.value.includes(\"@\") ||\r\n        password.target.value.length < 6\r\n      ) {\r\n        buttonSubmit.disabled = true;\r\n      } else {\r\n        buttonSubmit.disabled = false;\r\n      }\r\n      return [email.target.value, password.target.value];\r\n    })\r\n  );\r\n};","import \"./Register.css\";\r\n\r\nimport React, { useEffect, useRef, useState } from \"react\";\r\nimport { useHistory } from \"react-router-dom\";\r\n\r\nimport Input from \"../../components/Input/Input\";\r\nimport { validateFormSubmit$ } from \"../../epics/home\";\r\n\r\nconst Register = () => {\r\n  // eslint-disable-next-line no-unused-vars\r\n  const emailRef = useRef();\r\n  const passwordRef = useRef();\r\n  const submitRef = useRef();\r\n  const usernameRef = useRef();\r\n  const history = useHistory();\r\n  const [emailError, setEmailError] = useState(null);\r\n  const [passwordError, setPasswordError] = useState(null);\r\n  const [usernameError, setUsernameError] = useState(null);\r\n  useEffect(() => {\r\n    const subscription = validateFormSubmit$(\r\n      emailRef.current,\r\n      passwordRef.current,\r\n      usernameRef.current,\r\n      submitRef.current\r\n    ).subscribe();\r\n    return () => {\r\n      subscription.unsubscribe();\r\n    };\r\n  }, []);\r\n  return (\r\n    <div className=\"container-background-form\">\r\n      <div className=\"form-register\">\r\n        <h1 style={{ color: \"white\", textAlign: \"center\" }}>Register</h1>\r\n        <Input label=\"Email\" input={emailRef} error={emailError} />\r\n        <Input\r\n          label=\"Password\"\r\n          input={passwordRef}\r\n          type=\"password\"\r\n          error={passwordError}\r\n        />\r\n        <Input label=\"Username\" input={usernameRef} error={usernameError} />\r\n        <button\r\n          className=\"btn btn-primary button-right\"\r\n          type=\"submit\"\r\n          ref={submitRef}\r\n          onClick={() => {\r\n            submitForm(\r\n              emailRef.current.value,\r\n              passwordRef.current.value,\r\n              usernameRef.current.value,\r\n              history,\r\n              setEmailError,\r\n              setPasswordError,\r\n              setUsernameError\r\n            );\r\n          }}\r\n        >\r\n          Submit\r\n        </button>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nasync function submitForm(\r\n  email,\r\n  password,\r\n  username,\r\n  history,\r\n  setEmailError,\r\n  setPasswordError,\r\n  setUsernameError\r\n) {\r\n  try {\r\n    setEmailError(null);\r\n    setPasswordError(null);\r\n    setUsernameError(null);\r\n    const res = await fetch(\"/api/users/register\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({\r\n        email,\r\n        password,\r\n        username,\r\n      }),\r\n    });\r\n    const resJson = await res.json();\r\n    if (resJson.error) throw Error(resJson.error);\r\n    // console.log(resJson);\r\n    history.push(\"/auth/login\");\r\n  } catch (error) {\r\n    // alert(error.response.data.error);\r\n    // console.log(email,password);\r\n    if (error.message.toLowerCase().includes(\"email\")) {\r\n      setEmailError(error.message);\r\n    } else {\r\n      setEmailError(null);\r\n    }\r\n    if (error.message.toLowerCase().includes(\"password\")) {\r\n      setPasswordError(error.message);\r\n    } else {\r\n      setPasswordError(null);\r\n    }\r\n    if (error.message.toLowerCase().includes(\"username\")) {\r\n      setUsernameError(error.message);\r\n    } else {\r\n      setUsernameError(null);\r\n    }\r\n  }\r\n}\r\n\r\nexport default Register;\r\n"],"sourceRoot":""}